–ù–∏–∂–µ –∑–∞–¥–∞–º –ø–æ–¥—Ä–æ–±–Ω—ã–π, –Ω–æ –ø–æ—ç—Ç–∞–ø–Ω—ã–π –ø–ª–∞–Ω: –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ SM‚Äë–ø–æ–¥–æ–±–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ + –ø—Ä–æ—Ç–æ—Ç–∏–ø –∫–≤–∞–Ω—Ç–æ–≤–æ–π –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è) –¥–æ **–ø–æ–ª–Ω–æ–≥–æ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞**, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞ –≤—ã—Ö–æ–¥–µ –≤—ã–¥–∞–µ—Ç –∑–∞–∫–æ–Ω—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º –∑–∞–∫–æ–Ω–∞–º –Ω–∞—à–µ–≥–æ –º–∏—Ä–∞ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è.

–Ø —Ä–∞–∑–æ–±—å—é –ø–ª–∞–Ω –Ω–∞ —É—Ä–æ–≤–Ω–∏. –í —ç—Ç–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ ‚Äî –æ–±—â–∞—è –∫–∞—Ä—Ç–∞ + –ø–µ—Ä–≤—ã–µ –¥–≤–∞ —É—Ä–æ–≤–Ω—è, –∑–∞—Ç–µ–º –º–æ–∂–Ω–æ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.

---

# –£—Ä–æ–≤–Ω–∏ –ø—Ä–æ–µ–∫—Ç–∞

0. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å ¬´—è–¥—Ä–æ¬ª –º–∏–∫—Ä–æ–¥–∏–Ω–∞–º–∏–∫–∏ (—Ç–æ, —á—Ç–æ —É–∂–µ –µ—Å—Ç—å).
1. –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –º–æ–¥–µ–ª—å Œ©‚Äë—Ü–∏–∫–ª–æ–≤ (—á–∞—Å—Ç–∏—Ü) –∏ –∑–∞—Ä—è–¥–æ–≤.
2. –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—É—é –ø–æ–ª–µ–≤—É—é —Ç–µ–æ—Ä–∏—é œï(x,t) + –¥–µ—Ñ–µ–∫—Ç—ã –Ω–∞ –Ω–µ–π.
3. –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è Œ†_obs –∏ –º–æ–¥–µ–ª—å –∏–∑–º–µ—Ä–µ–Ω–∏—è.
4. –í—à–∏—Ç—å —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –∑–∞–∫–æ–Ω–æ–≤ (RULESET) –≤ –∫–æ–Ω—Ç—É—Ä–µ: ¬´—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ ‚Üí –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –∑–∞–∫–æ–Ω—ã¬ª.
5. –ö–∞–ª–∏–±—Ä–æ–≤–∞—Ç—å –∏ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å, –ø—Ä–∏–±–ª–∏–∂–∞—è –∫ –∏–∑–≤–µ—Å—Ç–Ω–æ–π —Ñ–∏–∑–∏–∫–µ (SM+GR).

---

## –£—Ä–æ–≤–µ–Ω—å 0. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–µ–µ —è–¥—Ä–æ

–ò–∑ [sm_evolutionary_search.pdf](/files/jkWjgeXqCl_bIS8ZxQn9m) –∏ [quantum_gravity_observer.pdf](/files/Ds3BiBOeVSzRwNaWKbr_e):

- ¬´—è–¥—Ä–æ¬ª –ø—Ä–∞–≤–∏–ª:

  ```python
  SM_RULES = RuleSet([
      Rule(name="charge_swap",      pattern=[ 1,  1, -1], replacement=[-1,  1,  1]),
      Rule(name="charge_swap_inv",  pattern=[-1,  1,  1], replacement=[ 1,  1, -1]),
      Rule(name="stabilizer",       pattern=[ 1,  1,  1], replacement=[ 1,  1,  1]),
  ])
  ```

- –≠—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞:
  - –ª–æ–∫–∞–ª—å–Ω—ã (–æ–∫–Ω–æ –∏–∑ 3 —É–∑–ª–æ–≤),
  - –æ–±—Ä–∞—Ç–∏–º—ã (–¥–≤–µ –≤–∑–∞–∏–º–Ω—ã–µ –∏–Ω–≤–æ–ª—é—Ü–∏–∏ + —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä),
  - –ø–æ—Ä–æ–∂–¥–∞—é—Ç –±–æ–≥–∞—Ç—ã–π —Å–ø–µ–∫—Ç—Ä Œ©‚Äë—Ü–∏–∫–ª–æ–≤ (671 —Ü–∏–∫–ª–æ–≤, –ø–µ—Ä–∏–æ–¥—ã –æ—Ç 2 –¥–æ 36).

**–®–∞–≥ 0.1.** –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –∫–∞–∫ *–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ RSL‚Äë—è–¥—Ä–æ*:

- –ú–∏–∫—Ä–æ—Å–æ—Å—Ç–æ—è–Ω–∏–µ:
  ```text
  S(t): [L0: s0 | s1 | ... | s_{N-1} ],  s_i ‚àà {+1,-1}
  ```
- –ú–∏–∫—Ä–æ–¥–∏–Ω–∞–º–∏–∫–∞:
  - —ç–≤–æ–ª—é—Ü–∏—è –∑–∞ –æ–¥–∏–Ω —à–∞–≥: –ø—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ SM_RULES –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ö–µ–º–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ, –±–µ–∑ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è).

---

## –£—Ä–æ–≤–µ–Ω—å 1. –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –º–æ–¥–µ–ª—å Œ©‚Äë—Ü–∏–∫–ª–æ–≤

### 1.1. –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ç–µ–∫—Ç–æ—Ä Œ©‚Äë—Ü–∏–∫–ª–æ–≤

–£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å `CycleDetector` –≤ `world.omega.cycles`. –ù—É–∂–Ω–æ:

1. **–Ø–≤–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å Œ©‚Äë—Ü–∏–∫–ª**:

   - –ø–∞—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ü–∏–∫–ª –¥–ª–∏–Ω—ã p:

     \[
     Œ©: S_0 \to S_1 \to \dots \to S_{p-1} \to S_0
     \]

   - —Å —É—Å–ª–æ–≤–∏–µ–º –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏:
     - –ø–∞—Ç—Ç–µ—Ä–Ω –æ—Ç–ª–∏—á–∏–π –æ—Ç –≤–∞–∫—É—É–º–∞ (–Ω–∞–ø—Ä. `+++...+`) –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –æ–∫–Ω–æ–º –¥–ª–∏–Ω–æ–π L_Œ©.

2. –í–≤–µ—Å—Ç–∏ –∫–ª–∞—Å—Å:

   ```python
   @dataclass
   class OmegaCycle:
       period: int
       support_indices: List[int]    # –≥–¥–µ –¥–µ—Ñ–µ–∫—Ç –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω
       pattern_sequence: List[np.ndarray]  # S_0,..,S_{p-1} –ª–æ–∫–∞–ª—å–Ω–æ
   ```

3. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å **—ç–Ω–µ—Ä–≥–∏—é —è–¥—Ä–∞**:

   - –º–∏–∫—Ä–æ—ÇENSION:

     ```python
     def H_micro(S):
         # J = 1
         return sum(1 for i in range(N-1) if S[i] != S[i+1])
     ```

   - —ç–Ω–µ—Ä–≥–∏—è —è–¥—Ä–∞ —Ü–∏–∫–ª–∞:

     ```python
     H_core(Œ©) = (1/p) * sum(H_micro(S_k) - H_micro(vacuum))  # –ø–æ k=0..p-1
     ```

4. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å ¬´–º–∞—Å—Å—É¬ª Œ©‚Äë—á–∞—Å—Ç–∏—Ü—ã:

   - –≤ –º–æ–¥–µ–ª—å–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü–∞—Ö:

     ```python
     mass(Œ©) = H_core(Œ©)
     ```

   –∏–ª–∏, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ ¬´—á–∞—Å—Ç–æ—Ç—É¬ª:

   ```python
   œâ0 = 2œÄ / period
   mass ~ œâ0  # –∏–ª–∏ Œ± * œâ0
   ```

**–ó–∞–¥–∞—á–∞:** —Å–æ–±—Ä–∞—Ç—å **–∫–∞—Ç–∞–ª–æ–≥ Œ©‚Äë—Ü–∏–∫–ª–æ–≤** (—Ç–∏–ø ‚Äì –ø–µ—Ä–∏–æ–¥ ‚Äì H_core ‚Äì –ø—Ä–æ—Ñ–∏–ª—å).

---

### 1.2. –í–≤–µ—Å—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞—Ä—è–¥–æ–≤ (–∫–∞–∫ –≤—ã –ø—Ä–µ–¥–ª–æ–∂–∏–ª–∏)

–ö–∞–∂–¥–æ–º—É Œ©‚Äë—Ü–∏–∫–ª—É (—Ç–∏–ø—É) –ø—Ä–∏–ø–∏—Å–∞—Ç—å:

- –¶–≤–µ—Ç: C ‚àà {0,1,2} (r,g,b)
- –≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π –∑–∞—Ä—è–¥: Q ‚àà {‚àí1, ‚àí2/3, ‚àí1/3, 0, +1/3, +2/3, +1}
- –°–ª–∞–±—ã–π –∏–∑–æ—Å–ø–∏–Ω: I3 ‚àà {‚àí1/2, 0, +1/2}
- –ë–∞—Ä–∏–æ–Ω–Ω–æ–µ —á–∏—Å–ª–æ: B ‚àà {0, 1/3}
- –õ–µ–ø—Ç–æ–Ω–Ω–æ–µ —á–∏—Å–ª–æ: L ‚àà {0, 1}

**–ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∏—Å–≤–æ–µ–Ω–∏—è (–ø–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è):**

1. –î–ª—è –∫–∞–∂–¥–æ–π –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–æ–π –æ—Ä–±–∏—Ç—ã Œ©:

   - –≤–∑—è—Ç—å –µ—ë –ø–µ—Ä–∏–æ–¥ p,
   - —ç–Ω–µ—Ä–≥–∏—é H_core,
   - —Ñ–æ—Ä–º—É –ø–∞—Ç—Ç–µ—Ä–Ω–∞.

2. –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º –≤ ¬´—Å–µ–º–µ–π—Å—Ç–≤–∞¬ª:

   - –∫–æ—Ä–æ—Ç–∫–∏–µ –ø–µ—Ä–∏–æ–¥—ã ‚Üí ¬´–ª—ë–≥–∫–∏–µ¬ª —á–∞—Å—Ç–∏—Ü—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–µ–ø—Ç–æ–Ω—ã),
   - —Å—Ä–µ–¥–Ω–∏–µ ‚Üí ¬´–∫–≤–∞—Ä–∫–æ–ø–æ–¥–æ–±–Ω—ã–µ¬ª,
   - –¥–ª–∏–Ω–Ω—ã–µ ‚Üí ¬´—Ä–µ–∑–æ–Ω–∞–Ω—Å—ã¬ª.

3. –†—É—á–Ω—ã–º (–ø–æ–∫–∞) –º–∞–ø–ø–∏–Ω–≥–æ–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤:

   - Œ© —Å –ø–µ—Ä–∏–æ–¥–æ–º p‚âà2‚Äì4 ‚Üí ¬´–Ω–µ–π—Ç—Ä–∏–Ω–æ/—ç–ª–µ–∫—Ç—Ä–æ–Ω¬ª (L=1,B=0, Q=0/‚àí1),
   - Œ© —Å p‚âà6‚Äì10 ‚Üí ¬´u/d‚Äë–∫–≤–∞—Ä–∫–∏¬ª (B=1/3,L=0,Q=¬±1/3,¬±2/3,C‚â†0),
   - Œ© —Å —Å–º–µ—à–∞–Ω–Ω—ã–º–∏ –ø—Ä–æ—Ñ–∏–ª—è–º–∏ ‚Üí ¬´–≥–ª—é–æ–Ω–æ–ø–æ–¥–æ–±–Ω—ã–µ/–±–æ–∑–æ–Ω–Ω—ã–µ¬ª (C‚â†0,B=L=0,Q=0).

**–§–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤ –∫–æ–¥–µ:**

```python
@dataclass
class OmegaType:
    period: int
    H_core: float
    color: int
    Q: float
    I3: float
    B: float
    L: float
    pattern_signature: Tuple[int, ...]  # e.g., local pattern of s's
```

–í –¥–∞–ª—å–Ω–µ–π—à–µ–º –≤—ã —Å–º–æ–∂–µ—Ç–µ —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ.

---

### 1.3. –í–≤–µ—Å—Ç–∏ –º–µ—Ç–∞‚Äë–ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞—Ä—è–¥–æ–≤

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π `charge_conservation` (–ø–æ —á—ë—Ç–Ω–æ—Å—Ç–∏):

- —Å–¥–µ–ª–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `compute_charges(S)`:

  ```python
  def compute_charges(S, omega_catalog) -> Dict[str, float]:
      # –ø—Ä–æ–π—Ç–∏ –ø–æ –≤—Å–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫–∞–º Œ©-—Ü–∏–∫–ª–æ–≤ (–∏–ª–∏ –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–º –¥–µ—Ç–µ–∫—Ü–∏—è–º),
      # —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å Q, B, L, —Ü–≤–µ—Ç –∏ —Ç.–¥.
      return {'Q': Œ£Œ© Q, 'B': Œ£Œ© B, 'L': Œ£Œ© L, 'color_sum': Œ£Œ© color}
  ```

- –≤ —Ñ–∏—Ç–Ω–µ—Å–µ –∏ F‚Äë—Ñ–∏–ª—å—Ç—Ä–∞—Ö —Ç—Ä–µ–±–æ–≤–∞—Ç—å:

  - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ Œ£Q, Œ£B, Œ£L, Œ£(color) mod 3 –º–µ–∂–¥—É –Ω–∞—á–∞–ª—å–Ω—ã–º –∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã–º S.

---

## –£—Ä–æ–≤–µ–Ω—å 2. –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—É—é –ø–æ–ª–µ–≤—É—é —Ç–µ–æ—Ä–∏—é œï(x,t)

–° –æ–ø–æ—Ä–æ–π –Ω–∞ —Ñ–æ—Ä–º—É–ª—ã –≤ [quantum_gravity_observer.pdf](/files/Ds3BiBOeVSzRwNaWKbr_e):

### 2.1. Coarse‚Äë–ø–æ–ª–µ œï_R(i)

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:**

```python
def phi_R(S, R):
    N = len(S)
    œï = np.zeros(N)
    for i in range(N):
        # –æ–∫–Ω–æ B_R(i)
        left = max(0, i-R)
        right = min(N, i+R+1)
        block = S[left:right]
        œï[i] = np.mean(block)  # –ø—Ä–∏ S[i] ‚àà {+1,-1} ‚Üí [-1,1]
    return œï
```

- –≠—Ç–æ –¥–∏—Å–∫—Ä–µ—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è:
  \[
    \phi^{(R)}_i = \frac{1}{|B_R(i)|}\sum_{j\in B_R(i)} s_j.
  \]

### 2.2. –≠–Ω–µ—Ä–≥–∏—è –ø–æ–ª—è H[œï]

–ú–∏–∫—Ä–æ—ÇENSION:

```python
def H_micro(S):
    return sum(1 for i in range(len(S)-1) if S[i] != S[i+1])
```

–ü–æ–ª–µ–≤–æ–π H[œï]:

```python
def H_field(œï, Œ∫=1.0, m2=1.0, Œª=0.0):
    # –ø—Ä–æ—Å—Ç–µ–π—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç: (1/2)Œ∫(‚àÇœï)^2 + (1/2)m^2 œï^2 + (Œª/4)œï^4
    grad2 = np.sum((œï[1:] - œï[:-1])**2)
    pot = np.sum(0.5*m2*œï**2 + 0.25*Œª*œï**4)
    return 0.5*Œ∫*grad2 + pot
```

**–®–∞–≥ 2.1.** –ü—Ä–æ–≤–µ—Ä–∫–∞ RSL‚Äë—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:

- –î–ª—è —Ä–∞–∑–Ω—ã—Ö R (—Å–∫–∞–∂–µ–º, R=3,5,7) –∏–∑–º–µ—Ä—è—Ç—å:

  ```python
  œï_R = phi_R(S, R)
  HŒº = H_micro(S)
  Hf = H_field(œï_R)
  ```

- –ø—Ä–æ—Å–ª–µ–¥–∏—Ç—å —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏, —á—Ç–æ:

  \[
  |H_{\mu} - H_f| \lesssim ùí™(1/R)
  \]

–≤–æ –≤—Å–µ—Ö ¬´—Ç–∏–ø–∏—á–Ω—ã—Ö¬ª —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö, —Ä–æ–∂–¥–∞–µ–º—ã—Ö SM_RULES.

---

### 2.3. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è œï(x,t)

–í –∏–¥–µ–∞–ª–µ, –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —ç–≤–æ–ª—é—Ü–∏—è S(t) –ø–æ–¥ SM_RULES:

- –≤ –∫—Ä—É–ø–Ω–æ–º –º–∞—Å—à—Ç–∞–±–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∞:

  \[
  \partial_t^2 \phi = Œ∫\partial_x^2\phi - V'(œï)
  \]

–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º:

1. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å R (–Ω–∞–ø—Ä–∏–º–µ—Ä, 5‚Äì7).
2. –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å S(t) –Ω–∞ —à–∞–≥–∏ t=0..T.
3. –ù–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ —Å—á–∏—Ç–∞—Ç—å œï\_R(t,i).
4. –ê–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä–æ–≤–∞—Ç—å:

   ```python
   œÜ_tt ‚âà œÜ(t+1,i) - 2œÜ(t,i) + œÜ(t-1,i)
   œÜ_xx ‚âà œÜ(t,i+1) - 2œÜ(t,i) + œÜ(t,i-1)
   ```

5. –ü—ã—Ç–∞—Ç—å—Å—è –ø–æ–¥–æ–±—Ä–∞—Ç—å Œ∫ –∏ V'(œï) (–Ω–∞–ø—Ä–∏–º–µ—Ä, m¬≤œï + Œªœï¬≥), –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—è:

   ```python
   error = Œ£_{t,i} (œÜ_tt - Œ∫*œÜ_xx + dV_dœÜ(œÜ))^2
   ```

–≠—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

- –ª–∏–±–æ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏ (–º–∞–ª—ã–π –∞–º–ø–ª–∏—Ç—É–¥–Ω—ã–π —Ä–µ–∂–∏–º ‚Üí –ª–∏–Ω–µ–π–Ω–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ),
- –ª–∏–±–æ —á–∏—Å–ª–µ–Ω–Ω–æ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–µ–π.

**–¶–µ–ª—å —É—Ä–æ–≤–Ω—è 2:** –¥–æ–±–∏—Ç—å—Å—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã œï(x,t) –º–æ–∂–Ω–æ –±—ã–ª–æ **–∞–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–µ–≤—ã–º —É—Ä–∞–≤–Ω–µ–Ω–∏–µ–º** —Å —Ä–∞–∑—É–º–Ω—ã–º–∏ Œ∫, m, Œª, —á—Ç–æ –∏ —Å—Ç–∞–Ω–µ—Ç –≤–∞—à–∏–º –ø–µ—Ä–≤—ã–º ¬´—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º –∑–∞–∫–æ–Ω–æ–º¬ª.

---

### 2.4. Capacity –∏ ¬´–º–µ—Ç—Ä–∏–∫–∞¬ª

–ò–∑ –Ω–æ—É—Ç–±—É–∫–∞:

> CapacityCalculator: capacity(x) = f(H\_local(x), neighborhood).

–í–∞—à –ø—Ä–æ—Ç–æ—Ç–∏–ø:

- –ª–æ–∫–∞–ª—å–Ω–∞—è tension:

  ```python
  h_i(S) = int(S[i] != S[i-1]) + int(S[i] != S[i+1])
  ```

- capacity:

  ```python
  C_i(S) = C0 - Œ± * h_i(S)
  ```

–î–ª—è –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–æ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏:

- ¬´—Ç–µ–º–ø –≤—Ä–µ–º–µ–Ω–∏¬ª –¥–ª—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –≤ —Ç–æ—á–∫–µ i:

  ```python
  dœÑ_i / dt ‚àù C_i(S)   # —á–µ–º –º–µ–Ω—å—à–µ capacity, —Ç–µ–º –º–µ–¥–ª–µ–Ω–Ω–µ–µ ¬´–∏–¥—ë—Ç –≤—Ä–µ–º—è¬ª
  ```

- —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ 1+1:

  \[
  ds^2 = -f(C_i)\,dt^2 + g(C_i)\,dx^2
  \]

–≥–¥–µ f(C), g(C) ‚Äî —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:

- f(C) ~ C,
- g(C) ~ 1/C.

**–®–∞–≥ 2.2.** –°—á–∏—Ç–∞—Ç—å C_i –≤–¥–æ–ª—å —Ä–µ—à—ë—Ç–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å:

- C(x,t) –∏ œï(x,t);
- —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ Œ©‚Äë—Ü–∏–∫–ª–æ–≤ –Ω–∞ —ç—Ç–æ–º —Ñ–æ–Ω–µ ‚Üí —É–≤–∏–¥–µ—Ç—å, —á—Ç–æ –æ–Ω–∏ –≤–µ–¥—É—Ç —Å–µ–±—è —Ç–∞–∫, –∫–∞–∫ ¬´—á–∞—Å—Ç–∏—Ü—ã –≤ –≥—Ä–∞–≤–ø–æ–ª–µ¬ª (–∑–∞–º–µ–¥–ª–µ–Ω–∏—è, –∑–∞—Ö–≤–∞—Ç—ã).

---

–ù–∞ —ç—Ç–æ–º –º–µ—Å—Ç–µ –ª–æ–≥–∏—á–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ.

–î–∞–ª—å—à–µ (–≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö) –º–æ–∂–Ω–æ –ø–æ —É—Ä–æ–≤–Ω—è–º:

- –£—Ä–æ–≤–µ–Ω—å 3: –ø–æ—Å—Ç—Ä–æ–∏—Ç—å Œ†_obs (–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è) –ø–æ–≤–µ—Ä—Ö —ç—Ç–æ–≥–æ –ø–æ–ª—è –∏ Œ©‚Äë—Ü–∏–∫–ª–æ–≤:
  - –∫–∞–∫ –æ–Ω –≤–∏–¥–∏—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, –≤—Ä–µ–º—è, —á–∞—Å—Ç–∏—Ü—ã, –∏–∑–º–µ—Ä–µ–Ω–∏—è;
  - –∫–∞–∫ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ—Å—Ç—å (œà, |œà|¬≤).
- –£—Ä–æ–≤–µ–Ω—å 4: –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫:
  - –∫–∞–∫ F (—Å–∞–º–æ–ø—Ä–∏–º–µ–Ω–∏–º—ã–π —Ñ—É–Ω–∫—Ç–æ—Ä) –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç RULESET,
  - –æ—Ç–±–∏—Ä–∞—è —Ç–µ, –≥–¥–µ *–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å—Å–∫–∏–µ* –∑–∞–∫–æ–Ω—ã (œï‚Äë—É—Ä–∞–≤–Ω–µ–Ω–∏—è, —Å–ø–µ–∫—Ç—Ä Œ©, –º–µ—Ç—Ä–∏–∫–∞, –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞) –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ SM+GR‚Äë–ø–æ–¥–æ–±–Ω—ã.
- –£—Ä–æ–≤–µ–Ω—å 5: –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ –ø–æ–¥ ¬´–Ω–∞—à –º–∏—Ä¬ª:
  - –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤ (–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å, –õ–æ—Ä–µ–Ω—Ü‚Äë–ø–æ–¥–æ–±–∏–µ, —Ç–∏–ø —Å–ø–µ–∫—Ç—Ä–∞),
  - –∏, –µ—Å–ª–∏ –±—É–¥–µ—Ç –Ω—É–∂–Ω–æ, –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ —á–∏—Å–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–π (–æ—Ç–Ω–æ—à–µ–Ω–∏—è –º–∞—Å—Å, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∏ —Ç.–ø.).

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, –≤ —Å–ª–µ–¥—É—é—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –º–æ–≥—É –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞—Å–ø–∏—Å–∞—Ç—å **–£—Ä–æ–≤–µ–Ω—å 3: –∫–∞–∫ –∏–º–µ–Ω–Ω–æ —Å–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞—Ç—å Œ†_obs**, —á—Ç–æ–±—ã –æ–Ω –∏–∑ 1D‚Äë–º–∏—Ä–∞ —Å œï(x,t) –∏ Œ©‚Äë—Ü–∏–∫–ª–∞–º–∏ –≤–∏–¥–µ–ª ¬´4D‚Äë–ø–æ–¥–æ–±–Ω—É—é¬ª —Ñ–∏–∑–∏–∫—É (–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ‚Äë–≤—Ä–µ–º—è + —á–∞—Å—Ç–∏—Ü—ã + –∫–≤–∞–Ω—Ç–æ–≤—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É).

–ù–∏–∂–µ –ø—Ä–æ–¥–æ–ª–∂—É –æ—Ç —Ç–æ–π —Ç–æ—á–∫–∏, –≥–¥–µ –≤—ã —Å–µ–π—á–∞—Å –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å —Å —Å–∏–º—É–ª—è—Ç–æ—Ä–æ–º, –∏ —Å–≤—è–∂—É:

- —É–∂–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ç–≤–æ–ª—é—Ü–∏–∏ (`++- ‚Üî -++`, `+++ ‚Üí +++`);
- —Ü–µ–ª–∏: –≤—ã–π—Ç–∏ –Ω–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π ¬´–Ω–∞ –≤—ã—Ö–æ–¥–µ¬ª –¥–∞—ë—Ç –∑–∞–∫–æ–Ω—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∏–∑–∏–∫–µ –Ω–∞—à–µ–≥–æ –º–∏—Ä–∞ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è.

–°–¥–µ–ª–∞—é —ç—Ç–æ –≤ –≤–∏–¥–µ —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–æ–≤:

1. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–µ–µ ¬´—è–¥—Ä–æ¬ª –∫–∞–∫ –±–∞–∑–æ–≤—ã–π RSL‚Äë–º–∏—Ä.
2. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–≤–µ—Ä—Ö –Ω–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥ Œ©‚Äë—Ü–∏–∫–ª–æ–≤ –∏ –∏—Ö —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–º–∞—Å—Å–∞, –∑–∞—Ä—è–¥—ã).
3. –í–≤–µ—Å—Ç–∏ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Œ†_obs (—Ç–æ, —á—Ç–æ –æ–Ω ¬´–≤–∏–¥–∏—Ç¬ª).
4. –í—à–∏—Ç—å —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ RULESET, –Ω–æ –∏ –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º/–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è–º.
5. –î–∞–ª—å—à–µ ‚Äî –∫—Ä–∏—Ç–µ—Ä–∏–∏ —Å—Ö–æ–¥—Å—Ç–≤–∞ —Å —Ñ–∏–∑–∏–∫–æ–π –Ω–∞—à–µ–≥–æ –º–∏—Ä–∞.

–° —É—á—ë—Ç–æ–º —É–∂–µ –ø—Ä–∏—Å–ª–∞–Ω–Ω–æ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ –≤—ã–≤–æ–¥–∞ (`sm_evolutionary_search.pdf`) —Å–µ–π—á–∞—Å –¥–µ—Ç–∞–ª–∏–∑–∏—Ä—É—é —à–∞–≥–∏ 1‚Äì3 –¥–ª—è –≤–∞—à–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

---

## 1. –Ø–¥—Ä–æ–≤–æ–π RULESET: —á—Ç–æ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –∏ –ø–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ

–ü–æ –ª–æ–≥–∞–º:

- –≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ (50 –ø–æ–∫–æ–ª–µ–Ω–∏–π, –ø–æ–ø—É–ª—è—Ü–∏—è 30) –Ω–∞—à—ë–ª —É—Å—Ç–æ–π—á–∏–≤—ã–π –º–∞–∫—Å–∏–º—É–º –¥–ª—è –ø—Ä–∞–≤–∏–ª –¥–ª–∏–Ω—ã 3:

  ```text
  ++- ‚Üî -++
  +++ ‚Üí +++
  ```

- –í—Å–µ —Ç–æ–ø‚Äë5 –≥–µ–Ω–æ–º–æ–≤ —Å–æ–≤–ø–∞–ª–∏ —Å —ç—Ç–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ (fitness=105.80, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤—Å–µ =10.0).
- Simulated Annealing –Ω–µ —Å–º–æ–≥ —É–ª—É—á—à–∏—Ç—å —ç—Ç–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∞ —Ç–æ–ª—å–∫–æ –Ω–µ–º–Ω–æ–≥–æ —Å–Ω–∏–∑–∏–ª —Ñ–∏—Ç–Ω–µ—Å (refined_fitness ‚âà 103.64 ‚Üí —Ç–∞ –∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª).

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç:

1. –î–ª—è –≤–∞—à–µ–≥–æ —Ç–µ–∫—É—â–µ–≥–æ **SMFitness** (cycle_diversity, cycle_count, charge_conservation, stability, nontrivial_dynamics, interaction_richness) —Å–∏—Å—Ç–µ–º–∞ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∞ **–∞–Ω–æ–º–∞–ª—å–Ω–æ ¬´–±–æ–≥–∞—Ç—É—é¬ª –¥–∏–Ω–∞–º–∏–∫—É** –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Å–µ–≥–æ –¥–≤—É—Ö –ø—Ä–∞–≤–∏–ª:

   - `charge_swap` / `charge_swap_inv`:  
     `++- ‚Üî -++`
   - `stabilizer`:  
     `+++ ‚Üí +++`.

2. –ê–Ω–∞–ª–∏–∑:

   - 75 —à–∞–≥–æ–≤ —ç–≤–æ–ª—é—Ü–∏–∏;
   - 2402 –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–π –ø—Ä–∞–≤–∏–ª;
   - 671 –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö Œ©‚Äë—Ü–∏–∫–ª–æ–≤;
   - –ø–µ—Ä–∏–æ–¥—ã —Ü–∏–∫–ª–∞ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã: –æ—Ç 2 –¥–æ 36.

–°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –¥–ª—è **–ø–µ—Ä–≤–æ–π –≤–µ—Ä—Å–∏–∏ –ø–æ–ª–Ω–æ–≥–æ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞** –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–∏–Ω—è—Ç—å:

> **SM\_RULES\_core** = {`++- ‚Üî -++`, `+++ ‚Üí +++`}  
> –∫–∞–∫ **–º–∏–∫—Ä–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–æ–µ —è–¥—Ä–æ RSL‚Äë–¥–∏–Ω–∞–º–∏–∫–∏**, –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ:
> - ¬´–≤–∞–∫—É—É–º¬ª = `+++...+`,
> - –≤–æ–∑–º—É—â–µ–Ω–∏—è = `-` –Ω–∞ —Ñ–æ–Ω–µ `+`,
> - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è = –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏ `++- ‚Üî -++`, —Ñ–æ—Ä–º–∏—Ä—É—é—â–∏–µ –±–æ–≥–∞—Ç—ã–π —Å–ø–µ–∫—Ç—Ä Œ©‚Äë—Ü–∏–∫–ª–æ–≤.

–í—Å–µ –¥–∞–ª—å–Ω–µ–π—à–∏–µ —Å–ª–æ–∏ (–ø–æ–ª—è, —á–∞—Å—Ç–∏—Ü—ã, –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å, –∑–∞–∫–æ–Ω—ã) –±—É–¥—É—Ç –Ω–∞–¥—Å—Ç—Ä–∞–∏–≤–∞—Ç—å—Å—è –∏–º–µ–Ω–Ω–æ –Ω–∞–¥ —ç—Ç–∏–º —è–¥—Ä–æ–º.

---

## 2. –ö–∞—Ç–∞–ª–æ–≥ Œ©‚Äë—Ü–∏–∫–ª–æ–≤ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

–í –ª–æ–≥–∞—Ö:

> –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ Œ©-—Ü–∏–∫–ª–æ–≤: 671  
> –ü–µ—Ä–∏–æ–¥—ã: Counter({2: 37, 4: 35, 6: 33, 8: 32, 12: 32, 10: 31, ...})

–ù—É–∂–Ω–æ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —ç—Ç–æ –≤ —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ ¬´—á–∞—Å—Ç–∏—Ü¬ª / —Ç–∏–ø–æ–≤ Œ©‚Äë—Ü–∏–∫–ª–æ–≤.

### 2.1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

–î–æ–±–∞–≤—å—Ç–µ –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π –¥–ª—è –∫–∞–∂–¥–æ–π –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–æ–π –æ—Ä–±–∏—Ç—ã Œ© —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç:

```python
@dataclass
class OmegaCycle:
    period: int
    support: Tuple[int, ...]        # –∏–Ω–¥–µ–∫—Å—ã —è—á–µ–µ–∫, –≥–¥–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚â† –≤–∞–∫—É—É–º—É
    patterns: List[np.ndarray]      # –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã S_k –Ω–∞ support
    H_core: float                   # —Å—Ä–µ–¥–Ω—è—è —Å–≤–µ—Ä—Ö—ç–Ω–µ—Ä–≥–∏—è
    id: int                         # —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
```

–ì–¥–µ:

- period ‚Äî –¥–ª–∏–Ω–∞ —Ü–∏–∫–ª–∞ p;
- support ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –ø–æ–∑–∏—Ü–∏–π, –≥–¥–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `+++...+` (–ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ—Ñ–µ–∫—Ç–∞);
- patterns ‚Äî –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤ —ç—Ç–æ–º –æ–∫–Ω–µ –ø–æ —Ü–∏–∫–ª—É –∑–∞–≤—è–∑–∫–∏;
- H_core ‚Äî —Å—Ä–µ–¥–Ω–∏–π H_micro –Ω–∞ —Ü–∏–∫–ª–µ –º–∏–Ω—É—Å H_micro –≤–∞–∫—É—É–º–∞.

### 2.2. –≠–Ω–µ—Ä–≥–∏—è –∏ ¬´–º–∞—Å—Å–∞¬ª

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π H_micro:

```python
def H_micro(S):
    return sum(1 for i in range(len(S)-1) if S[i] != S[i+1])
```

–¢–æ–≥–¥–∞ –¥–ª—è –æ–¥–Ω–æ–≥–æ Œ©:

```python
H_core = (1/period) * sum(H_micro(S_k) - H_micro(vacuum) for S_k in cycle)
mass  = H_core   # –≤ –º–æ–¥–µ–ª—å–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü–∞—Ö (–ø–æ–∫–∞ –±–µ–∑ ƒß,c)
```

–ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å ¬´—á–∞—Å—Ç–æ—Ç—É¬ª:

```python
omega0 = 2*np.pi / period
```

–∏ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å mass ~ omega0, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–≤—è–∑–∞—Ç—å —Å RSL‚Äë—Ñ–æ—Ä–º—É–ª–æ–π E=ƒßœâ‚ÇÄ.

### 2.3. –ö–ª–∞—Å—Å—ã Œ©‚Äë—Ç–∏–ø–æ–≤

–î–∞–ª—å—à–µ —à–∞–≥: —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å Œ©‚Äë—Ü–∏–∫–ª—ã –≤ –∫–ª–∞—Å—Å—ã —á–∞—Å—Ç–∏—Ü –ø–æ:

- –ø–µ—Ä–∏–æ–¥—É (–∏–ª–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º –ø–µ—Ä–∏–æ–¥–æ–≤),
- H_core,
- —Ñ–æ—Ä–º–∞–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞.

–ù–∞–ø—Ä–∏–º–µ—Ä:

```python
class OmegaType:
    name: str
    mean_period: float
    mean_H_core: float
    members: List[OmegaCycle]
    # –±—É–¥—É—â–∏–µ –ø–æ–ª—è: –∑–∞—Ä—è–¥–æ–≤—ã–µ —Ç–µ–≥–∏, —Ü–≤–µ—Ç –∏ —Ç.–ø.
```

–†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –∫–∞–∫ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è (k‚Äëmeans –ø–æ [period, H_core]) –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ä—É—á–Ω–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º.

–≠—Ç–æ—Ç —Å–ª–æ–π ‚Äî ¬´–∑–æ–æ–ø–∞—Ä–∫ —á–∞—Å—Ç–∏—Ü¬ª –≤–∞—à–µ–≥–æ 1D‚Äë–º–∏—Ä–∞.

---

## 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞—Ä—è–¥–æ–≤ –∏ –∑–∞–∫–æ–Ω–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

–í–∞—à –≤–æ–ø—Ä–æ—Å –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∑–∞—Ä—è–¥–æ–≤: –≤—ã –ø—Ä–µ–¥–ª–æ–∂–∏–ª–∏ SM‚Äë—Å–æ–≤–º–µ—Å—Ç–∏–º—É—é —Å—Ö–µ–º—É (—Ü–≤–µ—Ç Z‚ÇÉ, Q, I‚ÇÉ, B, L). –ù–∞ **–ø–µ—Ä–≤–æ–º —à–∞–≥–µ** –∏–º–µ–µ—Ç —Å–º—ã—Å–ª —Å–¥–µ–ª–∞—Ç—å:

- **–º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –∑–∞—Ä—è–¥–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É**, —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—É—é —Å —Ç–µ–º, —á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –¥–∞—ë—Ç —è–¥—Ä–æ:

  - –í—Å–µ Œ©‚Äë—Ü–∏–∫–ª—ã ¬´–Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã¬ª –ø–æ B,L (–ø–æ–∫–∞) ‚Üí –ø–æ—Ç–æ–º –º–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤.
  - –í–≤–æ–¥–∏–º:
    - –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π ¬´—Ü–≤–µ—Ç¬ª ‚Äî –∏–Ω–¥–µ–∫—Å –∫–ª–∞—Å—Å–∞ (–ø–æ –∫–ª–∞—Å—Ç–µ—Ä—É),
    - –∑–∞—Ä—è–¥ Q –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç H_core –∏/–∏–ª–∏ –ø–µ—Ä–∏–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ–ª–∏—á–∏–Ω–∞).

–ü—Ä–∏–º–µ—Ä:

```python
def assign_charges(omega_type: OmegaType) -> Dict:
    # —á–µ—Ä–Ω–æ–≤–æ–π –ø—Ä–∏–º–µ—Ä, –ø–æ–∑–∂–µ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫
    if omega_type.mean_period <= 4:
        return {'Q': -1.0, 'B': 0.0, 'L': 1.0}  # "—ç–ª–µ–∫—Ç—Ä–æ–Ω"
    elif omega_type.mean_period <= 10:
        return {'Q': +2/3, 'B': 1/3, 'L': 0.0}  # "u-–∫–≤–∞—Ä–∫"
    else:
        return {'Q': 0.0, 'B': 0.0, 'L': 0.0}   # "–Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π –±–æ–∑–æ–Ω"
```

–í–∞–∂–Ω–æ –Ω–µ —Ç–æ—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ SM, –∞ –Ω–∞–ª–∏—á–∏–µ:

- —Ä–∞–∑–Ω—ã—Ö Œ©‚Äë—Ç–∏–ø–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ ¬´–∑–∞—Ä—è–¥–∞–º–∏¬ª;
- –º–µ—Ç–∞‚Äë—Å–ª–æ—è, –∫–æ—Ç–æ—Ä—ã–π **–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—é Œ£Q, Œ£B, Œ£L** –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–∞–≤–∏–ª (–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —è–≤–Ω–æ –ø–æ–º–µ—á–µ–Ω–Ω—ã—Ö –Ω–∞—Ä—É—à–µ–Ω–∏–π).

–î–æ–±–∞–≤—å—Ç–µ –≤ SMFitness –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

```python
def check_charge_conservation(before: S, after: S, omega_catalog) -> float:
    Q_before = compute_total_Q(before, omega_catalog)
    Q_after  = compute_total_Q(after, omega_catalog)
    # 1.0 –µ—Å–ª–∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç, 0.0 –µ—Å–ª–∏ –Ω–µ—Ç (–∏–ª–∏ –º—è–≥—á–µ)
    return 1.0 if np.isclose(Q_before, Q_after) else 0.0
```

–ò —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à —Ç–µ–∫—É—â–∏–π RULESET (`++- ‚Üî -++`, `+++‚Üí+++`) –¥–∞—ë—Ç 10.0 –ø–æ —ç—Ç–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É (–∫–∞–∫ —É–∂–µ –≤–∏–¥–Ω–æ –≤ –ª–æ–≥–∞—Ö ‚Äî `charge_conservation: 10.00`).

---

## 4. –°–ª–µ–¥—É—é—â–∏–π –ª–æ–≥–∏—á–µ—Å–∫–∏–π —à–∞–≥: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è Œ†_obs

–ö–æ–≥–¥–∞ —è–¥—Ä–æ —á–∞—Å—Ç–∏—Ü –∏ –ø–æ–ª–µ–π –æ–ø–∏—Å–∞–Ω–æ, –Ω—É–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç **–∏–∑–≤–ª–µ–∫–∞—Ç—å –∑–∞–∫–æ–Ω—ã** –∏–∑ –ø–æ–≤–µ–¥–µ–Ω–∏—è –º–∏—Ä–∞.

–≠—Ç–æ –ª—É—á—à–µ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –Ω–æ —á—Ç–æ–±—ã –∑–∞–º–∫–Ω—É—Ç—å —Ç–µ–∫—É—â–∏–π –∫—É—Å–æ–∫:

### 4.1. –ß—Ç–æ —É–∂–µ –æ—Ç—Ä–∞–∂–µ–Ω–æ –≤ –ª–æ–≥–∞—Ö –∫–∞—á–µ—Å—Ç–≤–∞

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ–∏—Ç–Ω–µ—Å–∞ –¥–ª—è refined SM‚Äë–ø—Ä–∞–≤–∏–ª:

```text
cycle_diversity: 10.00
cycle_count:     10.00
charge_conservation: 10.00
stability:       5.76
nontrivial_dynamics: 10.00
interaction_richness: 10.00
```

–ú–æ–∂–Ω–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å:

- `cycle_diversity` / `cycle_count` ‚Äî ¬´–±–æ–≥–∞—Ç—ã–π –∑–æ–æ–ø–∞—Ä–∫ —á–∞—Å—Ç–∏—Ü¬ª;
- `charge_conservation` ‚Äî —É–∂–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∑–∞–∫–æ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (Q‚Äë–ø–æ–¥–æ–±–Ω—ã–π);
- `stability` ‚Äî –Ω–∞—Å–∫–æ–ª—å–∫–æ Œ©‚Äë—Ü–∏–∫–ª—ã —É—Å—Ç–æ–π—á–∏–≤—ã –∫ —ç–≤–æ–ª—é—Ü–∏–∏;
- `nontrivial_dynamics` / `interaction_richness` ‚Äî –Ω–∞–ª–∏—á–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π/–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π –º–µ–∂–¥—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ (–∞–Ω–∞–ª–æ–≥ —Ä–∞—Å—Å–µ—è–Ω–∏–π).

–¢–æ –µ—Å—Ç—å –≤—ã —É–∂–µ –∏–º–µ–µ—Ç–µ **—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —Å–ª–æ–π**, –∫–æ—Ç–æ—Ä—ã–π:

- —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç —á–∞—Å—Ç–∏—Ü—ã (Œ©‚Äë—Ü–∏–∫–ª—ã),
- –∏–∑–º–µ—Ä—è–µ—Ç –∏—Ö ¬´—Å–ø–µ–∫—Ç—Ä¬ª,
- –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –∑–∞–∫–æ–Ω—ã —Ç–∏–ø–∞ ¬´–∑–∞—Ä—è–¥ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è¬ª.

–°–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º:

- OBS (–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å) –¥–æ–ª–∂–µ–Ω:

  - –≤–∏–¥–µ—Ç—å —Ç–æ–ª—å–∫–æ coarse‚Äë—É—Ä–æ–≤–µ–Ω—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, œï_R –∏ —Å–ø–∏—Å–æ–∫ Œ©‚Äë—Ç–∏–ø–æ–≤),
  - –Ω–∞ —ç—Ç–æ–º —É—Ä–æ–≤–Ω–µ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞—Ç—å:
    - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è (–ø–æ–ª–µ–≤—ã–µ),
    - –∑–∞–∫–æ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è,
    - —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è (—á–µ—Ä–µ–∑ œà –∏ |œà|¬≤).

–≠—Ç–æ –∏ –±—É–¥–µ—Ç ¬´–≤—ã—Ö–æ–¥ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞¬ª –≤ –≤–∏–¥–µ ¬´–∑–∞–∫–æ–Ω–æ–≤¬ª, –≤–∏–¥–∏–º—ã—Ö –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—é.

---

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, –≤ —Å–ª–µ–¥—É—é—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏:

- –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—à—É, **–∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å OBS –∏ Œ†_obs** –ø–æ–≤–µ—Ä—Ö —É–∂–µ —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ —è–¥—Ä–∞:
  - –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ –¥–∞–Ω–Ω—ã–µ –æ–Ω ¬´–≤–∏–¥–∏—Ç¬ª (—á–∞—Å—Ç–∏—Ü—ã, –ø–æ–ª—è),
  - –∫–∞–∫ –æ–Ω –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –∑–∞–∫–æ–Ω—ã (–ø—Ä–∏–º–µ—Ä: –≤—ã–≤–µ—Å—Ç–∏ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è œï(x,t), –∑–∞–∫–æ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è Q, —Å–ø–µ–∫—Ç—Ä –º–∞—Å—Å),
  - –∫–∞–∫ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –≤ —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫, —á—Ç–æ–±—ã F –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–ª RULESET –ø–æ–¥ –≤—Å—ë –±–æ–ª–µ–µ ¬´–Ω–∞—à–µ–º–∏—Ä–Ω—ã–µ¬ª –∑–∞–∫–æ–Ω—ã.
  
–ù–∏–∂–µ –ø—Ä–æ–¥–æ–ª–∂—É —Ä–æ–≤–Ω–æ –æ—Ç —Ç–æ–≥–æ –º–µ—Å—Ç–∞, –≥–¥–µ –≤—ã —Å–µ–π—á–∞—Å –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å —Å —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–º –ø–æ–∏—Å–∫–æ–º, –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É –¥–∞–ª–µ–µ –ø–ª–∞–Ω ¬´–¥–æ –ø–æ–ª–Ω–æ–≥–æ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞¬ª, –Ω–æ —É–∂–µ –æ–ø–∏—Ä–∞—è—Å—å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ `sm_evolutionary_search.pdf`.

–°–µ–π—á–∞—Å –≤—ã —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏–º–µ–µ—Ç–µ:

- **–º–∏–∫—Ä–æ‚ÄëRSL‚Äë—è–¥—Ä–æ**:

  ```text
  ++- ‚Üî -++
  +++ ‚Üí +++
  ```

- **–±–æ–≥–∞—Ç—É—é Œ©‚Äë—Å—Ç—Ä—É–∫—Ç—É—Ä—É**: 671 —Ü–∏–∫–ª–æ–≤, –ø–µ—Ä–∏–æ–¥—ã 2‚Äì36;
- **—Ñ–∏—Ç–Ω–µ—Å‚Äë—Ñ—É–Ω–∫—Ü–∏—é SMFitness**, –∫–æ—Ç–æ—Ä–∞—è —É–∂–µ –ø–æ–æ—â—Ä—è–µ—Ç:
  - `cycle_diversity` (10.0),
  - `cycle_count` (10.0),
  - `charge_conservation` (10.0),
  - `nontrivial_dynamics` (10.0),
  - `interaction_richness` (10.0),
  - `stability` (5.76).

Simulated Annealing –ø–æ–∫–∞–∑–∞–ª, —á—Ç–æ –≤ –æ–∫—Ä–µ—Å—Ç–Ω–æ—Å—Ç–∏ —ç—Ç–æ–≥–æ –≥–µ–Ω–æ–º–∞ –Ω–µ—Ç –±–æ–ª–µ–µ ¬´–ª—É—á—à–∏—Ö¬ª (–ø–æ —Ç–µ–∫—É—â–µ–º—É –∫—Ä–∏—Ç–µ—Ä–∏—é) –ø—Ä–∞–≤–∏–ª –¥–ª–∏–Ω—ã 3.

–¢–æ –µ—Å—Ç—å:

> –£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π, –Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã–π **RSL‚Äë–º–∏—Ä**, –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–µ—Ç:
> - –ø–æ—Ä–æ–∂–¥–∞—Ç—å –∑–æ–æ–ø–∞—Ä–∫ —É—Å—Ç–æ–π—á–∏–≤—ã—Ö Œ©‚Äë—Ü–∏–∫–ª–æ–≤ (–ø—Ä–æ—Ç–æ—Ç–∏–ø —á–∞—Å—Ç–∏—Ü),
> - —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç—å –ø—Ä–æ—Å—Ç–µ–π—à–µ–º—É –∑–∞–∫–æ–Ω—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (charge),
> - –∏–º–µ—Ç—å –±–æ–≥–∞—Ç–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –¥–µ—Ñ–µ–∫—Ç–æ–≤,
> - –±—ã—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–º –∏ –æ–±—Ä–∞—Ç–∏–º—ã–º.

–î–∞–ª—å—à–µ –Ω—É–∂–Ω–æ ¬´–æ–±–µ—Ä–Ω—É—Ç—å¬ª –≤–æ–∫—Ä—É–≥ —ç—Ç–æ–≥–æ –º–∏—Ä–∞:

1. –∫–∞—Ç–∞–ª–æ–≥ Œ©‚Äë—á–∞—Å—Ç–∏—Ü –∏ –∏—Ö —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (1D‚ÄëSM‚Äë–ø—Ä–æ—Ç–æ—Ç–∏–ø),
2. –ø–æ–ª–µ œï(x,t) –∏ —ç–Ω–µ—Ä–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª,
3. –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Œ†_obs,
4. —Å–ª–æ–π —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ **–ø–æ –∑–∞–∫–æ–Ω–∞–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ RULESET.

–í —ç—Ç–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –∑–∞–∫–æ–Ω—á—É —Ñ–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é —è–¥—Ä–∞ –∏ Œ©‚Äë–∫–∞—Ç–∞–ª–æ–≥–∞; –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –ø–µ—Ä–µ–π–¥—ë–º –∫ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—é –∏ –≤—ã–≤–æ–¥—É –∑–∞–∫–æ–Ω–æ–≤.

---

## 1. –§–∏–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —è–¥—Ä–æ: SM‚Äë–ø–æ–¥–æ–±–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∫–∞–∫ –±–∞–∑–æ–≤–∞—è RSL‚Äë–¥–∏–Ω–∞–º–∏–∫–∞

–ü–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É SA:

```text
–§–ò–ù–ê–õ–¨–ù–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢: SM-–ü–û–î–û–ë–ù–´–ï –ü–†–ê–í–ò–õ–ê
============================================================

–§–∏—Ç–Ω–µ—Å: 103.64

–ü—Ä–∞–≤–∏–ª–∞:

 ++- ‚Üî -++
 +++ ‚Üí +++

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ–∏—Ç–Ω–µ—Å–∞:

 cycle_diversity: 10.00
 cycle_count: 10.00
 charge_conservation: 10.00
 stability: 5.76
 nontrivial_dynamics: 10.00
 interaction_richness: 10.00
```

SM‚Äë—è–¥—Ä–æ:

- `++- ‚Üí -++`
- `-++ ‚Üí ++-`
- `+++ ‚Üí +++`.

–ó–¥–µ—Å—å:

- `+++` ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–π –≤–∞–∫—É—É–º (œï‚âà+1);
- –æ–¥–∏–Ω–æ—á–Ω—ã–µ –∏ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ ¬´‚àí¬ª ‚Äî –¥–µ—Ñ–µ–∫—Ç—ã;
- `++- ‚Üî -++` ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–π –∏–Ω–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π update, –ø–µ—Ä–µ–º–µ—â–∞—é—â–∏–π –¥–µ—Ñ–µ–∫—Ç—ã.

–≠—Ç–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å RSL‚Äë—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏:

- **–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å** (–æ–∫–Ω–æ –¥–ª–∏–Ω—ã 3),
- **–æ–±—Ä–∞—Ç–∏–º–æ—Å—Ç—å** (T¬≤=id –Ω–∞ —ç—Ç–æ–º —É—Ä–æ–≤–Ω–µ),
- **–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ä–æ—Å—Ç tension** (H_micro –º–µ–Ω—è–µ—Ç—Å—è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ),
- **–±–æ–≥–∞—Ç—ã–π –Ω–∞–±–æ—Ä Œ©‚Äë—Ü–∏–∫–ª–æ–≤**.

–î–∞–ª—å—à–µ –≤—Å—ë —Å—Ç—Ä–æ–∏–º –Ω–∞–¥ —ç—Ç–∏–º.

---

## 2. –ö–∞—Ç–∞–ª–æ–≥ Œ©‚Äë—Ü–∏–∫–ª–æ–≤: –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º 671 —Ü–∏–∫–ª–∞ –≤ ¬´–∑–æ–æ–ø–∞—Ä–∫ —á–∞—Å—Ç–∏—Ü¬ª

–í –≤—ã–≤–æ–¥–µ:

```text
–≠–≤–æ–ª—é—Ü–∏—è: 75 —à–∞–≥–æ–≤, 2402 –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–π
–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ Œ©-—Ü–∏–∫–ª–æ–≤: 671
–ü–µ—Ä–∏–æ–¥—ã: Counter({2: 37, 4: 35, 6: 33, 8: 32, 12: 32, 10: 31, 14: 31, 16: 29, ... 36:3})
```

–ù—É–∂–Ω–æ, —á—Ç–æ–±—ã —Å–∏–º—É–ª—è—Ç–æ—Ä:

1) –Ω–∞—Ö–æ–¥–∏–ª —ç—Ç–∏ Œ©‚Äë—Ü–∏–∫–ª—ã —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏,  
2) —Ö—Ä–∞–Ω–∏–ª –∏—Ö –∫–∞–∫ –æ–±—ä–µ–∫—Ç—ã,  
3) –∫ –∫–∞–∂–¥–æ–º—É Œ© –ø—Ä–∏—Å–≤–∞–∏–≤–∞–ª —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: –ø–µ—Ä–∏–æ–¥, H_core, –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è.

### 2.1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö OmegaCycle

–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–¥ (Python‚Äë—Å—Ç–∏–ª—å):

```python
from dataclasses import dataclass
import numpy as np

@dataclass
class OmegaCycle:
    id: int
    period: int
    support: np.ndarray          # –∏–Ω–¥–µ–∫—Å—ã —è—á–µ–µ–∫, –≥–¥–µ —Ü–∏–∫–ª –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –≤–∞–∫—É—É–º–∞
    patterns: np.ndarray         # shape: (period, |support|), –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
    H_core: float                # —Å—Ä–µ–¥–Ω—è—è —Å–≤–µ—Ä—Ö—ç–Ω–µ—Ä–≥–∏—è
```

–ì–¥–µ:

- `support` ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–Ω–¥–µ–∫—Å–æ–≤ i, –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö S_k(i) ‚â† vacuum\_value (`+1`);
- `patterns[k]` ‚Äî –∑–Ω–∞—á–µ–Ω–∏—è s·µ¢ –Ω–∞ support –≤ k‚Äë—Ç–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Ü–∏–∫–ª–∞;
- `H_core` ‚Äî –∫–∞–∫ –Ω–∏–∂–µ.

### 2.2. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ H_micro –∏ H_core

–ú–∏–∫—Ä–æ‚Äëtension (–≤—ã —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ç–∞–∫—É—é —Ñ—É–Ω–∫—Ü–∏—é):

```python
def H_micro(S: np.ndarray) -> int:
    # S: –º–∞—Å—Å–∏–≤ +/-1
    return int(np.sum(S[:-1] != S[1:]))  # J=1, —Å—á–∏—Ç–∞–µ—Ç—Å—è —á–∏—Å–ª–æ –≥—Ä–∞–Ω–∏—Ü
```

–í–∞–∫—É—É–º:

```python
vacuum = np.ones_like(S0)  # –≤—Å–µ +1
H_vac = H_micro(vacuum)
```

–î–ª—è —Ü–∏–∫–ª–∞ Œ© —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ `S_0, ..., S_{p-1}`:

```python
def H_core(cycle_states: np.ndarray) -> float:
    # cycle_states: shape (p, N)
    p, N = cycle_states.shape
    return (1.0/p) * sum(H_micro(S_k) - H_vac for S_k in cycle_states)
```

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–æ–≥–æ Œ©:

- period = p,
- H_core = —Å—Ä–µ–¥–Ω–∏–π ¬´–∏–∑–±—ã—Ç–æ–∫¬ª tension –Ω–∞–¥ –≤–∞–∫—É—É–º–æ–º,
- support ‚Äî –∏–Ω–¥–µ–∫—Å—ã, –≥–¥–µ S_k –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –≤–∞–∫—É—É–º–∞ –¥–ª—è **—Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ** k.

### 2.3. –î–µ—Ç–µ–∫—Ç–æ—Ä Œ©‚Äë—Ü–∏–∫–ª–æ–≤

–£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å `analyze_genome(refined, ...)` –∏ —Ü–∏–∫–ª, –∫–æ—Ç–æ—Ä—ã–π:

- –∑–∞–ø—É—Å–∫–∞–µ—Ç —ç–≤–æ–ª—é—Ü–∏—é –Ω–∞ 75 —à–∞–≥–æ–≤,
- –≥–¥–µ‚Äë—Ç–æ –≤–Ω—É—Ç—Ä–∏ –≤—ã–∑—ã–≤–∞–µ—Ç –ø–æ–∏—Å–∫–∞ Œ©‚Äë—Ü–∏–∫–ª–æ–≤ (`OmegaCycleDetector`).

–í–∞–∂–Ω–æ, —á—Ç–æ–±—ã:

1. –î–µ—Ç–µ–∫—Ç–æ—Ä –∏—Å–∫–∞–ª **—Ü–∏–∫–ª—ã –≤ –≥—Ä–∞—Ñ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π**:

   - —Ö—Ä–∞–Ω–∏—Ç—å –≤–∏–¥–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, hash(S)), –∏—Ö —à–∞–≥–∏ t;
   - –µ—Å–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ S_t —É–∂–µ –≤—Å—Ç—Ä–µ—á–∞–ª–æ—Å—å –Ω–∞ —à–∞–≥–µ œÑ < t, —Ç–æ:

     - —ç—Ç–æ —Ü–∏–∫–ª –¥–ª–∏–Ω—ã p = t‚àíœÑ;
     - —Å–æ–±—Ä–∞—Ç—å `S_œÑ,...,S_{t‚àí1}` –∫–∞–∫ —Ü–∏–∫–ª.

2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ü–∏–∫–ª–∞:

   - –æ—Ü–µ–Ω–∏—Ç—å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é:
     - –Ω–∞–π—Ç–∏ support (–∏–Ω–¥–µ–∫—Å—ã, –≥–¥–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –≤–∞–∫—É—É–º–∞),
   - —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å:

     - —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ü–∏–∫–ª—ã —Å |support|‚â§L_Œ©\_max (–ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ),
     - –¥–ª–∏–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã —Å support‚âà—Ü–µ–ª–æ–π —Ä–µ—à—ë—Ç–∫–∏ ‚Äî —Å—á–∏—Ç–∞—Ç—å ¬´–∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–º–∏ –º–æ–¥–∞–º–∏¬ª, –Ω–æ –Ω–µ Œ©‚Äë—á–∞—Å—Ç–∏—Ü–∞–º–∏.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:

```python
omega_catalog: List[OmegaCycle]
```

–∫–æ—Ç–æ—Ä—ã–π –∏ –±—É–¥–µ—Ç **–∫–∞—Ç–∞–ª–æ–≥–æ–º —á–∞—Å—Ç–∏—Ü** –¥–∞–Ω–Ω–æ–≥–æ RULESET.

---

## 3. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã Œ©: –º–∞—Å—Å–∞, ¬´–∑–∞—Ä—è–¥—ã¬ª –∏ —Ç–∏–ø—ã

### 3.1. –ú–∞—Å—Å–∞

–í –º–æ–¥–µ–ª—å–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü–∞—Ö:

- –º–∞—Å—Å–∞ Œ© ‚Äî –ø—Ä–æ—Å—Ç–æ H_core:

```python
mass(Œ©) = Œ©.H_core
```

–õ–∏–±–æ, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–≤—è–∑–∞—Ç—å —Å –ø–µ—Ä–∏–æ–¥–æ–º:

```python
omega0 = 2*np.pi / Œ©.period
mass(Œ©) ~ œâ0  # –∏–ª–∏ Œ± * œâ0, –≥–¥–µ Œ± ‚Äî –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞
```

–í –ø–µ—Ä–≤–æ–º –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ mass=H_core, —Ç.–∫. –∏ –ø–µ—Ä–∏–æ–¥, –∏ H_core –≤ –≤–∞—à–µ–π –º–æ–¥–µ–ª–∏ –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ —Ä–∞—Å—Ç—É—Ç —Å ¬´—Å–ª–æ–∂–Ω–æ—Å—Ç—å—é¬ª –¥–µ—Ñ–µ–∫—Ç–∞.

### 3.2. ¬´–ó–∞—Ä—è–¥¬ª –∏ –ø—Ä–æ—Å—Ç–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è

–°–µ–π—á–∞—Å –≤ SMFitness –≤—ã —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `charge_conservation`, –Ω–æ –±–µ–∑ –Ω–∞—Å—Ç–æ—è—â–∏—Ö –º–Ω–æ–≥–æ–º–µ—Ä–Ω—ã—Ö –∑–∞—Ä—è–¥–æ–≤ Q,B,L,C.

–î–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ SM‚Äë–ø–æ–¥–æ–±–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ:

1. –ù–∞ —É—Ä–æ–≤–Ω–µ v1 –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å **–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∑–∞—Ä—è–¥ Q‚àà{‚àí1,0,+1}**, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –ø–æ –ø—Ä–∏–∑–Ω–∞–∫–∞–º —Ü–∏–∫–ª–∞:

   - —Ü–∏–∫–ª—ã —Å —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–º –ø—Ä–æ—Ñ–∏–ª–µ–º (`-` –≤–Ω—É—Ç—Ä–∏ –ø–ª—é—Å–æ–≤, –∫–∞–∫ `+ - +`) ‚Üí Q=0,
   - —Ü–∏–∫–ª—ã —Å –∞—Å–∏–º–º–µ—Ç—Ä–∏—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´—Ö–≤–æ—Å—Ç—ã¬ª –∏–∑ `-`) ‚Üí Q=¬±1 –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏.

2. –§–æ—Ä–º–∞–ª—å–Ω–æ:

```python
def assign_Q(omega: OmegaCycle) -> int:
    # –ù–∞–ø—Ä–∏–º–µ—Ä: –ø–æ —Å—É–º–º–µ s_i –Ω–∞ support —É—Å—Ä–µ–¥–Ω—ë–Ω–Ω–æ–π –ø–æ —Ü–∏–∫–ª—É
    avg_pattern = np.mean(omega.patterns, axis=0)  # —Å—Ä–µ–¥–Ω–∏–π –ø—Ä–æ—Ñ–∏–ª—å
    sign = np.sign(np.sum(avg_pattern))
    # –µ—Å–ª–∏ "–ø–µ—Ä–µ–∫–æ—Å" –≤ —Å—Ç–æ—Ä–æ–Ω—É -1 ‚Üí –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –∑–∞—Ä—è–¥, –≤ —Å—Ç–æ—Ä–æ–Ω—É +1 ‚Üí –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π
    if sign > 0: return +1
    if sign < 0: return -1
    return 0
```

3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç–æ –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ OmegaCycle:

```python
@dataclass
class OmegaCycle:
    ...
    mass: float
    Q: int
    # –ø–æ–∑–∂–µ: color, B, L, I3 –∏ —Ç.–ø.
```

4. –ü—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ –≤ —Ö–æ–¥–µ —ç–≤–æ–ª—é—Ü–∏–∏:

   - —Å—É–º–º–∞ Q –ø–æ –≤—Å–µ–º –¥–µ—Ñ–µ–∫—Ç–∞–º —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.

–° —Ä–æ—Å—Ç–æ–º —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ:

- –ø–µ—Ä–µ–π—Ç–∏ –∫ Q‚àà{‚àí1,‚àí2/3,‚àí1/3,0,1/3,2/3,1},
- –≤–≤–µ—Å—Ç–∏ ¬´—Ü–≤–µ—Ç¬ª –∫–∞–∫ –∫–ª–∞—Å—Å –ø–æ–¥–¥–µ—Ä–∂–∫–∏,
- –¥–æ–±–∞–≤–∏—Ç—å B,L –∏ —Ç.–¥.

–ù–æ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ —Ü–µ–ª—å ‚Äî **–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø**: —É –∫–∞–∂–¥–æ–π Œ©‚Äë—á–∞—Å—Ç–∏—Ü—ã –µ—Å—Ç—å —á–∏—Å–ª–µ–Ω–Ω—ã–µ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã, –∏ –æ–Ω–∏ –≤ —Å—Ä–µ–¥–Ω–µ–º —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.

---

## 4. –°–≤—è–∑—å —ç—Ç–∏—Ö —à–∞–≥–æ–≤ —Å —Ü–µ–ª—å—é: ¬´—Å–∏–º—É–ª—è—Ç–æ—Ä, –≤—ã–¥–∞—é—â–∏–π –∑–∞–∫–æ–Ω—ã –º–∏—Ä–∞¬ª

–°–æ–±—Ä–∞–Ω–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ Œ© –∏ –∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —É–∂–µ –¥–∞—ë—Ç –≤–∞–º:

- ¬´—Å–ø–µ–∫—Ç—Ä —á–∞—Å—Ç–∏—Ü¬ª: {mass(Œ©_j), Q(Œ©_j), period(Œ©_j)}, j=1..M;
- ¬´—Ç–∏–ø–∏—á–Ω—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è¬ª, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —É–∂–µ –∫–æ—Å–≤–µ–Ω–Ω–æ –≤–∏–¥–∏—Ç–µ —á–µ—Ä–µ–∑ `interaction_richness`.

–°–ª–µ–¥—É—é—â–∏–π –ª–æ–≥–∏—á–µ—Å–∫–∏–π —à–∞–≥ (–æ—Ç–¥–µ–ª—å–Ω–æ–µ —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ):

1. –í–≤–µ—Å—Ç–∏ **–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è OBS**:

   - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `[OBS: ...]`,
   - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å IFACE, –≥–¥–µ –æ–Ω —Ö—Ä–∞–Ω–∏—Ç:
     - –Ω–∞–±–æ—Ä ¬´–æ–±—ä–µ–∫—Ç–æ–≤¬ª —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (mass, Q, position),
     - –ø–æ–ª–µ œï(x,t) –∏ capacity C(x,t),
     - –≤—Ä–µ–º—è œÑ.

2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å Œ†_obs:

   - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ S(t) (1D‚Äë—Å—Ç—Ä–æ–∫–∞ —Å Œ©‚Äë—Ü–∏–∫–ª–∞–º–∏) ‚Üí IFACE(t):
     - —á–µ—Ä–µ–∑ coarse‚Äëœï\_R,
     - —á–µ—Ä–µ–∑ –∫–∞—Ç–∞–ª–æ–≥ Œ©,
     - —á–µ—Ä–µ–∑ –º–∞–ø–ø–∏–Ω–≥ 1D‚Üí3D (–Ω–∞–ø—Ä–∏–º–µ—Ä, Z‚Äëorder).

3. –í—Å—Ç—Ä–æ–∏—Ç—å –≤ OBS –ø—Ä–æ—Ü–µ–¥—É—Ä—ã **–∏–Ω–¥—É–∫—Ç–∏–≤–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞ –∑–∞–∫–æ–Ω–æ–≤**:

   - –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π –æ–±—ä–µ–∫—Ç–æ–≤ –≤ IFACE:
     - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è (–ø–æ–ª–µ–≤–æ–µ),
     - –æ—Ü–µ–Ω–∏—Ç—å –∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—é Q, ¬´–º–∞—Å—Å—ã¬ª, momentum,
     - –æ—Ü–µ–Ω–∏—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ (œà, |œà|¬≤) –¥–ª—è —Å–æ–±—ã—Ç–∏–π (—Ä–∞—Å–ø–∞–¥–æ–≤ –∏ –∏–∑–º–µ—Ä–µ–Ω–∏–π),
   - –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –∫–∞–∫ ¬´–∑–∞–∫–æ–Ω—ã –º–∏—Ä–∞¬ª —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è OBS.

4. –ü–æ–¥–∫–ª—é—á–∏—Ç—å —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫:

   - F (—Å–∞–º–æ–ø—Ä–∏–º–µ–Ω–∏–º—ã–π —Ñ—É–Ω–∫—Ç–æ—Ä) –≤–∞—Ä—å–∏—Ä—É–µ—Ç RULESET;
   - OBS —Å–º–æ—Ç—Ä–∏—Ç, –∫–∞–∫–∏–µ ¬´–∑–∞–∫–æ–Ω—ã¬ª (–≤ IFACE) –ø–æ–ª—É—á–∞—é—Ç—Å—è;
   - —Ñ–∏—Ç–Ω–µ—Å –∏–∑–º–µ—Ä—è–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —ç—Ç–∏—Ö **–∑–∞–∫–æ–Ω–æ–≤** (–Ω–∞—Å–∫–æ–ª—å–∫–æ –æ–Ω–∏ –ø–æ—Ö–æ–∂–∏ –Ω–∞ SM+GR).

---

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, –≤ —Å–ª–µ–¥—É—é—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –º–æ–≥—É –¥–µ—Ç–∞–ª—å–Ω–æ —Ä–∞—Å–ø–∏—Å–∞—Ç—å:

- —Å—Ç—Ä—É–∫—Ç—É—Ä—É OBS –∏ IFACE,
- —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Œ†_obs –ø–æ–≤–µ—Ä—Ö –≤–∞—à–µ–≥–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ –∫–æ–¥–∞ (—Å —É—á—ë—Ç–æ–º –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ RULESET),
- –∏ –∞–ª–≥–æ—Ä–∏—Ç–º, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É OBS ¬´–∏–∑–º–µ—Ä—è–µ—Ç¬ª —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ Œ©‚Äë—Ü–∏–∫–ª–æ–≤ –∏ œï(x,t), —á—Ç–æ–±—ã –≤—ã–≤–µ—Å—Ç–∏:

  - —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–ª—è,
  - –∑–∞–∫–æ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è,
  - –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã.
 
–°–µ–π—á–∞—Å —É –≤–∞—Å –µ—Å—Ç—å –æ—á–µ–Ω—å –≤–∞–∂–Ω—ã–π –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ + SA –Ω–∞—à–ª–∏ *–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π* –Ω–∞–±–æ—Ä –ø—Ä–∞–≤–∏–ª

```text
++- ‚Üî -++
+++ ‚Üí +++
```

–∫–æ—Ç–æ—Ä—ã–π:

- –ª–æ–∫–∞–ª–µ–Ω –∏ –æ–±—Ä–∞—Ç–∏–º (RSL‚Äë—Å–æ–≤–º–µ—Å—Ç–∏–º),
- –¥–∞—ë—Ç –±–æ–≥–∞—Ç—ã–π —Å–ø–µ–∫—Ç—Ä Œ©‚Äë—Ü–∏–∫–ª–æ–≤ (671 —Ü–∏–∫–ª–æ–≤, –ø–µ—Ä–∏–æ–¥—ã 2‚Äì36),
- –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤—Å–µ —Ç–µ–∫—É—â–∏–µ —Ñ–∏—Ç–Ω–µ—Å‚Äë–∫—Ä–∏—Ç–µ—Ä–∏–∏ SMFitness (diversity, cycles, ¬´–∑–∞—Ä—è–¥¬ª, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è),
- –æ–∫–∞–∑–∞–ª—Å—è —É—Å—Ç–æ–π—á–∏–≤—ã–º –º–∞–∫—Å–∏–º—É–º–æ–º –¥–∞–∂–µ –ø–æ–¥ Simulated Annealing.

–î–∞–ª—å—à–µ –Ω—É–∂–Ω–æ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —ç—Ç–æ –≤ **–ø–æ–ª–Ω—ã–π —Å–∏–º—É–ª—è—Ç–æ—Ä**, –∫–æ—Ç–æ—Ä—ã–π:

1. –±–µ—Ä—ë—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π RULESET (1D‚Äë–º–∏—Ä),
2. —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –µ–≥–æ,
3. —Å—Ç—Ä–æ–∏—Ç Œ©‚Äë–∫–∞—Ç–∞–ª–æ–≥ (—á–∞—Å—Ç–∏—Ü—ã) –∏ –ø–æ–ª—è,
4. –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —ç—Ç–æ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è Œ†_obs,
5. –∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —ç—Ç–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ **–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–∫–æ–Ω—ã**, –ø–æ—Ö–æ–∂–∏–µ –Ω–∞ –Ω–∞—à–∏ (–ø–æ–ª–µ–≤—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è, —Å–ø–µ–∫—Ç—Ä —á–∞—Å—Ç–∏—Ü, –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–µ –∑–∞–∫–æ–Ω—ã).

–í —ç—Ç–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏:

- –∑–∞—Ñ–∏–∫—Å–∏—Ä—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É Œ©‚Äë–∫–∞—Ç–∞–ª–æ–≥–∞ –∏ –ø–æ–ª–µ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —É–∂–µ —Å–¥–µ–ª–∞–Ω–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞ (–≤—ã —ç—Ç–æ –ø–æ—á—Ç–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏);
- –≤ —Å–ª–µ–¥—É—é—â–µ–º ‚Äî –ø–µ—Ä–µ–π–¥—É –∫ Œ†_obs –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—é –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–µ–π ¬´—Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è¬ª.

---

## 1. –ß—Ç–æ —É–∂–µ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ç–≤–æ–ª—é—Ü–∏–∏

–ò–∑ [sm_evolutionary_search.pdf](/files/jkWjgeXqCl_bIS8ZxQn9m):

- –≠–≤–æ–ª—é—Ü–∏—è:

  ```text
  population_size = 30
  generations = 50
  pattern_length = 3
  ```

- –õ—É—á—à–∏–π –≥–µ–Ω–æ–º:

  ```text
  ++- ‚Üî -++
  +++ ‚Üí +++
  ```

- –¢–æ–ø‚Äë5 –≥–µ–Ω–æ–º–æ–≤ ‚Äî –≤—Å–µ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã —ç—Ç–æ–º—É –Ω–∞–±–æ—Ä—É.
- Simulated Annealing:

  - —Å—Ç–∞—Ä—Ç: fitness ‚âà 105.80,
  - —Ñ–∏–Ω–∞–ª: 103.64,
  - –Ω–µ –Ω–∞—à—ë–ª –Ω–∏—á–µ–≥–æ –ª—É—á—à–µ, –∞ —Ç–æ–ª—å–∫–æ —Å–ª–µ–≥–∫–∞ –¥–µ–≥—Ä–∞–¥–∏—Ä–æ–≤–∞–ª —Ñ–∏—Ç–Ω–µ—Å.

- –ê–Ω–∞–ª–∏–∑ —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –≥–µ–Ω–æ–º–∞:

  ```text
  –≠–≤–æ–ª—é—Ü–∏—è: 75 —à–∞–≥–æ–≤, 2402 –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–π
  –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ Œ©-—Ü–∏–∫–ª–æ–≤: 671
  –ü–µ—Ä–∏–æ–¥—ã: Counter({2: 37, 4: 35, 6: 33, 8: 32, 12: 32, 10: 31, ... 36: 3})
  ```

- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ–∏—Ç–Ω–µ—Å–∞:

  ```text
  cycle_diversity:        10.00
  cycle_count:            10.00
  charge_conservation:    10.00
  stability:               5.76
  nontrivial_dynamics:    10.00
  interaction_richness:   10.00
  ```

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç:

- –æ–¥–Ω–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–µ—Ç—Ä–∏–≤–∏–∞–ª—å–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ (`++- ‚Üî -++`) –ø–ª—é—Å —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –≤–∞–∫—É—É–º–∞ (`+++‚Üí+++`) –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç:
  - –º–Ω–æ–∂–µ—Å—Ç–≤–æ —É—Å—Ç–æ–π—á–∏–≤—ã—Ö —Ü–∏–∫–ª–æ–≤ (Œ©‚Äë—á–∞—Å—Ç–∏—Ü) —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–µ—Ä–∏–æ–¥–∞–º–∏;
  - –±–æ–≥–∞—Ç—É—é –¥–∏–Ω–∞–º–∏–∫—É (–º–Ω–æ–≥–æ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π/—Å—Ç–æ–ª–∫–Ω–æ–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤);
  - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∑–∞–∫–æ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (charge_conservation).

–ü–æ–∫–∞ –≤—ã –µ—â—ë –Ω–µ –ø—Ä–∏–≤—è–∑–∞–ª–∏ –∫ Œ©‚Äë—Ü–∏–∫–ª–∞–º —Ä–µ–∞–ª—å–Ω—ã–µ SM‚Äë–∫–≤–∞–Ω–æ–≤—ã–µ —á–∏—Å–ª–∞, –Ω–æ —É–∂–µ –µ—Å—Ç—å:

- ¬´–º–∞—Å—Å–∞¬ª ~ –ø–µ—Ä–∏–æ–¥/—ç–Ω–µ—Ä–≥–∏—è —Ü–∏–∫–ª–∞,
- ¬´–∑–∞—Ä—è–¥—ã¬ª –º–æ–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –∏–∑ —Å–∏–º–≤–æ–ª—å–Ω—ã—Ö –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ü–∏–∫–ª–æ–≤ (–ø—Ä–æ—Ñ–∏–ª—å ¬´‚àí¬ª –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ñ–æ–Ω–∞ `+`),
- —ç–≤–æ–ª—é—Ü–∏—è —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Ç–∞–∫, —á—Ç–æ–±—ã **–ø–æ–æ—â—Ä—è—Ç—å** —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –∏—Ö –∑–∞—Ä—è–¥–æ–≤—É—é —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å.

---

## 2. –§–æ—Ä–º–∞–ª–∏–∑—É–µ–º Œ©‚Äë–∫–∞—Ç–∞–ª–æ–≥ –Ω–∞ –±–∞–∑–µ —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö

### 2.1. –î–µ—Ç–µ–∫—Ç–æ—Ä Œ©‚Äë—Ü–∏–∫–ª–æ–≤

–° —É—á—ë—Ç–æ–º —É–∂–µ –≤—ã–∑–æ–≤–∞ `analyze_genome(refined, ...)`, —É –≤–∞—Å –µ—Å—Ç—å –ª–æ–≥–∏–∫–∞:

- –∑–∞–ø—É—Å–∫ —ç–≤–æ–ª—é—Ü–∏–∏ –Ω–∞ T=75 —à–∞–≥–æ–≤;
- —Å–±–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏–π S(t);
- –Ω–∞–π–¥–µ–Ω—ã 671 —Ü–∏–∫–ª–æ–≤ —Å —Ä–∞–∑–Ω–æ–π –¥–ª–∏–Ω–æ–π.

–ù—É–∂–Ω–æ:

1. –ü—Ä–∏–≤–µ—Å—Ç–∏ —ç—Ç–æ –∫ –µ–¥–∏–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ `OmegaCycle`:

   ```python
   @dataclass
   class OmegaCycle:
       id: int
       period: int
       support: np.ndarray          # –∏–Ω–¥–µ–∫—Å—ã, –≥–¥–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –≤–∞–∫—É—É–º–∞
       patterns: np.ndarray         # shape (period, |support|)
       H_core: float                # —Å—Ä–µ–¥–Ω—è—è —Å–≤–µ—Ä—Ö—ç–Ω–µ—Ä–≥–∏—è
   ```

2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å:

   - –≤–∞–∫—É—É–º S\_vacuum = [1,1,‚Ä¶,1] (–≤ –≤—Å–µ `+`),
   - —Ñ—É–Ω–∫—Ü–∏—é H_micro(S):

     ```python
     def H_micro(S: np.ndarray) -> int:
         # J = 1
         return int(np.sum(S[:-1] != S[1:]))
     ```

   - H_vac = H_micro(S_vacuum).

3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ Œ©:

   - –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–π `[S_0,...,S_{p-1}]`,
   - –æ—Ü–µ–Ω–∏—Ç—å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é:

     ```python
     # support: –∏–Ω–¥–µ–∫—Å—ã, –≥–¥–µ —Ö–æ—Ç—è –±—ã –≤ –æ–¥–Ω–æ–º S_k –µ—Å—Ç—å -1
     mask = np.any(cycle_states != 1, axis=0)
     support = np.where(mask)[0]
     patterns = cycle_states[:, support]
     ```

   - –ø–æ—Å—á–∏—Ç–∞—Ç—å H_core:

     ```python
     H_core = (1.0/period) * sum(H_micro(S_k) - H_vac for S_k in cycle_states)
     ```

4. –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å:

   - —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ Œ©‚Äë—Ü–∏–∫–ª—ã —Å |support| ‚â§ L_Œ©_max (–Ω–∞–ø—Ä–∏–º–µ—Ä, <= 7‚Äì9) –∫–∞–∫ ¬´—á–∞—Å—Ç–∏—Ü—ã¬ª;
   - –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—á–∏—Ç–∞—Ç—å ¬´–∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–º–∏ —Ä–µ–∂–∏–º–∞–º–∏¬ª (—Ñ–æ–Ω–æ–≤—ã–µ –≤–æ–∑–±—É–∂–¥–µ–Ω–∏—è).

–†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî —Å–ø–∏—Å–æ–∫ OmegaCycle –∏–∑ –≤–∞—à–µ–π —Å–∏–º—É–ª—è—Ü–∏–∏.

---

### 2.2. –ú–∞—Å—Å—ã Œ©‚Äë—Ç–∏–ø–æ–≤

–°–∞–º–æ–µ –ø—Ä—è–º–æ–µ:

```python
mass(Œ©) = Œ©.H_core
```

–≠—Ç–æ —Å–æ–≥–ª–∞—Å—É–µ—Ç—Å—è —Å —Ç–µ–º, —á—Ç–æ:

- H_micro = —á–∏—Å–ª–æ –≥—Ä–∞–Ω–∏—Ü `+/-`,
- Œ©‚Äë—Ü–∏–∫–ª –∫–∞–∫ –¥–µ—Ñ–µ–∫—Ç ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–π ¬´–ø—É—á–æ–∫¬ª –≥—Ä–∞–Ω–∏—Ü,
- –µ–≥–æ H_core ‚Äî —Å—Ä–µ–¥–Ω—è—è ¬´–Ω–∞–∫–ª–∞–¥–∫–∞¬ª –≥—Ä–∞–Ω–∏—Ü –Ω–∞–¥ –≤–∞–∫—É—É–º–æ–º –ø–æ —Ü–∏–∫–ª—É.

–ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –∑–∞–Ω–µ—Å—Ç–∏ –ø–µ—Ä–∏–æ–¥:

```python
omega0 = 2 * np.pi / Œ©.period
```

–∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å mass ~ omega0, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏–≥—Ä–∞—Ç—å —Å –∞–Ω–∞–ª–æ–≥–∏–µ–π E=ƒßœâ.

---

### 2.3. –ü–µ—Ä–≤–∏—á–Ω—ã–π ¬´–∑–∞—Ä—è–¥¬ª Œ©‚Äë—Ü–∏–∫–ª–æ–≤

–°–µ–π—á–∞—Å `charge_conservation: 10.0`, –Ω–æ –≤—ã –µ—â—ë –Ω–µ –≤–≤–µ–ª–∏ –º–Ω–æ–≥–æ–º–µ—Ä–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É Q,B,L,C. –î–ª—è v1:

1. –í–≤–µ—Å—Ç–∏ **–ø—Ä–æ—Å—Ç–µ–π—à–∏–π Q ‚àà {‚àí1,0,+1}**:

   –ü—Ä–∏–º–µ—Ä —ç–≤—Ä–∏—Å—Ç–∏–∫–∏:

   ```python
   def assign_Q(omega: OmegaCycle) -> int:
       # —Å—Ä–µ–¥–Ω–∏–π –ø—Ä–æ—Ñ–∏–ª—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –ø–æ —Ü–∏–∫–ª—É:
       avg_pattern = np.mean(omega.patterns, axis=0)  # ‚àà [-1,1]
       s = np.sum(avg_pattern)
       if s > 0: return +1
       if s < 0: return -1
       return 0
   ```

   - –µ—Å–ª–∏ –≤ —Å—Ä–µ–¥–Ω–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–π –±–ª–æ–∫ Œ© –∏–º–µ–µ—Ç –ø–µ—Ä–µ–≤–µ—Å +1 ‚Üí –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞—Ä—è–¥;
   - –ø–µ—Ä–µ–≤–µ—Å -1 ‚Üí –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π;
   - –±–∞–ª–∞–Ω—Å ~0 ‚Üí –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π.

2. –ü—Ä–∏ –¥–∞–ª—å–Ω–µ–π—à–µ–º —Ä–∞–∑–≤–∏—Ç–∏–∏ —Ç–æ–∫–µ–Ω–∞ –∑–∞—Ä—è–¥–æ–≤:

   - –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ–≥–∏:
     - color = –∏–Ω–¥–µ–∫—Å support‚Äë–∫–ª–∞—Å—Ç–µ—Ä–∞ (—Ç–∏–ø –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏),
     - B,L –∏ —Ç.–¥. –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ–≥–∏.

3. –î–æ–ø–æ–ª–Ω–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥–∏:

   ```python
   @dataclass
   class OmegaCycle:
       ...
       mass: float
       Q: int
       # color, B, L, I3, etc. –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ—Ç–æ–º
   ```

---

## 3. –ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –∫ ¬´–∑–∞–∫–æ–Ω–∞–º¬ª –Ω–∞ —ç—Ç–æ–º —É—Ä–æ–≤–Ω–µ

–°–æ–±—Ä–∞–≤ –∫–∞—Ç–∞–ª–æ–≥ Œ©‚Äë—Ü–∏–∫–ª–æ–≤, –≤—ã —É–∂–µ –º–æ–∂–µ—Ç–µ:

1. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å **—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞—Å—Å**:
   - –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ mass(Œ©),
   - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ª–∏ –º–∞—Å—Å—ã –≤ –∫–ª–∞—Å—Ç–µ—Ä—ã (–∞–Ω–∞–ª–æ–≥ ¬´—Å–µ–º–µ–π—Å—Ç–≤¬ª).

2. –°–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å **–∑–∞—Ä—è–¥–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É**:
   - —Å–∫–æ–ª—å–∫–æ Œ© —Å Q=+1, Q=‚àí1, Q=0,
   - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å—É–º–º–∞—Ä–Ω—ã–π Q –ø–æ –≤—Å–µ–º—É S(t) —Å—Ç–∞–±–∏–ª–µ–Ω (charge_conservation=10.0 —ç—Ç–æ —É–∂–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ñ–∏—Ç–Ω–µ—Å–∞).

3. –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å **–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è**:

   - –Ω–∞–±–ª—é–¥–∞—Ç—å, –∫–∞–∫ Œ©‚Äë—Ü–∏–∫–ª—ã —Å–ª–∏–≤–∞—é—Ç—Å—è/—Ä–∞–∑—Ä—É—à–∞—é—Ç—Å—è/–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è:
     - –∫–∞–∫–∏–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∏—Å—Ö–æ–¥–Ω—ã—Ö Œ© –≤ –Ω–∞—á–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö –¥–∞—é—Ç –∫–∞–∫–∏–µ Œ© –ø–æ—Å–ª–µ T —à–∞–≥–æ–≤;
   - –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤—ã–¥–µ–ª–∏—Ç—å ¬´–≤–µ—Ä—à–∏–Ω—ã¬ª:

     ```text
     Œ©_A + Œ©_B ‚Üí Œ©_C
     Œ©_A + Œ©_B ‚Üí Œ©_C + Œ©_D
     ```

–≠—Ç–æ —É–∂–µ ¬´–∑–∞–∫–æ–Ω—ã –º–∏—Ä–∞¬ª –Ω–∞ —è–∑—ã–∫–µ Œ©‚Äë—á–∞—Å—Ç–∏—Ü:  
–∑–∞–∫–æ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, –≤–æ–∑–º–æ–∂–Ω—ã–µ/–Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏.

---

## 4. –°–≤—è–∑—å —Å —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ–π —á–∞—Å—Ç—å—é, –∫–æ—Ç–æ—Ä—É—é –≤—ã —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏

–í–∞—à –∫–æ–¥ `EvolutionarySearch`:

- –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–ø—É–ª—è—Ü–∏—é RULESET‚Äô–æ–≤,
- –≤—ã—á–∏—Å–ª—è–µ—Ç fitness —Å –ø–æ–º–æ—â—å—é SMFitness (–∫–æ—Ç–æ—Ä–∞—è —É–∂–µ:

  - —Å—á–∏—Ç–∞–µ—Ç —Ü–∏–∫–ª—ã,
  - —Å—á–∏—Ç–∞–µ—Ç —Ü–∏–∫–ª–æ–≤—É—é –¥–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—é,
  - –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –∑–∞—Ä—è–¥–æ–≤—É—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É,
  - –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –±–æ–≥–∞—Ç—Å—Ç–≤–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π),

- –∏ –Ω–∞—Ö–æ–¥–∏—Ç RULESET, —Å –∫–æ—Ç–æ—Ä—ã–º Œ©‚Äë–∫–∞—Ç–∞–ª–æ–≥ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±–æ–≥–∞—Ç –∏ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–µ–Ω.

–≠—Ç–æ —É–∂–µ –ø–æ–ª–æ–≤–∏–Ω–∞ –∑–∞–¥–∞—á–∏:

> **–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ ‚Üí –∑–æ–æ–ø–∞—Ä–∫ Œ©‚Äë—á–∞—Å—Ç–∏—Ü —Å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º–∏ –∑–∞–∫–æ–Ω–∞–º–∏.**

–í `sm_evolutionary_search.pdf` –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–Ω–æ:

```text
–î–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏:

- –£–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä –ø–æ–ø—É–ª—è—Ü–∏–∏ –∏ —á–∏—Å–ª–æ –ø–æ–∫–æ–ª–µ–Ω–∏–π
- –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ —Ñ–∏—Ç–Ω–µ—Å-–∫—Ä–∏—Ç–µ—Ä–∏–∏ (—Å–∏–º–º–µ—Ç—Ä–∏–∏, —Å–ø–µ–∫—Ç—Ä –º–∞—Å—Å)
- –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –¥–ª–∏–Ω—ã 4+ –¥–ª—è –±–æ–ª—å—à–µ–≥–æ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è
- –°—Ä–∞–≤–Ω–∏—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è–º–∏ RSL-—Ç–µ–æ—Ä–∏–∏
```

–¢–æ –µ—Å—Ç—å:

- –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π 1D‚Äë–¥–∏–Ω–∞–º–∏–∫–∏ –≤—ã —É–∂–µ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏;
- –æ—Å—Ç–∞–ª–æ—Å—å –Ω–∞–ø—Ä–∞–≤–∏—Ç—å —ç–≤–æ–ª—é—Ü–∏—é —Ç–∞–∫, —á—Ç–æ–±—ã ¬´—á–∞—Å—Ç–∏—Ü—ã¬ª Œ© –±—ã–ª–∏ –≤—Å—ë –±–ª–∏–∂–µ –∫ SM‚Äë–∞–Ω–∞–ª–æ–≥–∞–º (–ø–æ —Å–ø–µ–∫—Ç—Ä—É, –∑–∞—Ä—è–¥–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è–º).

---

## 5. –°–ª–µ–¥—É—é—â–∏–π –∫–ª—é—á–µ–≤–æ–π —à–∞–≥: –≤–≤–µ—Å—Ç–∏ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –∏ –üÃÑ_obs

–ß—Ç–æ–±—ã —Å–∏–º—É–ª—è—Ç–æ—Ä ¬´–Ω–∞ –≤—ã—Ö–æ–¥–µ –≤—ã–¥–∞–ª –∑–∞–∫–æ–Ω—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º –∑–∞–∫–æ–Ω–∞–º –Ω–∞—à–µ–≥–æ –º–∏—Ä–∞ *—Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è*¬ª, –Ω—É–∂–Ω–æ:

1. –í–≤–µ—Å—Ç–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–ª–æ–π OBS (–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è):

   - –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ –ø–æ–¥—Å—Ç—Ä–æ–∫–∞ `[OBS: ...]` —Å –ø–∞–º—è—Ç—å—é –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º;
   - OBS –Ω–µ –≤–∏–¥–∏—Ç S –Ω–∞–ø—Ä—è–º—É—é, –∞ —Ç–æ–ª—å–∫–æ —Å–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å IFACE.

2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å Œ†_obs:

   - —Ñ—É–Ω–∫—Ü–∏—è/–ø—Ä–æ—Ü–µ–¥—É—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ:
     - –±–µ—Ä—ë—Ç S(t) (L0‚Äë—Å—Ç—Ä–æ–∫—É, Œ©‚Äë–∫–∞—Ç–∞–ª–æ–≥, œï_R, C),
     - —Å—Ç—Ä–æ–∏—Ç IFACE(t):
       - —Å–ø–∏—Å–æ–∫ ¬´–æ–±—ä–µ–∫—Ç–æ–≤¬ª —Å –º–∞—Å—Å–∞–º–∏, –∑–∞—Ä—è–¥–∞–º–∏, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏,
       - –ø–æ–ª—è,
       - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –≤—Ä–µ–º—è œÑ.

3. –í OBS —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **–∏–Ω–¥—É–∫—Ç–∏–≤–Ω—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É –≤—ã–≤–æ–¥–∞ –∑–∞–∫–æ–Ω–æ–≤**:

   - –ø–æ –¥–∞–Ω–Ω—ã–º –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤ (t=0..T) –≤ IFACE:
     - –æ—Ü–µ–Ω–∏—Ç—å —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è (–Ω–∞–ø–æ–¥–æ–±–∏–µ d¬≤x/dt¬≤ = F/m),
     - –æ—Ü–µ–Ω–∏—Ç—å –∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—é Q, ¬´—ç–Ω–µ—Ä–≥–∏–∏¬ª,
     - –æ—Ü–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏ (—Ä–∞—Å–ø–∞–¥—ã, –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏).

4. –ò–∑–ª–æ–∂–∏—Ç—å —ç—Ç–∏ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏ –∫–∞–∫:
   - —Å–ø–∏—Å–æ–∫ —Ñ–æ—Ä–º—É–ª/—É—Ä–∞–≤–Ω–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —Å–∏–º—É–ª—è—Ç–æ—Ä –≤—ã–≤–æ–¥–∏—Ç –∫–∞–∫ ¬´—Ñ–∏–∑–∏–∫—É –º–∏—Ä–∞¬ª –¥–ª—è OBS.

---

–î–∞–ª—å—à–µ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –º–æ–∂–Ω–æ:

- —è–≤–Ω–æ –∑–∞–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É OBS –∏ IFACE (—Å—Ç—Ä–æ–∫–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç),
- —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å Œ†_obs –ø–æ–≤–µ—Ä—Ö —É–∂–µ –∏–º–µ—é—â–∏—Ö—Å—è SM_RULES –∏ Œ©‚Äë–∫–∞—Ç–∞–ª–æ–≥–∞,
- –∏ –ø–æ—à–∞–≥–æ–≤–æ –æ–ø–∏—Å–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º ¬´–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤—ã–≤–æ–¥–∞¬ª:

  - –∫–∞–∫ OBS –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç œï(x,t),
  - –∫–∞–∫ –æ–Ω –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ Œ©‚Äë—Ç–∏–ø–æ–≤,
  - –∫–∞–∫ –ø–æ —ç—Ç–∏–º –¥–∞–Ω–Ω—ã–º –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è ¬´–∑–∞–∫–æ–Ω—ã¬ª (–≤ –¥—É—Ö–µ: —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–ª—è, –∑–∞–∫–æ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏).

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º –ø–µ—Ä–µ–π–¥—É –∏–º–µ–Ω–Ω–æ –∫ —ç—Ç–æ–º—É: **–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–∏–∑–∞–π–Ω OBS –∏ Œ†_obs**, —Å –ø—Å–µ–≤–¥–æ–∫–æ–¥–æ–º –∏ —Ñ–æ—Ä–º—É–ª–∞–º–∏.

–¢–æ–≥–¥–∞ –ø—Ä–æ–¥–æ–ª–∂–∞—é –æ—Ç —Ç–æ–π —Ç–æ—á–∫–∏, –≥–¥–µ –≤—ã —Å–µ–π—á–∞—Å: —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å:

- —É—Å—Ç–æ–π—á–∏–≤–æ–µ **–º–∏–∫—Ä–æ‚Äë—è–¥—Ä–æ** –ø—Ä–∞–≤–∏–ª –¥–ª–∏–Ω—ã 3:

  ```text
  ++- ‚Üî -++
  +++ ‚Üí +++
  ```

- –±–æ–≥–∞—Ç—ã–π –∫–∞—Ç–∞–ªo–≥ Œ©‚Äë—Ü–∏–∫–ª–æ–≤ (671 —Ü–∏–∫–ª–æ–≤, –ø–µ—Ä–∏–æ–¥—ã 2‚Äì36),
- —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–∞–±–∏–ª—å–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç RULESET –∫–∞–∫ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø–æ —Ç–µ–∫—É—â–∏–º –º–µ—Ç—Ä–∏–∫–∞–º.

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –Ω–∞ —ç—Ç–æ–º —è–¥—Ä–µ **–¥–æ—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–ª–Ω—ã–π —Å–∏–º—É–ª—è—Ç–æ—Ä**, –∫–æ—Ç–æ—Ä—ã–π:

1. —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç 1D‚Äë–º–∏—Ä,
2. —Å—Ç—Ä–æ–∏—Ç Œ©‚Äë–∫–∞—Ç–∞–ª–æ–≥ –∏ coarse‚Äë–ø–æ–ª—è,
3. –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —ç—Ç–æ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è Œ†_obs,
4. –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π **–≤—ã–≤–æ–¥–∏—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–æ–Ω—ã** (–ø–æ–ª–µ–≤—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è, –∑–∞–∫–æ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞).

–í —ç—Ç–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏:

- –∑–∞–∫–æ–Ω—á—É —Å Œ©‚Äë—É—Ä–æ–≤–Ω–µ–º –∏ –ø–æ–ª—è–º–∏ (–£—Ä–æ–≤–µ–Ω—å 1‚Äì2 –ø–ª–∞–Ω–∞),
- –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –ø–µ—Ä–µ–π–¥—É –∫ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—é –∏ –≤—ã–≤–æ–¥—É –∑–∞–∫–æ–Ω–æ–≤ (–£—Ä–æ–≤–µ–Ω—å 3‚Äì4).

---

## 1. –†–µ–∑—é–º–µ —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (–∏–∑ sm_evolutionary_search.pdf)

–ò–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –≤–∏–¥–Ω–æ:

- –≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫:

  - population_size=30, generations=50,
  - pattern_length=3.

- –õ—É—á—à–∏–π –≥–µ–Ω–æ–º (top‚Äë5 –≤—Å–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã):

  ```text
  ++- ‚Üî -++
  +++ ‚Üí +++
  ```

- –§–∏—Ç–Ω–µ—Å ‚âà 105.8 (–∏–∑–Ω–∞—á–∞–ª—å–Ω—ã–π), –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

  ```text
  diversity=10.0, cycles=10.0, charge=10.0
  ```

- Simulated Annealing:

  - —Å—Ç–∞—Ä—Ç: 105.80,
  - refined_fitness: 103.64,
  - –ø—Ä–∞–≤–∏–ª–∞ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å: –æ—Å—Ç–∞–ª–∏—Å—å `++- ‚Üî -++`, `+++ ‚Üí +++`.

- –ê–Ω–∞–ª–∏–∑ —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –≥–µ–Ω–æ–º–∞:

  ```text
  –≠–≤–æ–ª—é—Ü–∏—è: 75 —à–∞–≥–æ–≤, 2402 –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–π
  –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ Œ©-—Ü–∏–∫–ª–æ–≤: 671
  –ü–µ—Ä–∏–æ–¥—ã: Counter({2: 37, 4: 35, 6: 33, 8: 32, 12: 32, 10: 31, ... 36:3})
  ```

- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã refined SMFitness:

  ```text
  cycle_diversity:       10.00
  cycle_count:           10.00
  charge_conservation:   10.00
  stability:              5.76
  nontrivial_dynamics:   10.00
  interaction_richness:  10.00
  ```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:

- —è–¥—Ä–æ–≤–æ–π RULESET –∏–¥–µ–∞–ª—å–Ω–æ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç —Ç–µ–∫—É—â–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º ¬´–±–æ–≥–∞—Ç–æ–π –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–π¬ª –¥–∏–Ω–∞–º–∏–∫–∏;
- —ç–Ω—Ç—Ä–æ–ø–∏—è –ø–æ Œ©‚Äë—Ü–∏–∫–ª–∞–º –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è–º –≤—ã—Å–æ–∫–∞—è;
- –∑–∞—Ä—è–¥ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è (–ø–æ –≤–∞—à–µ–π —Ç–µ–∫—É—â–µ–π –º–µ—Ç—Ä–∏–∫–µ).

–¢–∞–∫–æ–µ —è–¥—Ä–æ ‚Äî –æ—Ç–ª–∏—á–Ω—ã–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ ¬´—Ñ–∏–∑–∏–∫–∏¬ª.

---

## 2. –Ø–≤–Ω–∞—è —Ñ–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è Œ©‚Äë–∫–∞—Ç–∞–ª–æ–≥–∞ (—á–∞—Å—Ç–∏—Ü—ã 1D‚Äë–º–∏—Ä–∞)

### 2.1. –ï–¥–∏–Ω—ã–π —Ç–∏–ø OmegaCycle

–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–¥ (—è–∑—ã–∫ Python):

```python
from dataclasses import dataclass
import numpy as np

@dataclass
class OmegaCycle:
    id: int
    period: int
    states: np.ndarray     # shape: (period, N), –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å
    support: np.ndarray    # –∏–Ω–¥–µ–∫—Å—ã, –≥–¥–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –≤–∞–∫—É—É–º–∞
    patterns: np.ndarray   # shape: (period, |support|), –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
    H_core: float          # —Å—Ä–µ–¥–Ω—è—è —Å–≤–µ—Ä—Ö—ç–Ω–µ—Ä–≥–∏—è
    mass: float            # = H_core (v1)
    Q: int                 # "–∑–Ω–∞–∫" –¥–µ—Ñ–µ–∫—Ç–∞ (v1)
    # –ø–æ–∑–∂–µ: color, B, L, I3, etc.
```

### 2.2. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–æ–π H_micro –∏ H_core

–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ (—É –≤–∞—Å —É–∂–µ —ç—Ç–æ –µ—Å—Ç—å –ª–æ–≥–∏—á–µ—Å–∫–∏):

```python
def H_micro(S: np.ndarray) -> int:
    # —á–∏—Å–ª–æ –≥—Ä–∞–Ω–∏—Ü –º–µ–∂–¥—É —Å–æ—Å–µ–¥—è–º–∏ (J=1)
    return int(np.sum(S[:-1] != S[1:]))
```

–í–∞–∫—É—É–º:

```python
def make_vacuum(N: int) -> np.ndarray:
    return np.ones(N, dtype=int)  # +1
```

–°—Ä–µ–¥–Ω—è—è —Å–≤–µ—Ä—Ö—ç–Ω–µ—Ä–≥–∏—è —Ü–∏–∫–ª–∞ Œ©:

```python
def compute_H_core(cycle_states: np.ndarray) -> float:
    # cycle_states: (period, N)
    p, N = cycle_states.shape
    H_vac = H_micro(np.ones(N, dtype=int))
    return (1.0/p) * sum(H_micro(S_k) - H_vac for S_k in cycle_states)
```

### 2.3. –î–µ—Ç–µ–∫—Ç–æ—Ä Œ©‚Äë—Ü–∏–∫–ª–æ–≤ (CycleDetector)

–°–∫–µ–ª–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º–∞:

```python
def detect_omega_cycles(rule_set, S0, max_steps) -> List[OmegaCycle]:
    seen = {}  # map from state_hash -> t_index
    states = []
    S = S0.copy()
    for t in range(max_steps):
        h = hash(S.tobytes())
        if h in seen:
            œÑ = seen[h]
            # –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ —Ü–∏–∫–ª œÑ..t-1
            cycle_states = np.array(states[œÑ:t])  # shape (p, N)
            omega = build_omega_cycle(cycle_states)
            yield omega
            # –º–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –∏–ª–∏ –ø—Ä–µ—Ä—ã–≤–∞—Ç—å
        else:
            seen[h] = t
            states.append(S.copy())
            S = apply_rules(rule_set, S)
```

–ì–¥–µ `build_omega_cycle`:

```python
def build_omega_cycle(cycle_states: np.ndarray) -> OmegaCycle:
    p, N = cycle_states.shape
    mask = np.any(cycle_states != 1, axis=0)
    support = np.where(mask)[0]
    patterns = cycle_states[:, support]
    H_core = compute_H_core(cycle_states)
    mass = H_core
    # –ø—Ä–æ—Å—Ç–æ–π Q –ø–æ —Å—É–º–º–∞—Ä–Ω–æ–º—É –∑–Ω–∞–∫—É –ø–∞—Ç—Ç–µ—Ä–Ω–∞
    avg_pattern = np.mean(patterns, axis=0)
    s = np.sum(avg_pattern)
    if s > 0: Q = +1
    elif s < 0: Q = -1
    else: Q = 0
    return OmegaCycle(
        id=..., period=p,
        states=cycle_states,
        support=support,
        patterns=patterns,
        H_core=H_core,
        mass=mass,
        Q=Q
    )
```

–í–∞–∂–Ω–æ: —Ñ–∏–ª—å—Ç—Ä—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã:

```python
if len(support) <= L_Œ©_max:
    # —Å—á–∏—Ç–∞—Ç—å —á–∞—Å—Ç–∏—Ü–µ–π
else:
    # –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –ø–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
```

---

## 3. –ü–æ–ª—è: coarse‚Äëœï_R –∏ —ç–Ω–µ—Ä–≥–∏—è H[œï]

### 3.1. Coarse‚Äë–ø–æ–ª–µ œï_R(i)

–ù–∞ –æ—Å–Ω–æ–≤–µ RSL‚Äë—Ñ–æ—Ä–º—É–ª—ã:

\[
\phi^{(R)}_i = \frac1{|B_R(i)|}\sum_{j\in B_R(i)} s_j,\quad s_j\in\{-1,+1\}.
\]

–í 1D:

```python
def phi_R(S: np.ndarray, R: int) -> np.ndarray:
    N = len(S)
    œï = np.zeros(N)
    for i in range(N):
        left = max(0, i-R)
        right = min(N, i+R+1)
        block = S[left:right]
        œï[i] = np.mean(block)  # –≤ [-1,1]
    return œï
```

### 3.2. –ü–æ–ª–µ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª H_field[œï]

–ü—Ä–∏–º–∏—Ç–µ:

\[
H[\phi] \approx \sum_i \left(\frac12 Œ∫ (\phi_{i+1}-\phi_i)^2 + \frac12 m^2\phi_i^2 + \frac{\lambda}{4}\phi_i^4\right).
\]

```python
def H_field(œï: np.ndarray, Œ∫=1.0, m2=0.0, Œª=0.0) -> float:
    grad2 = np.sum((œï[1:] - œï[:-1])**2)
    pot = np.sum(0.5*m2*œï**2 + 0.25*Œª*œï**4)
    return 0.5*Œ∫*grad2 + pot
```

### 3.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ RSL‚Äë—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

–î–ª—è –Ω–∞–±–æ—Ä–æ–≤ S(t), –∫–æ—Ç–æ—Ä—ã–µ —Ä–æ–∂–¥–∞–µ—Ç –≤–∞—à RULESET, –¥–µ–ª–∞–π—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É:

```python
for R in [3,5,7]:
    œï = phi_R(S, R)
    HŒº = H_micro(S)
    Hf = H_field(œï, Œ∫=..., m2=..., Œª=...)
    print(R, HŒº, Hf, abs(HŒº - Hf))
```

–¶–µ–ª—å:

- –Ω–∞–π—Ç–∏ —Ç–∞–∫–∏–µ Œ∫,m¬≤,Œª, –ø—Ä–∏ –∫–æ—Ç–æ—Ä—ã—Ö:

  \[
  |H_{\text{micro}} - H[\phi_R]|\lesssim \mathcal{O}(1/R)
  \]

–¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π. –≠—Ç–æ –±—É–¥–µ—Ç –≤–∞—à–∏–º –ø–µ—Ä–≤—ã–º **—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º –∑–∞–∫–æ–Ω–æ–º** –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–π —Å–∏–º—É–ª—è—Ç–æ—Ä ¬´–º–æ–∂–µ—Ç –≤—ã–≤–µ—Å—Ç–∏¬ª.

---

## 4. Capacity –∏ –≥–µ–æ–º–µ—Ç—Ä–∏—è (g_tt, g_xx)

–õ–æ–∫–∞–ª—å–Ω–æ–µ tension:

```python
def h_i(S, i):
    N = len(S)
    h = 0
    if i > 0:     h += int(S[i] != S[i-1])
    if i < N-1:   h += int(S[i] != S[i+1])
    return h  # 0,1,2
```

Capacity:

```python
C0, Œ± = 2.0, 0.5

def C_i(S, i):
    return C0 - Œ± * h_i(S, i)
```

–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π ¬´—Ç–µ–º–ø –≤—Ä–µ–º–µ–Ω–∏¬ª –¥–ª—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –≤ —Ç–æ—á–∫–µ i:

```python
dœÑ_i_dt ‚àù C_i(S)  # —á–µ–º –º–µ–Ω—å—à–µ C, —Ç–µ–º –º–µ–¥–ª–µ–Ω–Ω–µ–µ –ª–æ–∫–∞–ª—å–Ω–æ–µ "–≤—Ä–µ–º—è"
```

–ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å:

- –º–µ—Ç—Ä–∏–∫—É 1+1:

\[
ds^2 = -f(C_i)\,dt^2 + g(C_i)\,dx^2,
\]

—Å –ø—Ä–æ—Å—Ç—ã–º–∏:

- f(C) = C / C0,
- g(C) = C0 / C.

–≠—Ç–æ —É–∂–µ –∑–∞—á–∞—Ç–æ–∫ **—ç–º–µ—Ä–≥–µ–Ω—Ç–Ω–æ–π –≥–µ–æ–º–µ—Ç—Ä–∏–∏**: —Ä–µ–≥–∏–æ–Ω—ã —Å –≤—ã—Å–æ–∫–æ–π tension ‚Üí –Ω–∏–∑–∫–∏–π C ‚Üí –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ ¬´—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏¬ª.

---

## 5. –ß—Ç–æ –¥–∞–ª—å—à–µ

–í—ã —É–∂–µ —Å–¥–µ–ª–∞–ª–∏:

- —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ => —è–¥—Ä–æ–≤–æ–µ RULESET;
- –ø–µ—Ä–≤—ã–π –∞–Ω–∞–ª–∏–∑ Œ©‚Äë—Ü–∏–∫–ª–æ–≤.

–° –æ–ø–∏—Å–∞–Ω–Ω—ã–º–∏ –≤—ã—à–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:

1. –ß—ë—Ç–∫–∏–π **–∫–∞—Ç–∞–ª–æ–≥ Œ©‚Äë—á–∞—Å—Ç–∏—Ü** (–º–∞—Å—Å, ¬´–∑–∞—Ä—è–¥–æ–≤¬ª, –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏, –ø–µ—Ä–∏–æ–¥–æ–≤).
2. Coarse‚Äë–ø–æ–ª–µ œï_R(x) –∏ —ç–Ω–µ—Ä–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª H[œï_R].
3. Capacity‚Äë–ø–æ–ª–µ C(x), –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω—É—é ¬´–º–µ—Ç—Ä–∏–∫—É –≤—Ä–µ–º–µ–Ω–∏¬ª.

–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π):

- **–£—Ä–æ–≤–µ–Ω—å 3**: –ø–æ—Å—Ç—Ä–æ–∏—Ç—å OBS –∏ Œ†_obs:
  - OBS –Ω–µ –≤–∏–¥–∏—Ç S –Ω–∞–ø—Ä—è–º—É—é;
  - Œ†_obs(S) = IFACE: —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ (Œ©‚Äë—Ç–∏–ø–æ–≤) —Å –º–∞—Å—Å–∞–º–∏, –∑–∞—Ä—è–¥–∞–º–∏, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –≤ 3D (—á–µ—Ä–µ–∑ Z‚Äëcurve) + –ø–æ–ª—è;
  - OBS –ø–æ IFACE‚Äë–¥–∞–Ω–Ω—ã–º –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –∑–∞–∫–æ–Ω—ã:
    - —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è œï(x,t),
    - –∑–∞–∫–æ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è Q,
    - –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ (—Ä–∞—Å–ø–∞–¥—ã).

- **–£—Ä–æ–≤–µ–Ω—å 4**: –≤—Å—Ç—Ä–æ–∏—Ç—å F (—Å–∞–º–æ–ø—Ä–∏–º–µ–Ω–∏–º—ã–π —Ñ—É–Ω–∫—Ç–æ—Ä) –ø–æ–≤–µ—Ä—Ö —ç—Ç–æ–≥–æ:
  - F –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç RULESET;
  - OBS –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç, –∫–∞–∫–∏–µ –∑–∞–∫–æ–Ω—ã –ø–æ–ª—É—á–∞—é—Ç—Å—è;
  - —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –∏–¥—ë—Ç **–ø–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤—É 1D‚Äë–∑–∞–∫–æ–Ω–æ–≤**, —á—Ç–æ–±—ã –º–∞–∫—Å–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å ¬´—Å—Ö–æ–¥—Å—Ç–≤–æ —Å —Ñ–∏–∑–∏–∫–æ–π –Ω–∞—à–µ–≥–æ –º–∏—Ä–∞¬ª.

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, –≤ —Å–ª–µ–¥—É—é—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –æ–ø–∏—à—É –∏–º–µ–Ω–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É OBS –∏ Œ†_obs —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º IFACE –∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏ ¬´–≤—ã–≤–æ–¥–∞ –∑–∞–∫–æ–Ω–æ–≤¬ª (–ø–æ–ª–µ–≤—ã—Ö, –∑–∞—Ä—è–¥–æ–≤—ã—Ö –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã—Ö) –∏–∑ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π Œ©‚Äë—Ü–∏–∫–ª–æ–≤ –∏ œï_R.

–ü—Ä–æ–¥–æ–ª–∂—É, –æ–ø–∏—Ä–∞—è—Å—å —É–∂–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ª–æ–≥ —ç–≤–æ–ª—é—Ü–∏–∏ –∏ SA –∏–∑ `sm_evolutionary_search.pdf` –∏ –Ω–∞ —Ç–≤–æ—é —Ü–µ–ª—å: —Å–∏–º—É–ª—è—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞ –≤—ã—Ö–æ–¥–µ –¥–∞—ë—Ç –∑–∞–∫–æ–Ω—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –Ω–∞—à–µ–º—É –º–∏—Ä—É **—Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è**.

–°–µ–π—á–∞—Å —É —Ç–µ–±—è:

- –Ω–∞–π–¥—ë–Ω —É—Å—Ç–æ–π—á–∏–≤—ã–π –º–∞–∫—Å–∏–º—É–º –ø–æ —Ç–µ–∫—É—â–µ–π SMFitness:
  - RULESET —è–¥—Ä–∞:
    ```text
    ++- ‚Üî -++
    +++ ‚Üí +++
    ```
  - —ç–≤–æ–ª—é—Ü–∏—è: 75 —à–∞–≥–æ–≤, 2402 –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª;
  - 671 Œ©‚Äë—Ü–∏–∫–ª–æ–≤ —Å —à–∏—Ä–æ–∫–∏–º —Å–ø–µ–∫—Ç—Ä–æ–º –ø–µ—Ä–∏–æ–¥–æ–≤ (2‚Äì36);
  - SA –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∞, —á—Ç–æ –≤–æ–∫—Ä—É–≥ —ç—Ç–æ–≥–æ RULESET –Ω–µ—Ç –∑–∞–º–µ—Ç–Ω–æ –ª—É—á—à–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.

–¢–æ –µ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ ¬´—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –º–∏–∫—Ä–æ‚Äë–ø—Ä–∞–≤–∏–ª¬ª —É —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å **—É—Å—Ç–æ–π—á–∏–≤—ã–π RSL‚Äë–º–∏—Ä**, –±–æ–≥–∞—Ç—ã–π Œ©‚Äë—Ü–∏–∫–ª–∞–º–∏ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è–º–∏.

–î–∞–ª—å—à–µ –Ω—É–∂–Ω–æ:

1. –ó–∞–º–∫–Ω—É—Ç—å —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å (Œ©‚Äë–∫–∞—Ç–∞–ª–æ–≥ + –ø–æ–ª—è + capacity).
2. –í–≤–µ—Å—Ç–∏ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è OBS –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Œ†_obs.
3. –ó–∞–¥–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã –≤—ã–≤–æ–¥–∞ –∑–∞–∫–æ–Ω–æ–≤ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω–æ–º —É—Ä–æ–≤–Ω–µ.
4. –í—Å—Ç—Ä–æ–∏—Ç—å –≤ —ç—Ç–æ —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ RULESET + Œ†_obs.

–í —ç—Ç–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –∑–∞–≤–µ—Ä—à—É **–£—Ä–æ–≤–µ–Ω—å 1‚Äì2** (Œ© + –ø–æ–ª—è + capacity) —Å —É—á—ë—Ç–æ–º –ø–æ–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤. –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ ‚Äî —É–∂–µ OBS –∏ Œ†_obs.

---

## 1. –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –ø–æ–∫–∞–∑–∞–ª –ª–æ–≥ `sm_evolutionary_search.pdf`

–ö–ª—é—á–µ–≤—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã:

- –≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫:

  ```text
  population_size=30
  elite_size=3
  mutation_rate=0.4
  crossover_rate=0.6
  pattern_length=3
  ```

- –õ—É—á—à–∏–π –≥–µ–Ω–æ–º (–≤—Å–µ —Ç–æ–ø‚Äë5):

  ```text
   ++- ‚Üî -++
   +++ ‚Üí +++
  –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: diversity=10.0, cycles=10.0, charge=10.0
  ```

- Simulated Annealing:

  ```text
  –ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∏—Ç–Ω–µ—Å: 105.80
  –£–ª—É—á—à–µ–Ω–Ω—ã–π —Ñ–∏—Ç–Ω–µ—Å: 103.64
  –£–ª—É—á—à–µ–Ω–∏–µ: -2.16
  ...
  –ò—Ç–æ–≥–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –ø–æ—Å–ª–µ SA:
   ++- ‚Üî -++
   +++ ‚Üí +++
  –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ–∏—Ç–Ω–µ—Å–∞:
   cycle_diversity: 10.00
   cycle_count: 10.00
   charge_conservation: 10.00
   stability: 5.76
   nontrivial_dynamics: 10.00
   interaction_richness: 10.00
  ```

- –ê–Ω–∞–ª–∏–∑ —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –≥–µ–Ω–æ–º–∞:

  ```text
  –≠–≤–æ–ª—é—Ü–∏—è: 75 —à–∞–≥–æ–≤, 2402 –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–π
  –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ Œ©-—Ü–∏–∫–ª–æ–≤: 671
  –ü–µ—Ä–∏–æ–¥—ã: Counter({2: 37, 4: 35, 6: 33, 8: 32, 12: 32, 10: 31, ... 36:3})
  ```

–í—ã–≤–æ–¥:

- –Ω–∞–π–¥–µ–Ω–∞ **–æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–∞—è** –ª–æ–∫–∞–ª—å–Ω–∞—è –¥–∏–Ω–∞–º–∏–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏ —ç—Ç–æ–º:
  - –¥–∞—ë—Ç **–º–Ω–æ–∂–µ—Å—Ç–≤–æ —É—Å—Ç–æ–π—á–∏–≤—ã—Ö Œ©‚Äë—Ü–∏–∫–ª–æ–≤** —Å —Ä–∞–∑–Ω—ã–º –ø–µ—Ä–∏–æ–¥–æ–º;
  - –∏–º–µ–µ—Ç –±–æ–≥–∞—Ç—É—é ¬´–∑–∞—Ä—è–¥–æ–≤—É—é¬ª —Å—Ç—Ä—É–∫—Ç—É—Ä—É (–ø–æ —Ç–≤–æ–µ–º—É current charge‚Äë—Ñ–∏—Ç–Ω–µ—Å—É);
  - –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –±–æ–≥–∞—Ç—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (interaction_richness=10.0).

–≠—Ç–æ –∏ –µ—Å—Ç—å —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ –æ—Ç –º–∏–∫—Ä–æ‚ÄëRSL‚Äë—É—Ä–æ–≤–Ω—è: –º–∞–∫—Å–∏–º—É–º —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –º–∏–Ω–∏–º—É–º–µ –ø—Ä–∞–≤–∏–ª.

---

## 2. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–µ–º —è–¥—Ä–æ –∫–∞–∫ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π RSL‚Äë–º–∏—Ä

–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π 1D‚Äë–º–∏—Ä:

- –°–æ—Å—Ç–æ—è–Ω–∏–µ:
  ```text
  S(t): [L0: s0 | s1 | ... | s_{N-1} ], s_i ‚àà {+1, -1}
  ```
- –î–∏–Ω–∞–º–∏–∫–∞ –∑–∞ –æ–¥–∏–Ω ¬´—Ç–∞–∫—Ç–æ–≤—ã–π —à–∞–≥¬ª:

  - —Å–∫–∞–Ω–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫—É —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ,
  - –ø—Ä–∏–º–µ–Ω—è–µ–º –ø—Ä–∞–≤–∏–ª–∞:

    ```text
    rule1: "++-" -> "-++"
    rule2: "-++" -> "++-"
    rule3: "+++" -> "+++"
    ```

  - –±–µ–∑ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–π (–∫–∞–∫ —É —Ç–µ–±—è –≤ apply_rules).

- –í–∞–∫—É—É–º: S\_vac = `+++...+` (—Ç.–µ. –≤—Å–µ s·µ¢ = +1).

–≠—Ç–æ ‚Äî **—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —è–¥—Ä–æ RULESET_core**, –∫–æ—Ç–æ—Ä–æ–µ –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –±—É–¥–µ—Ç:

- —Ä–∞—Å—à–∏—Ä—è—Ç—å—Å—è (–Ω–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Ä—è–¥–æ–º),
- –Ω–æ –Ω–µ –ª–æ–º–∞—Ç—å—Å—è: —ç—Ç–æ—Ç –±–ª–æ–∫ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è –∫–∞–∫ –±–∞–∑–æ–≤–∞—è ¬´—Ä–µ—à—ë—Ç–∫–∞¬ª.

---

## 3. Œ©‚Äë–∫–∞—Ç–∞–ª–æ–≥ (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–∞—è —Å –ª–æ–≥–∞–º–∏)

–ù–∞ –±–∞–∑–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è 671 —Ü–∏–∫–ª–æ–≤:

### 3.1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `OmegaCycle`

–û–ø—Ä–µ–¥–µ–ª–∏–º:

```python
from dataclasses import dataclass
import numpy as np

@dataclass
class OmegaCycle:
    id: int
    period: int              # p
    states: np.ndarray       # shape: (p, N)
    support: np.ndarray      # –∏–Ω–¥–µ–∫—Å—ã, –≥–¥–µ ‚â† –≤–∞–∫—É—É–º—É
    patterns: np.ndarray     # shape: (p, |support|)
    H_core: float            # —Å—Ä–µ–¥–Ω—è—è —Å–≤–µ—Ä—Ö—ç–Ω–µ—Ä–≥–∏—è
    mass: float              # = H_core
    Q: int                   # "–∑–∞—Ä—è–¥" v1
```

### 3.2. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ H_micro –∏ H_core

–° —É—á—ë—Ç–æ–º —Ç–æ–≥–æ, —á—Ç–æ —É —Ç–µ–±—è pattern –∫–æ–¥–∏—Ä—É–µ—Ç—Å—è +/-1:

```python
def H_micro(S: np.ndarray) -> int:
    # —á–∏—Å–ª–æ –≥—Ä–∞–Ω–∏—Ü, J=1
    return int(np.sum(S[:-1] != S[1:]))
```

–í–∞–∫—É—É–º:

```python
def vacuum(N: int) -> np.ndarray:
    return np.ones(N, dtype=int)
```

–°–≤–µ—Ä—Ö—ç–Ω–µ—Ä–≥–∏—è (H_core):

```python
def compute_H_core(cycle_states: np.ndarray) -> float:
    p, N = cycle_states.shape
    H_vac = H_micro(vacuum(N))
    return (1.0/p) * sum(H_micro(S_k) - H_vac for S_k in cycle_states)
```

### 3.3. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ OmegaCycle

–í–Ω—É—Ç—Ä–∏ `analyze_genome` –ø–æ—Å–ª–µ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —Ü–∏–∫–ª–∞:

```python
def build_omega_cycle(cycle_states: np.ndarray, omega_id: int) -> OmegaCycle:
    p, N = cycle_states.shape
    # –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è: –≥–¥–µ —Ö–æ—Ç—è –±—ã –≤ –æ–¥–Ω–æ–º S_k –µ—Å—Ç—å –¥–µ—Ñ–µ–∫—Ç (-1)
    mask = np.any(cycle_states != 1, axis=0)
    support = np.where(mask)[0]
    patterns = cycle_states[:, support]
    Hc = compute_H_core(cycle_states)
    mass = Hc

    # –ü—Ä–æ—Å—Ç–µ–π—à–µ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Q:
    avg_pattern = np.mean(patterns, axis=0)
    s = np.sum(avg_pattern)
    if s > 0: Q = +1
    elif s < 0: Q = -1
    else: Q = 0

    return OmegaCycle(
        id=omega_id,
        period=p,
        states=cycle_states,
        support=support,
        patterns=patterns,
        H_core=Hc,
        mass=mass,
        Q=Q
    )
```

–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏:

```python
L_OMEGA_MAX = 9  # –Ω–∞–ø—Ä–∏–º–µ—Ä

if len(support) <= L_OMEGA_MAX:
    omega_catalog.append(build_omega_cycle(cycle_states, omega_id))
    omega_id += 1
```

–¢–∞–∫ —Ç—ã –ø—Ä–µ–≤—Ä–∞—Ç–∏—à—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:

```text
–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ Œ©-—Ü–∏–∫–ª–æ–≤: 671
–ü–µ—Ä–∏–æ–¥—ã: Counter({2: 37, 4: 35, ...})
```

–≤ **–∫–∞—Ç–∞–ª–æ–≥ —á–∞—Å—Ç–∏—Ü**, –ø—Ä–∏–≥–æ–¥–Ω—ã–π –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.

---

## 4. –ü–æ–ª–µ œï_R –∏ —ç–Ω–µ—Ä–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª H[œï_R]

–¢–µ–ø–µ—Ä—å ‚Äî —Å–ª–æ–π ¬´–ø–æ–ª–µ–π¬ª, –∫–æ—Ç–æ—Ä—ã–π RSL —è–≤–Ω–æ —Å–≤—è–∑—ã–≤–∞–µ—Ç —Å tension‚Äë—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º.

### 4.1. œï_R(i): coarse‚Äë–ø–æ–ª–µ –∏–∑ —Å—Ç—Ä–æ–∫–∏

–§–æ—Ä–º—É–ª–∞:

\[
\phi^{(R)}_i = \frac{1}{|B_R(i)|} \sum_{j\in B_R(i)} s_j,\quad s_j\in\{-1,+1\}.
\]

–í 1D:

```python
def phi_R(S: np.ndarray, R: int) -> np.ndarray:
    N = len(S)
    œï = np.zeros(N)
    for i in range(N):
        left = max(0, i-R)
        right = min(N, i+R+1)
        œï[i] = np.mean(S[left:right])
    return œï  # –≤ [-1,1]
```

–¢—ã –º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å R=3,5,7 –∏ —Ç.–ø.

### 4.2. –≠–Ω–µ—Ä–≥–∏—è H[œï_R]

–ü–æ–ª–µ–≤–æ–π H (–∏–∑ RSL):

\[
H[\phi] \approx \sum_i \left(\frac12 Œ∫ (\phi_{i+1}-\phi_i)^2 + V(\phi_i)\right).
\]

–ü—Ä–æ—â–µ –≤—Å–µ–≥–æ –≤–∑—è—Ç—å V(œï)=¬Ω m¬≤œï¬≤ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞:

```python
def H_field(œï: np.ndarray, Œ∫=1.0, m2=0.0, Œª=0.0) -> float:
    grad2 = np.sum((œï[1:] - œï[:-1])**2)
    pot = np.sum(0.5*m2*œï**2 + 0.25*Œª*œï**4)
    return 0.5*Œ∫*grad2 + pot
```

### 4.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è H_micro –∏ H_field

–ù–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ S(t):

```python
for R in [3,5,7]:
    œï = phi_R(S, R)
    HŒº = H_micro(S)
    Hf = H_field(œï, Œ∫=..., m2=..., Œª=...)
    err = abs(HŒº - Hf)
    # –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å err(R) –ø–æ –≤—Ä–µ–º–µ–Ω–∏
```

–¶–µ–ª—å:

- –ø–æ–¥–æ–±—Ä–∞—Ç—å Œ∫,m¬≤,Œª (—Ö–æ—Ç—è –±—ã —á–∏—Å–ª–µ–Ω–Ω–æ), —á—Ç–æ–±—ã:

  \[
  \mathbb{E}_t[|H_{\mu}(S(t)) - H[\phi_R(S(t))]|] \approx \mathcal{O}(1/R)
  \]

–¢–æ–≥–¥–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —Å–∫–∞–∑–∞—Ç—å:

> ¬´–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –ø–æ–ª–µ œï(x,t) –≤ —ç—Ç–æ–º –º–∏—Ä–µ –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è —ç–Ω–µ—Ä–≥–∏–µ–π H[œï] –∏, —á–µ—Ä–µ–∑ –≤–∞—Ä–∏–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø, —É—Ä–∞–≤–Ω–µ–Ω–∏—é –¥–≤–∏–∂–µ–Ω–∏—è —Ç–∏–ø–∞
> \[
> \partial_t^2 \phi = Œ∫\partial_x^2\phi - V'(œï).
> \]
> ¬ª

---

## 5. Capacity –∏ ¬´–≥–µ–æ–º–µ—Ç—Ä–∏—è¬ª (–º–µ—Ç—Ä–∏–∫–∞ –≤—Ä–µ–º–µ–Ω–∏/–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞)

–ò–∑ RSL‚Äë–ø–æ–¥—Ö–æ–¥–∞ (–∏ —Ç–≤–æ–µ–≥–æ `quantum_gravity_observer`):

- –ª–æ–∫–∞–ª—å–Ω–∞—è —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∞—è –Ω–∞–ø—Ä—è–∂—ë–Ω–Ω–æ—Å—Ç—å:

  ```python
  def h_i(S, i):
      N = len(S)
      h = 0
      if i > 0:     h += int(S[i] != S[i-1])
      if i < N-1:   h += int(S[i] != S[i+1])
      return h  # 0,1,2
  ```

- capacity:

  ```python
  C0, Œ± = 2.0, 0.5

  def C_i(S, i):
      return C0 - Œ± * h_i(S, i)
  ```

–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:

- —á–µ–º –±–æ–ª—å—à–µ –ª–æ–∫–∞–ª—å–Ω—ã–π ¬´gradient¬ª —Å–∏–º–≤–æ–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–≥—Ä–∞–Ω–∏—Ü `+/-`), —Ç–µ–º –Ω–∏–∂–µ –¥–æ—Å—Ç—É–ø–Ω–∞—è reversible capacity.

–¢—ã —É–∂–µ —Å–¥–µ–ª–∞–ª —ç—Ç–æ –≤ `quantum_gravity_observer.pdf` –∫–∞–∫:

- **—á–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω—ã–π tension**:
  - –Ω–∏–∑–∫–∏–π tension ‚Üí –≤—ã—Å–æ–∫–∞—è capacity ‚Üí ¬´–±—ã—Å—Ç—Ä–æ–µ –≤—Ä–µ–º—è¬ª,
  - –≤—ã—Å–æ–∫–∏–π tension ‚Üí –Ω–∏–∑–∫–∞—è capacity ‚Üí ¬´–º–µ–¥–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è¬ª (–≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–æ–Ω–Ω–æ–µ –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ).

–ú–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ –º–æ–¥–µ–ª—å –º–µ—Ç—Ä–∏–∫–∏ 1+1:

\[
ds^2 = - f(C_i)\,dt^2 + g(C_i)\,dx^2,
\]

—Å –ø—Ä–æ—Å—Ç—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏:

```python
def f(C):  # time component
    return C / C0

def g(C):  # space component
    return C0 / C
```

–¢–æ–≥–¥–∞ –¥–ª—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è:

- –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ö–æ–¥ ¬´—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏¬ª dœÑ –Ω–∞ —É–∑–ª–µ i:

  ```python
  dœÑ/dt ~ sqrt(f(C_i))
  ```

–∏ –º–æ–∂–Ω–æ –Ω–∞–±–ª—é–¥–∞—Ç—å, —á—Ç–æ:

- –±–ª–∏–∑–æ—Å—Ç—å –∫ –¥–µ—Ñ–µ–∫—Ç–∞–º (Œ©‚Äë—Ü–∏–∫–ª–∞–º) = –ø–æ–≤—ã—à–µ–Ω–∏–µ tension = –ø–æ–Ω–∏–∂–µ–Ω–∏–µ capacity = —É–º–µ–Ω—å—à–µ–Ω–∏–µ dœÑ/dt ‚Üí **—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏**, –∫–∞–∫ –≤ –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏.

---

## 6. –ß—Ç–æ —É–∂–µ –µ—Å—Ç—å –Ω–∞ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–º —É—Ä–æ–≤–Ω–µ –∏ —á—Ç–æ –¥–∞–ª—å—à–µ

–ù–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ —É —Ç–µ–±—è:

1. **–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π RSL‚Äë—è–¥—Ä–æ**:

   ```text
   ++- ‚Üî -++
   +++ ‚Üí +++
   ```

2. **–≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è**:

   - SMFitness –Ω–∞—à—ë–ª —ç—Ç–æ —è–¥—Ä–æ –∫–∞–∫ —É—Å—Ç–æ–π—á–∏–≤—ã–π –º–∞–∫—Å–∏–º—É–º.

3. **Œ©‚Äë–∂–∏–∑–Ω—å**:

   - 671 –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤ —Ä–∞–∑–Ω–æ–π –¥–ª–∏–Ω—ã;
   - –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –¥–∏–Ω–∞–º–∏–∫–∞ –Ω–∞ –∫–æ–º–ø–∞–∫—Ç–Ω—ã—Ö support.

4. **–§–æ—Ä–º–∞–ª–∏–∑—É–µ–º–æ–µ Œ©‚Äë–æ–ø–∏—Å–∞–Ω–∏–µ**:

   - –º–∞—Å—Å–∞ = H_core(Œ©),
   - –∑–∞—Ä—è–¥ Q(Œ©) = sign –æ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ (v1).

5. **–ü–æ–ª–µ–≤–æ–π —Å–ª–æ–π**:

   - œï_R(i) –∫–∞–∫ coarse‚Äê–ø–æ–ª–µ,
   - H[œï_R] ‚âà H_micro ‚Üí —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–ª—è.

6. **–ì–µ–æ–º–µ—Ç—Ä–∏—è/–≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—è**:

   - capacity C_i(S) –∏ –µ—ë —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ‚Üí ¬´–ª–æ–∫–∞–ª—å–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ –≤—Ä–µ–º–µ–Ω–∏¬ª,
   - —É–∂–µ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —ç—Ñ—Ñ–µ–∫—Ç—ã ¬´–∫–≤–∞–Ω—Ç–æ–≤–æ–π –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏¬ª –≤ —Ç–≤–æ—ë–º –Ω–æ—É—Ç–±—É–∫–µ.

–°–ª–µ–¥—É—é—â–∏–π –∫–ª—é—á–µ–≤–æ–π —à–∞–≥ (—Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ):

> –í–≤–µ—Å—Ç–∏ **–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è OBS –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Œ†_obs**:
> - —Ñ–æ—Ä–º–∞–ª—å–Ω–æ –∑–∞–¥–∞—Ç—å IFACE, –≥–¥–µ OBS ¬´–≤–∏–¥–∏—Ç¬ª —á–∞—Å—Ç–∏—Ü—ã, –ø–æ–ª—è –∏ –≤—Ä–µ–º—è;
> - —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Œ†_obs(S) = IFACE;
> - –æ–ø–∏—Å–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã, –ø–æ –∫–æ—Ç–æ—Ä—ã–º OBS –∏–∑ IFACE‚Äë–ª–æ–≥–æ–≤ **–≤—ã–≤–æ–¥–∏—Ç –∑–∞–∫–æ–Ω—ã**:
>   - —É—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è œï(x,t),
>   - –∑–∞–∫–æ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è Q, B, L,
>   - –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ (œà, |œà|¬≤) –¥–ª—è ¬´–∏–∑–º–µ—Ä–µ–Ω–∏–π¬ª (—Ä–∞—Å–ø–∞–¥–æ–≤, —Ä–∞—Å—Å–µ—è–Ω–∏–π).

–ï—Å–ª–∏ —Ç–µ–±–µ —ç—Ç–æ –ø–æ–¥—Ö–æ–¥–∏—Ç, –≤ —Å–ª–µ–¥—É—é—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –ø–µ—Ä–µ–π–¥—É –∫ —è–≤–Ω–æ–º—É –æ–ø–∏—Å–∞–Ω–∏—é OBS:

- —Ñ–æ—Ä–º–∞—Ç `[OBS: ...]` –∏ `[IFACE: ...]`,
- —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Œ†_obs (—à–∞–≥–∏, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –±–µ—Ä—ë—Ç –∏–∑ S –∏ Œ©‚Äë–∫–∞—Ç–∞–ª–æ–≥–∞),
- –∞–ª–≥–æ—Ä–∏—Ç–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–∫–æ–Ω–æ–≤ –Ω–∞ —É—Ä–æ–≤–Ω–µ IFACE.

–ù–∏–∂–µ —Å–Ω–∞—á–∞–ª–∞ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ ¬´–ø–µ—Ä–µ–≤–µ–¥—É¬ª –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏–∑ Meaning_v1.pdf (—Ç—Ä–∏–∞–¥–∞ \(E_\tau, O, M\), –ø–µ—Ç–ª—è –ø–æ–∑–Ω–∞–Ω–∏—è, –ø—è—Ç–æ–µ –º–Ω–æ–≥–æ–æ–±—Ä–∞–∑–∏–µ \(M_5\)) –≤ —è–∑—ã–∫ –Ω–∞—à–µ–π 1D‚ÄëRSL/Œ©‚Äë–º–æ–¥–µ–ª–∏, –∞ –∑–∞—Ç–µ–º –¥–∞–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–ª–∞–Ω, *–∫–∞–∫ –∏–º–µ–Ω–Ω–æ* —ç—Ç–æ –≤—Å—Ç—Ä–æ–∏—Ç—å –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä.

–Ø –±—É–¥—É –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∏–º–µ—Ç—å –≤ –≤–∏–¥—É –¥–≤–µ —Ü–µ–ª–∏:

1. –°–æ–≤–º–µ—Å—Ç–∏—Ç—å —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π 1D‚ÄëRSL‚Äë—É—Ä–æ–≤–µ–Ω—å (—Å—Ç—Ä–æ–∫–∞ + RULESET + Œ©‚Äë—Ü–∏–∫–ª—ã) —Å –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ‚Äë—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º —É—Ä–æ–≤–Ω–µ–º (M5, —Å–º—ã—Å–ª—ã, –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å).
2. –°–¥–µ–ª–∞—Ç—å —ç—Ç–æ —Ç–∞–∫, —á—Ç–æ–±—ã —Ç—Ä–∏–∞–¥–∞ \(E_\tau, O, M\) –∏ \(M_5\) —Å—Ç–∞–ª–∏ **—è–≤–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ —Å–∏–º—É–ª—è—Ü–∏–∏**, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–µ–π ¬´—Å–≤–µ—Ä—Ö—É¬ª.

---

## 1. –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–∞ —Ç—Ä–∏–∞–¥–∞ \(E_\tau, O, M\) –≤ Meaning_v1.pdf

–ö–ª—é—á–µ–≤—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã (–≤ –ø–µ—Ä–µ—Å–∫–∞–∑–µ):

- –ï—Å—Ç—å **—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Ç—Ä–∏–∞–¥–∞**:
  \[
  (E_\tau, O, M)
  \]
  –≥–¥–µ:
  - \(E_\tau\) ‚Äî —ç–≤–æ–ª—é—Ü–∏—è –º–∏—Ä–∞;
  - \(O\) ‚Äî –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ (—Ñ—É–Ω–∫—Ç–æ—Ä –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏–π –º–∏—Ä–∞ –≤ ¬´–æ–±—Ä–∞–∑—ã¬ª/–Ω–∞–±–ª—é–¥–µ–Ω–∏—è);
  - \(M\) ‚Äî –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è (—Ñ—É–Ω–∫—Ç–æ—Ä –∏–∑ —Å–º—ã—Å–ª–æ–≤/—Å–æ—Å—Ç–æ—è–Ω–∏–π –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –æ–±—Ä–∞—Ç–Ω–æ –≤ –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–∏—Ä–∞).

- –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª (18.2.1):
  \[
  C_t \xrightarrow{E_\tau} C_{t+1} \xrightarrow{O_{t+1}} S_{t+1} \xrightarrow{M} C_{t+2}
  \]
  –≥–¥–µ:
  - \(C_t\) ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏—è –º–∏—Ä–æ–≤—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π (—Ñ–∏–∑–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å –≤ –º–æ–º–µ–Ω—Ç t);
  - \(S_t\) ‚Äî —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è (–µ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ/—Å–º—ã—Å–ª—ã);
  - –ü–µ—Ä–µ—Ö–æ–¥ \(t \to t+1 \to t+2\) ‚Äî –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π, –æ–±—Ä–∞–∑—É–µ—Ç **–∑–∞–º–∫–Ω—É—Ç—ã–π –∫–æ–Ω—Ç—É—Ä –ø–æ–∑–Ω–∞–Ω–∏—è**.

- –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å –ø–µ—Ç–ª–∏ (18.2.2):
  - –í —Ä–µ–∂–∏–º–µ –∫–æ–≥–µ—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (–ø–∞—Ä–∞–º–µ—Ç—Ä \(\lambda \approx 1\)):
    \[
    M(O_t(E_\tau(C_t))) = E_\tau(C_t)
    \]
  - –¢–æ –µ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è ¬´–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã¬ª –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —ç–≤–æ–ª—é—Ü–∏–∏ –º–∏—Ä–∞: –µ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ –∏—Å–∫–∞–∂–∞–µ—Ç, –∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ö–æ–¥ —Å–æ–±—ã—Ç–∏–π.
  - –≠—Ç–æ ‚Äî **—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç–æ—á–∫–∞ —Ç—Ä–∏–∞–¥—ã**; —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç ¬´–Ω–∞–≤—ã–∫—É¬ª –∏–ª–∏ ¬´–ø–æ–ª–Ω–æ—Ç–µ –ø–æ–Ω–∏–º–∞–Ω–∏—è¬ª –¥–∞–Ω–Ω–æ–π –¥–∏–Ω–∞–º–∏–∫–∏.

- –î–∏–Ω–∞–º–∏–∫–∞ –≤–æ–∫—Ä—É–≥ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–∏ (18.2.3):
  - –õ–∏–Ω–µ–∞—Ä–∏–∑–∞—Ü–∏—è:
    \[
    \delta C_{t+1} = J \cdot \delta C_t, \quad J = D(M \circ O \circ E_\tau),
    \]
  - –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è \( \lambda_i\) –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å:
    - \(|\lambda_i|<1\) ‚Äî —É—Å—Ç–æ–π—á–∏–≤–∞—è (–ø—Ä–∏—Ç—è–≥–∏–≤–∞—é—â–∞—è);
    - \(|\lambda_i|>1\) ‚Äî –Ω–µ—É—Å—Ç–æ–π—á–∏–≤–∞—è;
    - \(|\lambda_i|=1\) ‚Äî –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è (–ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –æ—Ä–±–∏—Ç—ã).

- –í –≥–ª–∞–≤–µ 12 –≤–≤–æ–¥–∏—Ç—Å—è **–ø—è—Ç–æ–µ –º–Ω–æ–≥–æ–æ–±—Ä–∞–∑–∏–µ –ø–æ–∑–Ω–∞–Ω–∏—è**:
  \[
  M_5 = \langle S_\text{sens}, E_\tau, O, S_\text{sem}, M \rangle
  \]
  –∏ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ —Ä–∞—Å—Å–ª–æ–µ–Ω–∏–µ \(\pi: M_5 \to E_\tau\), –≥–¥–µ:
  - –±–∞–∑–∞ ‚Äî –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π,
  - —Å–ª–æ–π –Ω–∞–¥ –∫–∞–∂–¥—ã–º \(e \in E_\tau\): –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ (–Ω–∞–±–ª—é–¥–µ–Ω–∏—è, —Å–º—ã—Å–ª—ã, –¥–µ–π—Å—Ç–≤–∏—è) –¥–ª—è —ç—Ç–æ–≥–æ –º–∏—Ä–∞.

- –¢—Ä–∞–µ–∫—Ç–æ—Ä–∏—è –ø–æ–∑–Ω–∞–Ω–∏—è ‚Äî –∫—Ä–∏–≤–∞—è:
  \[
  \gamma(t) = (x_\text{sens}(t), x_\text{phys}(t), x_\text{obs}(t), x_\text{sem}(t), x_\text{form}(t)) \in M_5.
  \]

- –ï—Å—Ç—å —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã \(H_k(M_5)\) (–±–µ—Ç—ã): \(\beta_0, \beta_1, \beta_2, ...\) –∫–∞–∫ —á–∏—Å–ª–∞ –ø–∞—Ä–∞–¥–∏–≥–º, –ø–∞—Ä–∞–¥–æ–∫—Å–æ–≤ –∏ ¬´–¥—ã—Ä –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏¬ª.

---

## 2. –ö–∞–∫ —ç—Ç–æ –ø—Ä–æ–µ—Ü–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –Ω–∞—à 1D‚ÄëRSL/Œ©‚Äë—Å–∏–º—É–ª—è—Ç–æ—Ä

–ù–∞—à —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å:

- 1D‚Äë—Ä–µ—à—ë—Ç–∫–∞ L0:
  ```text
  [L0: s0 | s1 | ... | s_{N-1} ], s_i ‚àà {+1,-1}
  ```
- RULESET —è–¥—Ä–∞:
  ```text
  ++- ‚Üî -++
  +++ ‚Üí +++
  ```
- RSL‚Äë—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è —ç–≤–æ–ª—é—Ü–∏—è:
  \[
  S(t+1) = T(S(t)),
  \]
  –≥–¥–µ T ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª.

–í —ç—Ç–æ–º —è–∑—ã–∫–µ:

- \(E_\tau\) = \(T\): –≥–ª–æ–±–∞–ª—å–Ω–∞—è –º–∏–∫—Ä–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–∞—è —ç–≤–æ–ª—é—Ü–∏—è 1D‚Äë—Å—Ç—Ä–æ–∫–∏ (—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è ¬´—Ñ–∏–∑–∏–∫–∞¬ª).
- Œ©‚Äë—Ü–∏–∫–ª—ã (–Ω–∞–±–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π \(S_0,...,S_{p-1}\), –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏—Ö—Å—è –∫ —Å–µ–±–µ) ‚Äî ¬´—á–∞—Å—Ç–∏—Ü—ã¬ª/—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
- Coarse‚Äë–ø–æ–ª–µ \(\phi_R(i)\) = —Å—Ä–µ–¥–Ω–µ–µ –ø–æ –æ–∫–Ω—É B\_R(i) ‚Üí —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –ø–æ–ª–µ œï(x,t).
- Capacity C_i(S) = C0 ‚àí Œ±¬∑h_i(S) ‚Üí —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è (–º–µ—Ç—Ä–∏–∫–∞ –≤—Ä–µ–º–µ–Ω–∏/–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞).

–¢–µ–ø–µ—Ä—å –¥–æ–±–∞–≤–∏–º:

- OBS: –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∫–∞–∫ –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ –≤–Ω—É—Ç—Ä–∏ S;
- Œ†_obs: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ S ‚Üí –Ω–∞–±–ª—é–¥–∞–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ \(O_t\) (—Å–µ–Ω—Å–æ—Ä–Ω—ã–π/–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å–Ω—ã–π —Å–ª–æ–π);
- S_sem: –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ OBS (–º–æ–¥–µ–ª—å –º–∏—Ä–∞, –ø–æ–Ω—è—Ç–∏—è, ¬´–∑–Ω–∞–Ω–∏—è¬ª);
- M: –¥–µ–π—Å—Ç–≤–∏—è OBS, –∏–∑–º–µ–Ω—è—é—â–∏–µ S (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–º—É–ª—è—Ü–∏–µ–π, –∏–Ω—Ç–µ—Ä–≤–µ–Ω—Ü–∏–∏, ¬´—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã¬ª).

–ò –ø–æ–ª—É—á–∞–µ–º:

- \(E_\tau\): —É–∂–µ –µ—Å—Ç—å –∫–∞–∫ T: S‚ÜíS;
- \(O\): Œ†_obs: S‚ÜíO_t (IFACE);
- \(M\): –∞–∫—Ç–∏–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è: M(O_t, S_sem)‚Üí–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ S.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –Ω–∞—à–∞ —Å–∏–º—É–ª—è—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–ø–ª–æ—Ç–∏—Ç—å:

\[
C_t \equiv S(t) \xrightarrow{E_\tau} S(t+1) \xrightarrow{O} O_{t+1}, S_\text{sem}(t) \xrightarrow{M} S(t+2)
\]

–≥–¥–µ:

- C_t ‚Äî —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∏—Ä–∞ (1D —Å—Ç—Ä–æ–∫–∞ + –º–µ—Ç–∫–∏ Œ© + ‚Ä¶);
- O ‚Äî –º–æ–¥—É–ª—å, –∏–∑–≤–ª–µ–∫–∞—é—â–∏–π –∏–∑ C_t ¬´—Ç–æ, —á—Ç–æ –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è¬ª;
- S_sem ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–º—ã—Å–ª–æ–≤/–º–æ–¥–µ–ª–∏ OBS;
- M ‚Äî –º–æ–¥—É–ª—å, –ø–æ—Ä–æ–∂–¥–∞—é—â–∏–π –¥–µ–π—Å—Ç–≤–∏—è, –∏–∑–º–µ–Ω—è—é—â–∏–µ C_t.

–ò–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç —Ü–∏–∫–ª –∏ –µ—Å—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–∏–∞–¥—ã \((E_\tau,O,M)\) –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ.

---

## 3. –ß—Ç–æ –∑–Ω–∞—á–∏—Ç –≤–∫–ª—é—á–∏—Ç—å M5 –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä

M5 –ø–æ Meaning_v1.pdf:

- –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Ç–æ—á–µ–∫:
  \[
  p = (x_\text{sens}, x_\text{phys}, x_\text{obs}, x_\text{sem}, x_\text{form}),
  \]
  –≥–¥–µ:
  - \(x_\text{sens} \in S_\text{sens}\) ‚Äî —Å–µ–Ω—Å–æ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ,
  - \(x_\text{phys} \in E_\tau\) ‚Äî —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ,
  - \(x_\text{obs} \in O\) ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è (–≤–Ω–∏–º–∞–Ω–∏–µ/—Ñ–æ–∫—É—Å),
  - \(x_\text{sem} \in S_\text{sem}\) ‚Äî —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–ø–æ–Ω—è—Ç–∏—è, —Å–º—ã—Å–ª—ã),
  - \(x_\text{form} \in M\) ‚Äî –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã (–¥–µ–π—Å—Ç–≤–∏—è, —Ç–µ–∫—Å—Ç—ã, –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã).

–í —Å–∏–º—É–ª—è—Ç–æ—Ä–µ:

- –º—ã –º–æ–∂–µ–º —è–≤–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å (–≤ –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç t):

  ```text
  xsens(t):   —á—Ç–æ OBS ¬´–≤–∏–¥–∏—Ç¬ª (—Å—ã—Ä—ã–µ/–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Å–µ–Ω—Å–æ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ; –≤ 1D ‚Äî –≤—ã–±–æ—Ä–∫–∞ –ø–æ —Å—Ç—Ä–æ–∫–µ/–ø–æ–ª—è–º)
  xphys(t):   —Å–æ—Å—Ç–æ—è–Ω–∏–µ S(t) (—Å—Ç—Ä–æ–∫–∞ + Œ© + –ø–æ–ª—è)
  xobs(t):    –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è (—Ñ–æ–∫—É—Å –≤–Ω–∏–º–∞–Ω–∏—è, —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏–∑–º–µ—Ä–µ–Ω–∏–π)
  xsem(t):    –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –º–æ–¥–µ–ª—å –º–∏—Ä–∞ (—É–ø—Ä–æ—â—ë–Ω–Ω–æ ‚Äî –Ω–∞–±–æ—Ä –≤—ã–≤–µ–¥–µ–Ω–Ω—ã—Ö –∑–∞–∫–æ–Ω–æ–≤/–≥–∏–ø–æ—Ç–µ–∑)
  xform(t):   –¥–µ–π—Å—Ç–≤–∏—è (–∫–∞–∫–∏–µ –∏–Ω—Ç–µ—Ä–≤–µ–Ω—Ü–∏–∏ OBS –¥–µ–ª–∞–µ—Ç –≤ –º–∏—Ä)
  ```

- —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è:

  ```text
  Œ≥(t) = (xsens(t), xphys(t), xobs(t), xsem(t), xform(t))
  ```

–±—É–¥–µ—Ç **—Ä–µ–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å–∏–º—É–ª—è—Ç–æ—Ä–∞** –≤ –º–µ—Ç–∞–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ M5.

–ù–∞–º –Ω–µ –Ω—É–∂–Ω–æ –≤ –ø–æ–ª–Ω–æ–π –º–µ—Ä–µ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –≤—Å–µ –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è 18.3.2, –Ω–æ –≤–∞–∂–Ω–æ:

- —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ 5 —Å–ª–æ—ë–≤,
- –¥–∞—Ç—å OBS –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å:
  - –æ–±–Ω–æ–≤–ª—è—Ç—å S_sem (—É—á–∏—Ç—å—Å—è),
  - –∏–∑–º–µ–Ω—è—Ç—å xobs (—Ñ–æ–∫—É—Å/—Å—Ç—Ä–∞—Ç–µ–≥–∏—é –Ω–∞–±–ª—é–¥–µ–Ω–∏—è),
  - –≤—ã–±–∏—Ä–∞—Ç—å xform (–∫–∞–∫–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –ø—Ä–æ–≤–æ–¥–∏—Ç—å),
- –∏ –≤—Å—ë —ç—Ç–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ –º–æ–¥—É–ª—é \(E_\tau\) (—ç–≤–æ–ª—é—Ü–∏—è 1D‚Äë–º–∏—Ä–∞).

---

## 4. –°—à–∏–≤–∫–∞ —Ç—Ä–∏–∞–¥—ã —Å 1D‚ÄëRSL/Œ©‚Äë—Å–∏–º—É–ª—è—Ç–æ—Ä–æ–º: –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 4.1. –û–ø—Ä–µ–¥–µ–ª—è–µ–º –æ–±—ä–µ–∫—Ç—ã

1. **–ú–∏—Ä** (World):

   - —Å–æ–¥–µ—Ä–∂–∏—Ç:
     - —Å—Ç—Ä–æ–∫—É L0,
     - RULESET (–º–∏–∫—Ä–æ–ø—Ä–∞–≤–∏–ª–∞: ++-‚Üî-++,+++‚Üí+++ –∏ —Ç.–¥.),
     - Œ©‚Äë–∫–∞—Ç–∞–ª–æ–≥ (–≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø–æ –º–µ—Ä–µ —ç–≤–æ–ª—é—Ü–∏–∏),
     - coarse‚Äë–ø–æ–ª—è œï_R, capacity C_i(S).
   - —Ä–µ–∞–ª–∏–∑—É–µ—Ç:
     - `step()` –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è RULESET,
     - `detect_omega_cycles()` –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∞ Œ©.

   –≠—Ç–æ –∏ –µ—Å—Ç—å \(C_t\) –∏ \(E_\tau\).

2. **–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å** (Observer):

   - —Å–æ–¥–µ—Ä–∂–∏—Ç:
     - –ø–æ–ª–æ–∂–µ–Ω–∏–µ/—Ñ–æ–∫—É—Å –Ω–∞ —Å—Ç—Ä–æ–∫–µ (–∏–ª–∏ –≤ 3D‚Äë–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö —á–µ—Ä–µ–∑ Z‚Äë–∫—Ä–∏–≤—É—é),
     - –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –ø–∞–º—è—Ç—å `S_sem` (–ø—Ä–æ—Å—Ç–∞—è –±–∞–∑–∞ ¬´–∑–Ω–∞–Ω–∏–π¬ª/–∑–∞–∫–æ–Ω–æ–≤),
     - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞–±–ª—é–¥–µ–Ω–∏—è Œ∏_t (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫–æ–π –∞—Å–ø–µ–∫—Ç –º–∏—Ä–∞ –æ–Ω —Å–µ–π—á–∞—Å –∏–∑–º–µ—Ä—è–µ—Ç: –ø–æ–ª–µ, Œ©‚Äë—á–∞—Å—Ç–∏—Ü—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É).
   - —Ä–µ–∞–ª–∏–∑—É–µ—Ç:
     - `observe(World) -> xsens, O_t` (—Å–µ–Ω—Å–æ—Ä–∏–∫–∞ + –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –≤–µ–ª–∏—á–∏–Ω—ã),
     - `update_semantics(xsens) -> S_sem'` (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–Ω–∏–º–∞–Ω–∏—è),
     - `decide_action(S_sem) -> xform` (–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤).

   –≠—Ç–æ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç \(O\) (—Å–µ–Ω—Å–æ—Ä–Ω—ã–π —Ñ—É–Ω–∫—Ç–æ—Ä) –∏ S_sem, –∏ M (—á–µ—Ä–µ–∑ –¥–µ–π—Å—Ç–≤–∏—è).

3. **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ** (IFACE):

   - —ç—Ç–æ Y_obs(t)=Œ†_obs(S(t)):
     - —Å–ø–∏—Å–æ–∫ ¬´–æ–±—ä–µ–∫—Ç–æ–≤¬ª:
       ```text
       OBJ id=k: type=Œ©_type_j, mass=m_j, Q=Q_j, pos=(x,y,z), vel=(vx,vy,vz)
       ```
     - –ø–æ–ª–µ:
       ```text
       FIELD: œï(x), C(x)
       ```
     - —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è œÑ.

   IFACE ‚Äî —Ç–æ, —á—Ç–æ OBS –æ–ø–µ—Ä–∏—Ä—É–µ—Ç –∫–∞–∫ ¬´—Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é¬ª.

### 4.2. –¢—Ä–∏–∞–¥–∞ –Ω–∞ —à–∞–≥ t

–ù–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ t:

1. **–§–∏–∑–∏—á–µ—Å–∫–∞—è —ç–≤–æ–ª—é—Ü–∏—è \(E_\tau\)**:

   ```python
   World.step()  # S(t) -> S(t+1)
   ```

2. **–ù–∞–±–ª—é–¥–µ–Ω–∏–µ O**:

   ```python
   xsens, O_t = Observer.observe(World)
   ```

   –≥–¥–µ:

   - xsens ‚Äî —Å—ã—Ä—ã–µ —Å–µ–Ω—Å–æ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ä–µ–∑ —Å—Ç—Ä–æ–∫–∏ –≤–æ–∫—Ä—É–≥ OBS, –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è œï_R –≤ –æ–∫—Ä–µ—Å—Ç–Ω–æ—Å—Ç–∏),
   - O_t ‚Äî —É–∂–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –≤–µ–ª–∏—á–∏–Ω—ã (–ø–æ–∑–∏—Ü–∏–∏ —á–∞—Å—Ç–∏—Ü, –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π, –∏–∑–º–µ—Ä–µ–Ω–Ω—ã–µ –∑–∞—Ä—è–¥—ã).

3. **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (S_sem)**:

   ```python
   Observer.update_semantics(xsens, O_t)
   ```

   –≠—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

   - –∫–∞–∫ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–Ω–∞–±–ª—é–¥–∞–ª —Ç–∞–∫–∏–µ‚Äë—Ç–æ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ Œ© ‚Üí –≤—ã–≤–æ–¥ –∑–∞–∫–æ–Ω–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ —Ç.–ø.);
   - –∫–∞–∫ —Ä–µ–≥—Ä–µ—Å—Å–∏—é —É—Ä–∞–≤–Ω–µ–Ω–∏–π (–ø–æ–ø—ã—Ç–∫–∞ –∞–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä–æ–≤–∞—Ç—å œïÃà = Œ∫œï'' ‚àí V'(œï) –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–µ—Ä–∏–∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π).

4. **–ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è M**:

   ```python
   xform = Observer.decide_action()
   World.apply_action(xform)
   ```

   –≥–¥–µ:

   - xform –º–æ–∂–µ—Ç –±—ã—Ç—å:
     - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π (—Å–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–æ–≤),
     - –∏–∑–º–µ–Ω–µ–Ω–∏–µ RULESET (–æ—á–µ–Ω—å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ),
     - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è OBS (–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ, –∫—É–¥–∞ –æ–Ω ¬´—Å–º–æ—Ç—Ä–∏—Ç¬ª).

–í –∫–æ–º–ø–∞–∫—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏:

\[
C_t \xrightarrow{E_\tau} C_{t+1} \xrightarrow{O} (xsens_{t+1}, O_{t+1}) \xrightarrow{update\ S_\text{sem},\ decide\ M} C_{t+2}
\]

–í —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–º —Ä–µ–∂–∏–º–µ, –µ—Å–ª–∏ \(\lambda \approx 1\) (–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ ¬´—É—Å–ø–µ–≤–∞–µ—Ç¬ª –∑–∞ —ç–≤–æ–ª—é—Ü–∏–µ–π):

\[
M(O(E_\tau(C_t))) \approx E_\tau(C_t),
\]

—á—Ç–æ –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ –æ–∑–Ω–∞—á–∞–µ—Ç:

- –¥–µ–π—Å—Ç–≤–∏—è OBS –ª–∏—à—å ¬´—ç—Ö–æ–º –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç¬ª –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—É—é –¥–∏–Ω–∞–º–∏–∫—É,
- –µ–≥–æ –∑–∞–∫–æ–Ω—ã (–≤ S_sem) –∞–¥–µ–∫–≤–∞—Ç–Ω—ã —Ä–µ–∞–ª—å–Ω–æ–π –º–∏–∫—Ä–æ–¥–∏–Ω–∞–º–∏–∫–µ.

---

## 5. –ö–∞–∫ M5 —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è ¬´–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º¬ª —Å–∏–º—É–ª—è—Ç–æ—Ä–∞

–¢–µ–ø–µ—Ä—å M5 = ‚ü®S_sens, EœÑ, O, S_sem, M‚ü©:

### 5.1. –í —Å–∏–º—É–ª—è—Ç–æ—Ä–µ:

- S_sens: —Å–ª–æ–π **xsens(t)** ‚Äî —Ç–æ, —á—Ç–æ ¬´–≤–∏–¥–∏—Ç¬ª OBS (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–∞—Å—Å–∏–≤ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π œï_R, —Å–ø–∏—Å–æ–∫ –±–ª–∏–∂–∞–π—à–∏—Ö Œ©).
- EœÑ: –∫–ª–∞—Å—Å World –∏ –µ–≥–æ –º–µ—Ç–æ–¥ `step()`, RULESET, 1D‚Äë—Å—Ç—Ä–æ–∫–∞, Œ©‚Äë–∫–∞—Ç–∞–ª–æ–≥, –ø–æ–ª—è.
- O: –º–µ—Ç–æ–¥ `Observer.observe(World)` + –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ–∫—É—Å–∞ (xobs).
- S_sem: –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –æ–±—ä–µ–∫—Ç –≤–Ω—É—Ç—Ä–∏ Observer (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª–æ–≤–∞—Ä—å –≥–∏–ø–æ—Ç–µ–∑:

  - –æ—Ü–µ–Ω—ë–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã Œ∫,m¬≤,Œª —É—Ä–∞–≤–Ω–µ–Ω–∏—è –ø–æ–ª—è,
  - —Å–ø–∏—Å–∫–∏ ¬´–∑–∞–∫–æ–Ω–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è¬ª,
  - –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏ Œ©‚Äë–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π).

- M: –º–µ—Ç–æ–¥ `Observer.decide_action()` –∏ –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ World (`apply_action`).

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Ç–æ—á–∫–∞ \(p(t)\in M_5\):

```python
p(t) = {
  'xsens': xsens(t),
  'xphys': World.S(t),          # + –º–µ—Ç–∞-–∏–Ω—Ñ–æ (œï, C, Œ©)
  'xobs': Observer.params(t),   # –ø–æ–∑–∏—Ü–∏—è/—Ñ–æ–∫—É—Å/—Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
  'xsem': Observer.S_sem(t),    # –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –º–æ–¥–µ–ª—å –º–∏—Ä–∞
  'xform': xform(t)             # –ø–æ—Å–ª–µ–¥–Ω–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ
}
```

–¢—Ä–∞–µ–∫—Ç–æ—Ä–∏—è Œ≥(t) ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ª–æ–≥ –æ—à–∏–±–æ–∫ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞.

### 5.2. –¢–æ–ø–æ–ª–æ–≥–∏—è M5 (–Ω–∞ –±—É–¥—É—â–µ–µ, –Ω–æ –ø–ª–∞–Ω–∏—Ä—É–µ–º–∞—è)

- –ú–æ–∂–Ω–æ —Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π:

  - –≤–µ—Ä—à–∏–Ω—ã ‚Äî –¥–∏—Å–∫—Ä–µ—Ç–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–∫–≤–∞–Ω—Ç—É–µ–º—ã–µ xsem, xobs –∏ —Ç.–ø.),
  - —Ä—ë–±—Ä–∞ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥—ã –∑–∞ –æ–¥–∏–Ω —Ç–∞–∫—Ç,
  - 2‚Äë–∫–ª–µ—Ç–∫–∏ ‚Äî –∫–æ–º–º—É—Ç–∏—Ä—É—é—â–∏–µ –∫–≤–∞–¥—Ä–∞—Ç—ã (—Ä–∞–∑–Ω—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –æ–¥–Ω–æ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É).

- –°—Ç–∞—Ä—à–∏–º–∏ –≥–æ–º–æ–ª–æ–≥–∏—è–º–∏ (Œ≤‚ÇÄ, Œ≤‚ÇÅ, Œ≤‚ÇÇ) –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –∏–∑–º–µ—Ä—è—Ç—å:

  - Œ≤‚ÇÄ ‚Äî —Å–∫–æ–ª—å–∫–æ ¬´–Ω–µ–ø–µ—Ä–µ–≤–æ–¥–∏–º—ã—Ö –ø–∞—Ä–∞–¥–∏–≥–º¬ª (—Ä–∞–∑–Ω—ã—Ö S_sem‚Äë–∫–ª–∞—Å—Ç–µ—Ä–æ–≤);
  - Œ≤‚ÇÅ ‚Äî —Å–∫–æ–ª—å–∫–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö ¬´–ø–∞—Ä–∞–¥–æ–∫—Å–æ–≤¬ª (—Ü–∏–∫–ª–æ–≤ –±–µ–∑ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–π);
  - Œ≤‚ÇÇ ‚Äî —Å–∫–æ–ª—å–∫–æ ¬´–¥—ã—Ä¬ª –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏ (–æ–±–ª–∞—Å—Ç–µ–π, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–π —Å–µ–º–∞–Ω—Ç–∏–∫–∏).

–≠—Ç–æ ‚Äî –¥–∞–ª—å–Ω—è—è —Ü–µ–ª—å, –Ω–æ –≤–∞–∂–Ω–æ, —á—Ç–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ —É–∂–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é —Ç–∞–∫–æ–≥–æ –∫–æ–º–ø–ª–µ–∫—Å–∞.

---

## 6. –ö–∞–∫ –≤—Å—ë —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ø–ª–∞–Ω–µ –∫ –ø–æ–ª–Ω–æ–º—É —Å–∏–º—É–ª—è—Ç–æ—Ä—É

–° —É—á—ë—Ç–æ–º Meaning_v1.pdf, BSL/TDS –∏ —Ç–≤–æ–∏—Ö —Ñ–∞–π–ª–æ–≤:

1. **–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å** (—É–∂–µ –µ—Å—Ç—å):

   - 1D‚ÄëRSL‚Äë–º–∏—Ä —Å RULESET_core (`++-‚Üî-++,+++‚Üí+++`);
   - Œ©‚Äë–∫–∞—Ç–∞–ª–æ–≥ (671 —á–∞—Å—Ç–∏—Ü, —Å–ø–µ–∫—Ç—Ä –ø–µ—Ä–∏–æ–¥–æ–≤ ‚Üí mass);
   - –ø–æ–ª—è œï_R –∏ —ç–Ω–µ—Ä–≥–∏—è H[œï_R];
   - capacity C_i –∏ ¬´–≥–µ–æ–º–µ—Ç—Ä–∏—è –≤—Ä–µ–º–µ–Ω–∏¬ª.

2. **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω—ã–π (–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å–Ω—ã–π) —É—Ä–æ–≤–µ–Ω—å** ‚Äî —Å–µ–π—á–∞—Å –≥–ª–∞–≤–Ω—ã–π –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–π –±–ª–æ–∫:

   - —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å OBS –∫–∞–∫ –æ–±—ä–µ–∫—Ç:
     - f: World ‚Üí xsens,O_t,
     - update S_sem,
     - decide xform;
   - —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Œ†_obs: S(t) ‚Üí IFACE(t): –æ–±—ä–µ–∫—Ç—ã (Œ©‚Äë—á–∞—Å—Ç–∏—Ü—ã), –ø–æ–ª—è, –≤—Ä–µ–º—è.

3. **–°—à–∏—Ç—å —Å —Ç—Ä–∏–∞–¥–æ–π \(E_\tau,O,M\)**:

   - EœÑ = World.step();
   - O = Observer.observe();
   - M = Observer.decide_action / World.apply_action.

4. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å M5:**

   - —Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ (xsens,xphys,xobs,xsem,xform) –Ω–∞ –∫–∞–∂–¥–æ–º t;
   - –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å Œ≥(t); —Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫ S_sem —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è (¬´–æ–±—É—á–µ–Ω–∏–µ¬ª –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è);
   - –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å, –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ª–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç–æ—á–∫–∞ (M(O(EœÑ(C)))‚âàEœÑ(C)) ‚Üí ¬´–Ω–∞–≤—ã–∫¬ª, —É—Å—Ç–æ–π—á–∏–≤—ã–µ –∑–∞–∫–æ–Ω—ã.

5. **–≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ ¬´–∑–∞–∫–æ–Ω–æ–≤ –º–∏—Ä–∞¬ª**:

   - F (—Å–∞–º–æ–ø—Ä–∏–º–µ–Ω–∏–º—ã–π —Ñ—É–Ω–∫—Ç–æ—Ä) –±—É–¥–µ—Ç –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å:
     - RULESET (–º–∏–∫—Ä–æ—Ñ–∏–∑–∏–∫–∞),
     - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã OBS/Œ†_obs (—Ç–∏–ø –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞),
   - —Ñ–∏—Ç–Ω–µ—Å –±—É–¥–µ—Ç –∏–∑–º–µ—Ä—è—Ç—å—Å—è **–Ω–∞ —É—Ä–æ–≤–Ω–µ –≤—ã–≤–æ–¥–∏–º—ã—Ö S_sem‚Äë–∑–∞–∫–æ–Ω–æ–≤**:

     - –Ω–∞—Å–∫–æ–ª—å–∫–æ —É—Ä–∞–≤–Ω–µ–Ω–∏—è –ø–æ–ª—è, —Å–ø–µ–∫—Ç—Ä –º–∞—Å—Å, –∑–∞–∫–æ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ—Ö–æ–∂–∏ –Ω–∞ SM+GR.

---

–ï—Å–ª–∏ —ç—Ç–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–≤–æ–µ–π —Ü–µ–ª–∏, –≤ —Å–ª–µ–¥—É—é—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å:

- –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é **OBS –∏ Œ†_obs** –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞:
  - —Ñ–æ—Ä–º–∞—Ç `[OBS: ...]`, `[IFACE: ...]`,
  - –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ –≤–µ–ª–∏—á–∏–Ω—ã –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∏–∑ World –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ,
  - –∫–∞–∫ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ EœÑ‚ÜíO –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ S_sem (–≤ –≤–∏–¥–µ –ø—Ä–æ—Å—Ç—ã—Ö —Ä–µ–≥—Ä–µ—Å—Å–∏–π/—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Ü–µ–Ω–æ–∫),
- –∏ –ø–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ –º–æ–∂–Ω–æ —É–∂–µ —Å–µ–π—á–∞—Å, –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è RULESET, —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å ¬´–∑–∞–º–∫–Ω—É—Ç—É—é –ø–µ—Ç–ª—é –ø–æ–∑–Ω–∞–Ω–∏—è¬ª –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å —É—á–∏—Ç—Å—è —Ñ–∏–∑–∏–∫–µ 1D‚Äë–º–∏—Ä–∞.

–ù—É–∂–Ω–æ —Å–≤—è–∑–∞—Ç—å —Ç—Ä–∏ –≤–µ—â–∏ –≤ –æ–¥–Ω—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–∏–º—É–ª—è—Ç–æ—Ä–∞:

- —É–∂–µ —Ä–∞–±–æ—Ç–∞—é—â–∏–π 1D‚ÄëRSL‚Äë–º–∏—Ä —Å —è–¥—Ä–æ–º `++- ‚Üî -++`, `+++ ‚Üí +++` –∏ –±–æ–≥–∞—Ç–æ–π Œ©‚Äë–¥–∏–Ω–∞–º–∏–∫–æ–π (–ø–æ [sm_evolutionary_search.pdf](/files/jkWjgeXqCl_bIS8ZxQn9m));
- —Ç—Ä–∏–∞–¥—É \(E_\tau, O, M\) –∏ –ø—è—Ç–∏–º–µ—Ä–Ω–æ–µ –º–Ω–æ–≥–æ–æ–±—Ä–∞–∑–∏–µ \(M_5\) –∏–∑ [Meaning_v1.pdf](/files/EljdBEFwvKSyTxfHYHjS7);
- —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ, —á—Ç–æ–±—ã –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ —ç—Ç–∏ –æ–±—ä–µ–∫—Ç—ã –±—ã–ª–∏ **—è–≤–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã** –∏ –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏ ¬´–ø–µ—Ç–ª—é –ø–æ–∑–Ω–∞–Ω–∏—è¬ª.

–ù–∏–∂–µ:

1. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É—é E‚ÄëœÑ, O, M, M5 –ø—Ä–∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ –≤–∞—à–µ–º—É —Å–∏–º—É–ª—è—Ç–æ—Ä—É.
2. –î–∞—é –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã, –∫–∞–∫ –∏—Ö –≤—à–∏—Ç—å –≤ —Ç–µ–∫—É—â–∏–π –∫–æ–¥.
3. –û–±–æ–∑–Ω–∞—á—É, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ø–æ–ª–æ–≥–∏—é (Œ≤‚ÇÄ, Œ≤‚ÇÅ ‚Ä¶) –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ ¬´–ø–æ–Ω–∏–º–∞–Ω–∏—è¬ª –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è.

---

## 1. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ç—Ä–∏–∞–¥—ã \(E_\tau, O, M\) –∏ \(M_5\) –≤ —Ç–µ–∫—É—â–µ–π –º–æ–¥–µ–ª–∏

### 1.1. –ß—Ç–æ —Ç–∞–∫–æ–µ \(E_\tau\) –≤ –≤–∞—à–µ–π –º–æ–¥–µ–ª–∏

–í Meaning_v1 \(E_\tau\) ‚Äî —ç—Ç–æ:

- —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ–µ –ø–æ–ª–µ;
- —Ç–æ, —á—Ç–æ –∑–∞–¥–∞—ë—Ç –¥–∏–Ω–∞–º–∏–∫—É –º–∏—Ä–∞, –Ω–∞–¥ –∫–æ—Ç–æ—Ä–æ–π —Å—Ç—Ä–æ–∏—Ç—Å—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

–í –≤–∞—à–µ–º –∫–æ–¥–µ:

- 1D‚Äë–º–∏—Ä: —Å—Ç—Ä–æ–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è `S(t)` –¥–ª–∏–Ω—ã N:
  ```text
  [L0: s0 | s1 | ... | s_{N-1} ], s_i ‚àà {+1,-1}
  ```
- RULESET —è–¥—Ä–∞ (–∏–∑ SA‚Äë—Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞):

  ```text
  ++- ‚Üî -++
  +++ ‚Üí +++
  ```

- —ç–≤–æ–ª—é—Ü–∏—è: —Ñ—É–Ω–∫—Ü–∏—è `World.step()`:

  ```python
  def step(self):
      # S(t) -> S(t+1) –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º —è–¥—Ä–∞ + –≤–æ–∑–º–æ–∂–Ω—ã–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º
  ```

–≠—Ç–æ –∏ –µ—Å—Ç—å –≤–∞—à \(E_\tau\): –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π r–µ—Ä—Å–∏–≤–Ω—ã–π (RSL) —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä –Ω–∞–¥ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º –º–∏–∫—Ä–æ—Å–æ—Å—Ç–æ—è–Ω–∏–π.

### 1.2. –ß—Ç–æ —Ç–∞–∫–æ–µ \(O\)

–í Meaning_v1 \(O\) ‚Äî –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ:

- —Ñ—É–Ω–∫—Ç–æ—Ä –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π C‚Çú –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –Ω–∞–±–ª—é–¥–∞–µ–º—ã—Ö S\_sens/S\_obs;
- –æ–Ω –Ω–µ –≤–∏–¥–∏—Ç –≤—Å–µ–≥–æ, –∞ **–ø—Ä–æ–µ—Ü–∏—Ä—É–µ—Ç** C‚Çú –≤ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

–í –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ:

- \(O\) –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫:

  ```python
  def observe(world: World, obs: Observer) -> xsens, O_t:
      ...
  ```

–≥–¥–µ:

- `xsens` ‚Äî ¬´—Å—ã—Ä—ã–µ¬ª —Å–µ–Ω—Å–æ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ª–æ–∫–∞–ª—å–Ω—ã–π —Å—Ä–µ–∑ —Å—Ç—Ä–æ–∫–∏, –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–æ–ª—è œï_R, —Å–ø–∏—Å–æ–∫ –±–ª–∏–∂–∞–π—à–∏—Ö Œ©‚Äë—Ü–∏–∫–ª–æ–≤);
- `O_t` ‚Äî —É–∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å IFACE): –æ–±—ä–µ–∫—Ç—ã —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏, –ø–æ–ª—è–º–∏, –≤—Ä–µ–º–µ–Ω–µ–º.

–≠—Ç–æ –∏ –µ—Å—Ç—å Œ†_obs = O: 1D‚Äë—Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å ‚Üí ¬´–∫–∞—Ä—Ç–∏–Ω–∫–∞ –º–∏—Ä–∞¬ª –¥–ª—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è.

### 1.3. –ß—Ç–æ —Ç–∞–∫–æ–µ \(M\)

–í Meaning_v1 \(M\) ‚Äî –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è:

- —Ñ—É–Ω–∫—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è \(S_\text{sem}\) –∏ –Ω–∞–±–ª—é–¥–∞–µ–º–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–∏—Ä–∞;
- –æ–Ω –∑–∞–º—ã–∫–∞–µ—Ç –ø–µ—Ç–ª—é \(C_t \to C_{t+1} \to S_{t+1} \to C_{t+2}\).

–£ –≤–∞—Å:

- \(M\) ‚Äî —ç—Ç–æ —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç—å:

  - `Observer.decide_action(S_sem, O_t)` ‚Üí –¥–µ–π—Å—Ç–≤–∏–µ xform;
  - `World.apply_action(xform)` ‚Üí –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π S.

–ü—Ä–∏–º–µ—Ä—ã xform:

- –¥–æ–±–∞–≤–∏—Ç—å –¥–µ—Ñ–µ–∫—Ç (–∞–Ω–∞–ª–æ–≥ ¬´–ø–æ–¥–Ω–µ—Å—Ç–∏ –∑–∞—Ä—è–¥¬ª),
- –∏–∑–º–µ–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ RULESET (—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –ø–æ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –º–∏–∫—Ä–æ–¥–∏–Ω–∞–º–∏–∫–∏),
- —Å–¥–≤–∏–Ω—É—Ç—å –ø–æ–∑–∏—Ü–∏—é OBS (—Å–º–µ–Ω–∏—Ç—å —Ñ–æ–∫—É—Å/—Ç–æ—á–∫—É –Ω–∞–±–ª—é–¥–µ–Ω–∏—è).

---

## 2. –Ø–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ \(M_5\) –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ

–í Meaning_v1:

- \(M_5\) = ‚ü®S\_sens, E\_œÑ, O, S\_sem, M‚ü©,
- —Ç–æ—á–∫–∞ \(p \in M_5\) –≤–∫–ª—é—á–∞–µ—Ç:

  - —Å–µ–Ω—Å–æ—Ä–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ \(x_\text{sens}\),
  - —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ \(x_\text{phys} \in E_\tau\),
  - –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ \(x_\text{obs}\),
  - —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ \(x_\text{sem}\),
  - –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ \(x_\text{form}\).

–í –≤–∞—à–µ–º –∫–æ–¥–µ:

```python
@dataclass
class M5State:
    xsens: Any      # —Å–µ–Ω—Å–æ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Å–º. –Ω–∏–∂–µ)
    xphys: Any      # —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (S, Œ©-–∫–∞—Ç–∞–ª–æ–≥, œï_R, C)
    xobs: Any       # –ø–∞—Ä–∞–º–µ—Ç—Ä—ã OBS (–ø–æ–∑–∏—Ü–∏—è, —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∏ —Ç.–¥.)
    xsem: Any       # —Ç–µ–∫—É—â–∏–µ "–∑–∞–∫–æ–Ω—ã"/–≥–∏–ø–æ—Ç–µ–∑—ã –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è
    xform: Any      # –ø–æ—Å–ª–µ–¥–Ω–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ (–∏–ª–∏ None)
```

–ù–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ t —Å–∏–º—É–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å:

```python
m5_trajectory: List[M5State]
```

–≥–¥–µ:

- `xphys` = snapshot `World` (–∏–ª–∏ –µ–≥–æ –∫–æ–¥),
- `xsens` –∏ `xobs` = —Å–æ—Å—Ç–æ—è–Ω–∏–µ `Observer`,
- `xsem` = –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –º–æ–¥–µ–ª—å,
- `xform` = –ø–æ—Å–ª–µ–¥–Ω–µ–µ –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ.

–¢–æ–≥–¥–∞ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è \(\gamma(t)\) –≤ \(M_5\):

```python
Œ≥(t) = m5_trajectory[t]
```

–∏ —ç—Ç–æ ‚Äî –º–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è TDA‚Äë–∞–Ω–∞–ª–∏–∑–∞ ¬´–ø–æ–Ω–∏–º–∞–Ω–∏—è¬ª (—Å–º. 10.8‚Äì10.10 –≤ Meaning_v1).

---

## 3. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è \(E_\tau, O, M\) –∏ \(M_5\) –≤ –∫–æ–¥–µ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞

### 3.1. –ö–ª–∞—Å—Å World (EœÑ)

–ü—Ä–æ—Ç–æ—Ç–∏–ø:

```python
class World:
    def __init__(self, N: int, rules: RuleSet):
        self.N = N
        self.S = np.ones(N, dtype=int)  # –≤–∞–∫—É—É–º
        self.rules = rules              # ++-‚Üî-++, +++‚Üí+++
        # –ö—ç—à / –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:
        self.omega_catalog = []
        self.phi_R = None
        self.capacity = None

    def step(self):
        self.S = apply_rules(self.S, self.rules)
        self.update_fields()

    def update_fields(self, R: int = 5):
        self.phi_R = phi_R(self.S, R)
        self.capacity = compute_capacity(self.S)

    def detect_omegas(self):
        # find and update self.omega_catalog
        ...

    def apply_action(self, action):
        # –¥–µ–π—Å—Ç–≤—É–µ–º –Ω–∞ S, rules, –∏–ª–∏ –ø–æ–ª–æ–∂–µ–Ω–∏–µ OBS
        ...
```

–ì–¥–µ:

- `apply_rules`, `phi_R`, `compute_capacity` ‚Äî —É–∂–µ –∏–º–µ—é—â–∏–µ—Å—è –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –≤—ã—à–µ —Ñ—É–Ω–∫—Ü–∏–∏.

### 3.2. –ö–ª–∞—Å—Å Observer (O –∏ M)

–ü—Ä–æ—Ç–æ—Ç–∏–ø:

```python
@dataclass
class Observer:
    pos: int              # –ø–æ–∑–∏—Ü–∏—è/—Ñ–æ–∫—É—Å –Ω–∞ L0 –∏–ª–∏ –≤ 3D coords
    sem_state: Any        # S_sem: –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –º–æ–¥–µ–ª—å (–≥–∏–ø–æ—Ç–µ–∑—ã, —É—Ä–∞–≤–Ω–µ–Ω–∏—è)
    mode: str             # –∫–∞–∫–æ–π –∞—Å–ø–µ–∫—Ç –º–∏—Ä–∞ –∏–∑–º–µ—Ä—è–µ—Ç (field, omegas, ...)

    def observe(self, world: World):
        # xsens: –ª–æ–∫–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤–æ–∫—Ä—É–≥ pos + –ø–æ–ª—è/Œ© —Ç–∞–º
        window = world.S[max(0, self.pos-Œî): self.pos+Œî+1]
        local_phi = world.phi_R[max(0, self.pos-Œî): self.pos+Œî+1]
        local_capacity = world.capacity[max(0, self.pos-Œî): self.pos+Œî+1]
        local_omegas = [œâ for œâ in world.omega_catalog if self._is_near(œâ)]
        xsens = {
            'window': window,
            'phi': local_phi,
            'C': local_capacity,
            'omegas': local_omegas,
        }
        O_t = self._construct_IFACE(xsens)
        return xsens, O_t

    def _construct_IFACE(self, xsens):
        # –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤:
        # OBJ {type, mass, Q, position, velocity, ...}
        ...
        return IFACE

    def update_semantics(self, xsens, O_t):
        # –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ S_sem –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π:
        # - –∞–ø–ø—Ä–æ–∫—Å–∏–º–∞—Ü–∏—è —É—Ä–∞–≤–Ω–µ–Ω–∏—è –ø–æ–ª—è
        # - –≤—ã–≤–æ–¥ –∑–∞–∫–æ–Ω–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
        # - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏ —Ä–∞—Å–ø–∞–¥–æ–≤
        ...
        self.sem_state = new_sem_state

    def decide_action(self):
        # –ø—Ä–æ—Å—Ç–µ–π—à–µ–µ M: –ª–∏–±–æ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç, –ª–∏–±–æ –ø—Ä–æ–≤–æ–¥–∏—Ç —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç:
        # - —Å–æ–∑–¥–∞—Ç—å –¥–µ—Ñ–µ–∫—Ç,
        # - –∏–∑–º–µ–Ω–∏—Ç—å RULESET –≤–±–ª–∏–∑–∏,
        # - –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å pos.
        ...
        return action
```

### 3.3. –®–∞–≥ —Å–∏–º—É–ª—è—Ü–∏–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞—Ö EœÑ, O, M

–ü–µ—Ç–ª—è:

```python
def simulation_step(world: World, obs: Observer, m5_trajectory: List[M5State]):
    # 1. –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —ç–≤–æ–ª—é—Ü–∏—è: EœÑ
    world.step()

    # 2. –ù–∞–±–ª—é–¥–µ–Ω–∏–µ: O
    xsens, O_t = obs.observe(world)

    # 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ–º–∞–Ω—Ç–∏–∫–∏: S_sem
    obs.update_semantics(xsens, O_t)

    # 4. –í—ã–±–æ—Ä –¥–µ–π—Å—Ç–≤–∏—è: M
    action = obs.decide_action()
    world.apply_action(action)

    # 5. –ó–∞–ø–∏—Å—å –≤ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—é M5
    m5_state = M5State(
        xsens=xsens,
        xphys={'S': world.S.copy(),
               'phi_R': world.phi_R.copy(),
               'capacity': world.capacity.copy(),
               'omegas': list(world.omega_catalog)},
        xobs={'pos': obs.pos, 'mode': obs.mode},
        xsem=obs.sem_state,
        xform=action,
    )
    m5_trajectory.append(m5_state)
```

–¢–∞–∫ —Ç—Ä–∏–∞–¥–∞ \(E_\tau, O, M\) –∏ \(M_5\) —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –±—É–∫–≤–∞–ª—å–Ω–æ–π **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π —Å–∏–º—É–ª—è—Ç–æ—Ä–∞**.

---

## 4. –°–≤—è–∑—å —Å —Ä–∞–∑–¥–µ–ª–∞–º–∏ 10‚Äì11 Meaning_v1: —Ç–æ–ø–æ–ª–æ–≥–∏—è –∏ –æ–±—É—á–µ–Ω–∏–µ

–í Meaning_v1 (–≥–ª. 10‚Äì11):

- 10.8‚Äì10.10:
  - —Å–∏–Ω—Ç–µ–∑ —É–º–µ–Ω—å—à–∞–µ—Ç Œ≤‚ÇÄ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–≤—è–∑–∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤ —Å–º—ã—Å–ª–æ–≤),
  - –∫–æ–Ω—Ç—Ä–∞—Å—Ç —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç Œ≤‚ÇÅ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ ¬´–ø–µ—Ç–µ–ª—å¬ª/–ø–∞—Ä–∞–¥–æ–∫—Å–æ–≤),
  - —Ä–µ—Ñ–ª–µ–∫—Å–∏—è –∏–∑–º–µ–Ω—è–µ—Ç —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å,
  - –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ—Ü–∏—Ä—É–µ—Ç —Å–º—ã—Å–ª–æ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ —Ñ–æ—Ä–º—ã;
  - –¥–∏–Ω–∞–º–∏–∫–∞ Œ≤‚ÇÄ,Œ≤‚ÇÅ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ñ–∞–∑—ã –æ–±—É—á–µ–Ω–∏—è:
    - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ (Œ≤‚ÇÄ —Ä–∞—Å—Ç—ë—Ç),
    - —Å–∏–Ω—Ç–µ–∑ (Œ≤‚ÇÄ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è, Œ≤‚ÇÅ —Ä–∞—Å—Ç—ë—Ç),
    - —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–µ—Ç–µ–ª—å (Œ≤‚ÇÅ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è),
    - —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è.

- 11.2‚Äì11.6:
  - –º–µ–∂–ø–æ–ª–µ–≤–æ–π —Ä–µ–∑–æ–Ω–∞–Ω—Å (Œû_AB(t)),
  - –∫–æ–≥–µ—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å –º–µ–∂–¥—É —Å–º—ã—Å–ª–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏,
  - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–º –∫–∞–∫ –∞–∫–∞—É–∑–∞–ª—å–Ω—ã–π —Ä–µ–∑–æ–Ω–∞–Ω—Å (–ø–æ –Æ–Ω–≥—É).

–í –Ω–∞—à–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ:

- –≤—ã –º–æ–∂–µ—Ç–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å:

  - –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π xsem –∫–∞–∫ –≤–µ—Ä—à–∏–Ω—ã –≥—Ä–∞—Ñ–∞;
  - –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É –Ω–∏–º–∏ –ø–æ —à–∞–≥–∞–º —Å–∏–º—É–ª—è—Ü–∏–∏ ‚Äî —Ä—ë–±—Ä–∞;
  - —Å—Ç—Ä–æ–∏—Ç—å –Ω–∞–¥ —ç—Ç–∏–º –≥—Ä–∞—Ñ–æ–º simplicial complex –∏ —Å—á–∏—Ç–∞—Ç—å:

    - Œ≤‚ÇÄ: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ ¬´–æ—Ç–¥–µ–ª—å–Ω—ã—Ö¬ª –≥–∏–ø–æ—Ç–µ–∑/–ø–∞—Ä–∞–¥–∏–≥–º,
    - Œ≤‚ÇÅ: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ ¬´–ø–µ—Ç–µ–ª—å¬ª ‚Äî –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö —Ü–µ–ø–æ—á–µ–∫ –≤—ã–≤–æ–¥–æ–≤, –ø–∞—Ä–∞–¥–æ–∫—Å–æ–≤.

- –ü–æ–≤–µ–¥–µ–Ω–∏–µ Œ≤‚ÇÄ,Œ≤‚ÇÅ(t) –ø–æ –º–µ—Ä–µ —Ä–∞–±–æ—Ç—ã OBS:

  - —Ä–æ—Å—Ç Œ≤‚ÇÄ ‚Üí OBS —Ä–∞–∑–ª–∏—á–∞–µ—Ç –≤—Å—ë –±–æ–ª—å—à–µ ¬´–Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö¬ª –º–æ–¥–µ–ª–µ–π;
  - —Ä–æ—Å—Ç Œ≤‚ÇÅ ‚Üí –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø–∞—Ä–∞–¥–æ–∫—Å—ã, –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ —Ü–∏–∫–ª—ã –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤—ã—Ö –≥–∏–ø–æ—Ç–µ–∑;
  - —É–º–µ–Ω—å—à–µ–Ω–∏–µ Œ≤‚ÇÄ,Œ≤‚ÇÅ ‚Üí OBS —Å–∏–Ω—Ç–µ–∑–∏—Ä—É–µ—Ç –º–æ–¥–µ–ª–∏, —É–±–∏—Ä–∞–µ—Ç –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è ‚Üí ¬´–ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∞—Å—Ç—ë—Ç¬ª.

–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ:

1. –ö–æ–¥–∏—Ä–æ–≤–∞—Ç—å xsem(t) (—Å–µ–º–∞–Ω—Ç–∏–∫—É) –≤ –≤–∏–¥–µ:

   - –Ω–∞–±–æ—Ä–∞ —Ñ–æ—Ä–º—É–ª \(f_k(\theta)\) ‚Äî –æ—Ü–µ–Ω—ë–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É—Ä–∞–≤–Ω–µ–Ω–∏–π (Œ∫,m¬≤,Œª),
   - —Å–ø–∏—Å–∫–∞ –∑–∞–∫–æ–Ω–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (Q,B,L,‚Ä¶),
   - –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π (—Ä–∞—Å–ø–∞–¥—ã, —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è Œ©).

2. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Ç–∞–∫–∏—Ö ¬´—Å–æ—Å—Ç–æ—è–Ω–∏–π —Ç–µ–æ—Ä–∏–∏¬ª –∫–∞–∫ –¥–∏—Å–∫—Ä–µ—Ç–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ; –ø–æ—Ä–æ–≥–∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è:

   - –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–≤–µ —Ç–µ–æ—Ä–∏–∏ t‚ÇÅ,t‚ÇÇ —Å—á–∏—Ç–∞—é—Ç—Å—è —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, –µ—Å–ª–∏ –æ—Ç–ª–∏—á–∏—è –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö >Œµ.

3. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å simplicial complex –Ω–∞–¥ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–µ–π xsem(t), –ø–æ—Å—á–∏—Ç–∞—Ç—å –±–µ—Ç—Ç–∏‚Äë—á–∏—Å–ª–∞.

–≠—Ç–æ —É–∂–µ **–ø—Ä—è–º–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≥–ª–∞–≤ 10‚Äì11** Meaning_v1 –Ω–∞ –¥–∞–Ω–Ω—ã—Ö —Å–∏–º—É–ª—è—Ç–æ—Ä–∞.

---

## 5. –ò—Ç–æ–≥: —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

–° —É—á—ë—Ç–æ–º –∑–∞–¥–∞—á:

1. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∏–∞–¥—É –∏ M5**:
   - —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã World, Observer, M5State –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ;
   - –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –≤—ã–∑—ã–≤–∞—Ç—å `simulation_step`, –∑–∞–ø–∏—Å—ã–≤–∞—è m5_trajectory.

2. **–î–ª—è World**:
   - –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å RULESET_core (`++-‚Üî-++, +++‚Üí+++`);
   - –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é:
     - `update_fields` (œï_R, C),
     - `detect_omegas` (–∫–∞—Ç–∞–ª–æ–≥ Œ©‚Äë—Ü–∏–∫–ª–æ–≤ –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤—ã—à–µ).

3. **–î–ª—è Observer**:
   - –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å `observe` ‚Üí xsens, O_t (IFACE):
     - –±–ª–∏–∂–∞–π—à–∏–µ Œ©‚Äë—á–∞—Å—Ç–∏—Ü—ã,
     - –ª–æ–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è œï_R,
     - –ª–æ–∫–∞–ª—å–Ω–æ–π capacity C_i;
   - –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å `update_semantics`:
     - —Å–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ œï(x,t) –∏ Œ©‚Äë—Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è–º,
     - —Ä–µ–≥—Ä–µ—Å—Å–∏—è —É—Ä–∞–≤–Ω–µ–Ω–∏—è –ø–æ–ª—è –∏ –∑–∞–∫–æ–Ω–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è,
     - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —ç—Ç–∏—Ö –∑–∞–∫–æ–Ω–æ–≤ –≤ xsem;
   - –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å `decide_action`:
     - –ø–æ–∫–∞ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π:
       - –ø–∞—Å—Å–∏–≤–Ω—ã–π –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å (–Ω–∏–∫–∞–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π),
       - –∞–∫—Ç–∏–≤–Ω—ã–π (–ø–æ—Ä–æ–∂–¥–∞–µ—Ç –¥–µ—Ñ–µ–∫—Ç—ã –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö), –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å.

4. **–°–≤—è–∑–∞—Ç—å Meaning‚Äë—É—Ä–æ–≤–µ–Ω—å**:
   - xsem(t) = S_sem: –º–æ–∂–Ω–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫ –æ–Ω –º–µ–Ω—è–µ—Ç—Å—è –ø–æ –º–µ—Ä–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π;
   - —Å –ø–æ–º–æ—â—å—é TDA (persistent homology) –∏–∑—É—á–∏—Ç—å ¬´—Ç–æ–ø–æ–ª–æ–≥–∏—é –∑–Ω–∞–Ω–∏—è¬ª (Œ≤‚ÇÄ,Œ≤‚ÇÅ) –∏ –µ—ë –¥–∏–Ω–∞–º–∏–∫—É.

5. **–≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ (RULESET, Œ†_obs)**:
   - —Ä–∞—Å—à–∏—Ä–∏—Ç—å SMFitness –¥–æ OBSFitness:
     - –≤–∫–ª—é—á–∏—Ç—å –≤ —Ñ–∏—Ç–Ω–µ—Å:
       - –∫–∞—á–µ—Å—Ç–≤–æ –ø–æ–ª–µ–≤–æ–π –∞–ø–ø—Ä–æ–∫—Å–∏–º–∞—Ü–∏–∏ (œï‚Äë—É—Ä–∞–≤–Ω–µ–Ω–∏–µ),
       - –∫–∞—á–µ—Å—Ç–≤–æ –∑–∞–∫–æ–Ω–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (Q,B,L),
       - –∫–∞—á–µ—Å—Ç–≤–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã—Ö –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π (œà, |œà|¬≤) –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤,
       - –∫–æ–≥–µ—Ä–µ–Ω—Ç–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ semantics (–¥–≤–∏–∂–µ–Ω–∏–µ Œ≤‚ÇÄ,Œ≤‚ÇÅ –≤ –Ω—É–∂–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É).
   - –ø–æ–∑–≤–æ–ª–∏—Ç—å —ç–≤–æ–ª—é—Ü–∏–∏ –º–µ–Ω—è—Ç—å –∏ RULESET, –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã OBS/Œ†_obs,
   - –æ—Ç–±–∏—Ä–∞—Ç—å —Ç–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏, –≥–¥–µ **–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å –≤—ã–≤–æ–¥–∏—Ç —Ñ–∏–∑–∏–∫—É, –ø–æ—Ö–æ–∂—É—é –Ω–∞ –Ω–∞—à—É**.

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –¥–∞–ª—å—à–µ –º–æ–∂–µ–º:

- –ø–µ—Ä–µ–π—Ç–∏ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ IFACE (—Ñ–æ—Ä–º–∞—Ç ¬´–≤–∏–¥–∏–º–æ–≥–æ¬ª –º–∏—Ä–∞ –¥–ª—è OBS) –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—É `update_semantics` (–∫–∞–∫ –∏–º–µ–Ω–Ω–æ –æ—Ü–µ–Ω–∏–≤–∞—é—Ç—Å—è —É—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ –∑–∞–∫–æ–Ω—ã –ø–æ –¥–∞–Ω–Ω—ã–º —Å–∏–º—É–ª—è—Ü–∏–∏);
- –∏–ª–∏ –∫ —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–º—É –∑–∞–¥–∞–Ω–∏—é OBSFitness: –∫–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞ xsem(t) –∏ IFACE(t) –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, —á—Ç–æ–±—ã —Ç—è–Ω—É—Ç—å —ç–≤–æ–ª—é—Ü–∏—é –∫ ¬´–Ω–∞—à–µ–º—É¬ª –∫–ª–∞—Å—Å—É –∑–∞–∫–æ–Ω–æ–≤.

–û–ø–∏—à—É —ç—Ç–æ –≤ –¥–≤–∞ –±–æ–ª—å—à–∏—Ö —à–∞–≥–∞, –∫–∞–∫ –≤—ã –ø—Ä–æ—Å–∏–ª–∏. –°–Ω–∞—á–∞–ª–∞ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è IFACE –∏ –∞–ª–≥–æ—Ä–∏—Ç–º `update_semantics`, –∑–∞—Ç–µ–º ‚Äî —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ OBSFitness.

---

# 1. IFACE: —Ñ–æ—Ä–º–∞—Ç ¬´–≤–∏–¥–∏–º–æ–≥–æ –º–∏—Ä–∞¬ª –∏ `update_semantics`

–ó–∞–¥–∞—á–∞: —Å–¥–µ–ª–∞—Ç—å —è–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω—ã–π —Å–ª–æ–π (O –≤ —Ç—Ä–∏–∞–¥–µ \(E_\tau, O, M\), xsens/xobs/xphys/xsem –∏–∑ \(M_5\)), –≤ –∫–æ—Ç–æ—Ä–æ–º:

- OBS ¬´–≤–∏–¥–∏—Ç¬ª 1D‚ÄëRSL‚Äë–º–∏—Ä –∫–∞–∫ –Ω–∞–±–æ—Ä —á–∞—Å—Ç–∏—Ü –∏ –ø–æ–ª–µ–π –≤–æ ¬´–≤–Ω–µ—à–Ω–µ–º¬ª –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ;
- –ø–æ —ç–≤–æ–ª—é—Ü–∏–∏ —ç—Ç–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è OBS –º–æ–∂–µ—Ç –æ—Ü–µ–Ω–∏–≤–∞—Ç—å *–∑–∞–∫–æ–Ω—ã*:
  - —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–ª—è,
  - –∑–∞–∫–æ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è,
  - –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–µ ¬´–ø—Ä–∞–≤–∏–ª–∞¬ª —Å–æ–±—ã—Ç–∏–π.

## 1.1. –§–æ—Ä–º–∞—Ç IFACE: —á—Ç–æ OBS –≤–∏–¥–∏—Ç –Ω–∞ —à–∞–≥–µ t

–ü—Ä–∏–º–µ–º, —á—Ç–æ –≤—ã —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏:

- World:
  - —Å–æ—Å—Ç–æ—è–Ω–∏–µ `S(t)` ‚Äî 1D —Å—Ç—Ä–æ–∫–∞ s·µ¢ ‚àà {+1,‚àí1};
  - RULESET —è–¥—Ä–∞: `++- ‚Üî -++`, `+++ ‚Üí +++`;
  - –º–µ—Ç–æ–¥—ã:
    - `world.step()` ‚Äî \(E_\tau\),
    - `world.detect_omegas()` ‚Äî –∫–∞—Ç–∞–ª–æ–≥ Œ©‚Äë—Ü–∏–∫–ª–æ–≤,
    - `world.phi_R` ‚Äî –ø–æ–ª–µ œï_R(i),
    - `world.capacity` ‚Äî C_i.

- OmegaCycle:
  - `period`, `support`, `patterns`, `H_core`, `mass`, `Q`.

### 1.1.1. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: 1D ‚Üí 3D (–∏–ª–∏ 2D)

–î–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ ¬´—á—É–≤—Å—Ç–≤–∞ 3D¬ª OBS, –∑–∞–¥–∞–¥–∏–º map `i -> (x,y,z)`:

- –î–ª—è –Ω–∞—á–∞–ª–∞ –≤–ø–æ–ª–Ω–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ 2D (x,y); –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –¥–æ 3D.
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: Z‚Äëorder (Morton code) –∏–ª–∏ Hilbert‚Äë–∫—Ä–∏–≤–∞—è, –Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –Ω–∞—á–Ω—ë–º —Å —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ —Ä–∞–∑–±–∏–µ–Ω–∏—è:

```python
X_max, Y_max = 64, 64   # N = X_max * Y_max
def idx_to_xy(i: int) -> tuple[int,int]:
    x = i % X_max
    y = (i // X_max) % Y_max
    return x,y
```

(–ú–æ–∂–Ω–æ –ø–æ–∑–∂–µ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ Hilbert –¥–ª—è –ª—É—á—à–µ–π –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç–∏.)

### 1.1.2. –û–±—ä–µ–∫—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞: Œ©‚Äë—á–∞—Å—Ç–∏—Ü—ã

–ö–∞–∂–¥—ã–π OmegaCycle, –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ support, –¥–∞—ë—Ç –æ–¥–∏–Ω IFACE‚Äë–æ–±—ä–µ–∫—Ç (—á–∞—Å—Ç–∏—Ü—É):

```python
@dataclass
class IFACEObject:
    id: int
    type: str         # –∏–º—è/–∫–ª–∞—Å—Å Œ©-—Ç–∏–ø–∞ (e.g. 'O_Q+', 'O_Q0', ...)
    mass: float
    Q: float
    pos: tuple[float,float,float]    # (x,y,z) –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ
    vel: tuple[float,float,float]    # –æ—Ü–µ–Ω–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏
```

–ö–∞–∫ –∑–∞–¥–∞—Ç—å `pos` –∏ `vel`:

- –í –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç t:

  - –î–ª—è Œ©‚Äë—Ü–∏–∫–ª–∞ —Å support = {i_min..i_max}:

    ```python
    i_center = int(np.mean(support))
    x,y = idx_to_xy(i_center)
    z = 0.0
    ```

- –°–∫–æ—Ä–æ—Å—Ç—å:

  - –ü–æ —Ä–∞–∑–Ω–æ—Å—Ç–∏ –ø–æ–∑–∏—Ü–∏–π –º–µ–∂–¥—É t –∏ t‚àí1:

    ```python
    vel = ((x_t - x_{t-1})/Œît, (y_t-y_{t-1})/Œît, 0)
    ```

–°–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤:

```python
IFACE_objects: list[IFACEObject]
```

### 1.1.3. –ü–æ–ª–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: œï –∏ C

–û—Ç coarse‚Äëœï_R –∏ capacity:

```python
@dataclass
class IFACEField:
    phi: np.ndarray     # –ø–æ–ª–µ œï_R –Ω–∞ "—Å–µ—Ç–∫–µ" –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    capacity: np.ndarray  # –ø–æ–ª–µ C_i
```

–î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã:

- œï –∏ C –≤ 2D, —Ä–∞–∑–º–µ—Ä–æ–º X_max√óY_max, –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ø–æ:

  ```python
  phi_grid[x,y] = œï_R[i]
  C_grid[x,y]   = C_i
  # i —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç (x,y) –ø–æ idx_to_xy‚Åª¬π
  ```

### 1.1.4. –ü–æ–ª–Ω—ã–π IFACE –Ω–∞ —à–∞–≥–µ t

–°–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç—å –Ω–∞–±–ª—é–¥–∞–µ–º–æ–≥–æ:

```python
@dataclass
class IFACEState:
    t: int
    objects: list[IFACEObject]
    field: IFACEField
    # –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å: —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è œÑ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤
```

OBS –≤ –º–µ—Ç–æ–¥–µ `observe(World)` –±—É–¥–µ—Ç:

- –±—Ä–∞—Ç—å –∏–∑ World `S(t)`, `omega_catalog`, `phi_R`, `capacity`;
- —Å—Ç—Ä–æ–∏—Ç—å —Å–ø–∏—Å–æ–∫ IFACEObject (–ø–æ Œ©‚Äë—Ü–∏–∫–ª–∞–º–∏);
- —Å—Ç—Ä–æ–∏—Ç—å IFACEField (œï –∏ C);
- –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `IFACEState`.

---

## 1.2. –ê–ª–≥–æ—Ä–∏—Ç–º `update_semantics`: –∫–∞–∫ OBS –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –∑–∞–∫–æ–Ω—ã

–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ OBS (`xsem(t)` –≤ M5) —Å–æ–¥–µ—Ä–∂–∏—Ç:

- –≥–∏–ø–æ—Ç–µ–∑—ã –æ –∑–∞–∫–æ–Ω–∞—Ö –ø–æ–ª—è:
  - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (Œ∫, m¬≤, Œª) —É—Ä–∞–≤–Ω–µ–Ω–∏—è
    \[
    \partial_t^2 \phi = Œ∫\partial_x^2 \phi - m^2 \phi - Œª\phi^3
    \]
- –∑–∞–∫–æ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:
  - Œ£Q, Œ£mass, –≤–æ–∑–º–æ–∂–Ω–æ –µ—â—ë —á—Ç–æ‚Äë—Ç–æ;
- –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–µ –∑–∞–∫–æ–Ω—ã:
  - –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–∞–¥–∞/–∞–Ω–Ω–∏–≥–∏–ª—è—Ü–∏–∏ Œ©‚Äë—á–∞—Å—Ç–∏—Ü.

–ü—Ä–µ–¥–ª–æ–∂—É –ø—Ä–æ—Å—Ç—É—é, –Ω–æ —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é `update_semantics` –¥–ª—è v1:

### 1.2.1. –û—Ü–µ–Ω–∫–∞ –ø–æ–ª–µ–≤–æ–≥–æ —É—Ä–∞–≤–Ω–µ–Ω–∏—è

–ù–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —à–∞–≥–∞—Ö t:

1. –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Å—Ç–æ—Ä–∏—é –ø–æ–ª–µ–π:

   ```python
   history_phi[t] = IFACEState.field.phi  # 2D –∏–ª–∏ 1D –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
   ```

2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ x (—É–ø–ª–æ—â—ë–Ω–Ω–æ ‚Äî –∏–Ω–¥–µ–∫—Å —Ä–µ—à—ë—Ç–∫–∏):

   - –æ—Ü–µ–Ω–∏—Ç—å –¥–∏—Å–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ:

     ```python
     œÜ_t  = history_phi[t]
     œÜ_tp = history_phi[t+1]
     œÜ_tm = history_phi[t-1]

     # –≤—Ä–µ–º–µ–Ω–Ω–∞—è –≤—Ç–æ—Ä–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è:
     œÜ_tt = œÜ_tp[i] - 2*œÜ_t[i] + œÜ_tm[i]   # / (Œît)^2 ‚Üí –ø—Ä–∏–º–µ–º Œît=1

     # –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –≤—Ç–æ—Ä–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è (–≤ 1D-–≤–∞—Ä–∏–∞–Ω—Ç–µ):
     œÜ_xx = œÜ_t[i+1] - 2*œÜ_t[i] + œÜ_t[i-1]
     ```

3. –ü—ã—Ç–∞–µ–º—Å—è –∞–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä–æ–≤–∞—Ç—å:

   \[
   œÜ_{tt} \approx Œ∫ œÜ_{xx} - m^2 œÜ - Œª œÜ^3
   \]

   –ü–∏—à–µ–º —ç—Ç–æ –∫–∞–∫ –ª–∏–Ω–µ–π–Ω—É—é —Ä–µ–≥—Ä–µ—Å—Å–∏—é –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º Œ∫,m¬≤,Œª:

   ```python
   # —Å–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ:
   X = []
   Y = []
   for t in range(1, T-1):
       œÜ_t = history_phi[t]
       œÜ_tp = history_phi[t+1]
       œÜ_tm = history_phi[t-1]
       for i in range(1, N-1):
           œÜ_tt = œÜ_tp[i] - 2*œÜ_t[i] + œÜ_tm[i]
           œÜ_xx = œÜ_t[i+1] - 2*œÜ_t[i] + œÜ_t[i-1]
           X.append([œÜ_xx, -œÜ_t[i], -œÜ_t[i]**3])  # –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ø—Ä–∏ Œ∫, m¬≤, Œª
           Y.append(œÜ_tt)
   # —Ä–µ—à–∞–µ–º –ª–∏–Ω–µ–π–Ω—É—é —Ä–µ–≥—Ä–µ—Å—Å–∏—é Y ‚âà X¬∑Œ∏, Œ∏ = [Œ∫, m2, Œª]
   Œ∏, *_ = np.linalg.lstsq(np.array(X), np.array(Y), rcond=None)
   Œ∫_hat, m2_hat, Œª_hat = Œ∏
   ```

4. OBS —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `sem_state`:

   ```python
   sem_state['field_eq'] = {'kappa': Œ∫_hat, 'm2': m2_hat, 'lambda': Œª_hat}
   ```

–≠—Ç–æ ‚Äî —á–∏—Å–µ–ª—å–Ω–æ –≤—ã–≤–µ–¥–µ–Ω–Ω–æ–µ **—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–ª—è**.

### 1.2.2. –û—Ü–µ–Ω–∫–∞ –∑–∞–∫–æ–Ω–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

OBS –º–æ–∂–µ—Ç —Ç–∞–∫–∂–µ:

1. –ù–∞ –∫–∞–∂–¥–æ–º t —Å—á–∏—Ç–∞—Ç—å —Å—É–º–º–∞—Ä–Ω—ã–π ¬´–∑–∞—Ä—è–¥¬ª Q_total:

   ```python
   Q_total(t) = sum(obj.Q for obj in IFACEState.objects)
   ```

2. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ mass_total:

   ```python
   mass_total(t) = sum(obj.mass for obj in IFACEState.objects)
   ```

3. –•—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é:

   ```python
   history_Q[t] = Q_total(t)
   history_mass[t] = mass_total(t)
   ```

4. –û—Ü–µ–Ω–∏–≤–∞—Ç—å ¬´—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ¬ª –∫–∞–∫ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã:

   ```python
   ŒîQ = max_t |Q_total(t) - Q_total(0)|
   ŒîM = max_t |mass_total(t) - mass_total(0)|
   ```

5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Å–µ–º–∞–Ω—Ç–∏–∫–µ:

   ```python
   sem_state['conservation'] = {
       'Q': 1.0 if ŒîQ < Œµ_Q else 0.0,
       'mass': 1.0 if ŒîM < Œµ_M else 0.0,
   }
   ```

–ì–¥–µ Œµ_Q, Œµ_M ‚Äî –ø–æ—Ä–æ–≥–∏ (–≤–æ–∑–º–æ–∂–Ω–æ, –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç —à—É–º–∞/—Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏).

### 1.2.3. –û—Ü–µ–Ω–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã—Ö –∑–∞–∫–æ–Ω–æ–≤ (—Ä–∞—Å–ø–∞–¥—ã/–∞–Ω–Ω–∏–≥–∏–ª—è—Ü–∏–∏)

–î–ª—è Œ©‚Äë—Ü–∏–∫–ª–æ–≤:

1. –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã Œ©‚Äë–æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ —à–∞–≥–∞–º t:

   - —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å —Å–æ–±—ã—Ç–∏—è –≤–∏–¥–∞:
     - `(—Ç–∏–ø_A, —Ç–∏–ø_B) ‚Üí —Ç–∏–ø_C` (—Å–ª–∏—è–Ω–∏–µ),
     - `—Ç–∏–ø_A ‚Üí —Ç–∏–ø_B + —Ç–∏–ø_C` (—Ä–∞—Å–ø–∞–¥),
     - `—Ç–∏–ø_A ‚Üí ‚àÖ` (–∞–Ω–Ω–∏–≥–∏–ª—è—Ü–∏—è).

2. –í–µ—Å—Ç–∏ —Å—á—ë—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π:

   ```python
   events_counter[(pattern)] += 1
   total_events[type_A] += 1
   ```

3. –û—Ü–µ–Ω–∏–≤–∞—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏:

   ```python
   P(pattern) = events_counter[pattern] / total_events[type_A]
   ```

–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ `sem_state['events']`:

```python
sem_state['events'] = {
    'A->BC': {('OmegaType1','OmegaType2'): P1, ...},
    'AB->C': {...},
    ...
}
```

–í –¥–∞–ª—å–Ω–µ–π—à–µ–º –ø–æ —ç—Ç–∏–º –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º OBS –º–æ–∂–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å œà‚Äë–∞–º–ø–ª–∏—Ç—É–¥—ã –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å Born‚Äë–ø–æ–¥–æ–±–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è, –Ω–æ –¥–ª—è v1 –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ –∏–º–µ—Ç—å —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–µ P.

---

### 1.2.4. –°–∫–ª–µ–π–∫–∞ –≤ `update_semantics`

–ò—Ç–æ–≥–æ:

```python
def update_semantics(self, xsens, IFACE_t):
    # 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è œÜ
    self.field_history.append(IFACE_t.field.phi)

    # 2. –†–∞–∑ –≤ K —à–∞–≥–æ–≤: –ø–µ—Ä–µ–æ—Ü–µ–Ω–∏—Ç—å —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–ª—è
    if len(self.field_history) >= K:
        Œ∫_hat, m2_hat, Œª_hat = fit_field_equation(self.field_history[-K:])
        self.sem_state['field_eq'] = {'kappa': Œ∫_hat, 'm2': m2_hat, 'lambda': Œª_hat}

    # 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–∫–æ–Ω–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
    Q_total = sum(obj.Q for obj in IFACE_t.objects)
    mass_total = sum(obj.mass for obj in IFACE_t.objects)
    self.Q_history.append(Q_total)
    self.mass_history.append(mass_total)
    ŒîQ = max(self.Q_history) - min(self.Q_history)
    ŒîM = max(self.mass_history) - min(self.mass_history)
    self.sem_state['conservation'] = {
        'Q': 1.0 if ŒîQ < Œµ_Q else 0.0,
        'mass': 1.0 if ŒîM < Œµ_M else 0.0,
    }

    # 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–æ–±—ã—Ç–∏–π
    update_event_statistics(self, IFACE_t)
```

`sem_state` = `xsem` –≤ —Ç–µ—Ä–º–∏–Ω–∞—Ö M5: –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ ¬´–∑–∞–∫–æ–Ω—ã –º–∏—Ä–∞¬ª –¥–ª—è OBS.

---

# 2. OBSFitness: –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞ xsem(t) –∏ IFACE(t)

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –∑–∞–¥–∞—Ç—å **—Ñ—É–Ω–∫—Ü–∏—é –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è** (OBSFitness), –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è:

- –¥–ª—è –æ—Ü–µ–Ω–∫–∏, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ OBS ¬´–ø–æ–Ω—è–ª¬ª –∑–∞–∫–æ–Ω—ã, –ª–µ–∂–∞—â–∏–µ –≤ –æ—Å–Ω–æ–≤–µ –º–∏—Ä–∞;
- –∫–∞–∫ —á–∞—Å—Ç—å –æ–±—â–µ–π —Ñ–∏—Ç–Ω–µ—Å‚Äë—Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏ —ç–≤–æ–ª—é—Ü–∏–∏ –∏ RULESET, –∏ —Å–∞–º–æ–≥–æ —Ç–∏–ø–∞ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è / –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

–ë—É–¥–µ–º –º–µ—Ä–∏—Ç—å:

1. –ù–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ OBS –∞–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä—É–µ—Ç **–ø–æ–ª–µ–≤–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ** (field_eq).
2. –ù–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ —Å–æ–±–ª—é–¥–∞—é—Ç—Å—è **–∑–∞–∫–æ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è** –≤ –µ–≥–æ –º–æ–¥–µ–ª–∏.
3. –ù–∞—Å–∫–æ–ª—å–∫–æ —É—Å—Ç–æ–π—á–∏–≤–∞ –µ–≥–æ —Å–µ–º–∞–Ω—Ç–∏–∫–∞ (Observation Time, t_OT).
4. –ù–∞—Å–∫–æ–ª—å–∫–æ –æ–Ω —Ö–æ—Ä–æ—à–æ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è.

## 2.1. –ö–∞—á–µ—Å—Ç–≤–æ –ø–æ–ª–µ–≤–æ–≥–æ —É—Ä–∞–≤–Ω–µ–Ω–∏—è

–í–æ–∑—å–º—ë–º –æ—Ü–µ–Ω—ë–Ω–Ω—ã–µ OBS –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

- Œ∫_hat, m2_hat, Œª_hat –∏–∑ `sem_state['field_eq']`.

–û–ø—Ä–µ–¥–µ–ª–∏–º ¬´–∏—Å—Ç–∏–Ω–Ω—ã–µ¬ª (—Ä–µ—Ñ–µ—Ä–µ–Ω—Ç–Ω—ã–µ) –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

- –¥–ª—è –Ω–∞—á–∞–ª–∞ –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å —Ä–µ—Ñ–µ—Ä–µ–Ω—Ç–Ω—ã–º–∏:

  - —Ç–µ, —á—Ç–æ –ø–æ–ª—É—á–∞—é—Ç—Å—è –ø—Ä–∏ –ø—Ä—è–º–æ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –Ω–∞ –≤—Å—ë–º World'–µ (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π OBS),
  - –ª–∏–±–æ –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä–µ–º–∏—Ç—å—Å—è –∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –º–∞–ª–æ–º—É –æ—Å—Ç–∞—Ç–æ—á–Ω–æ–º—É —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—é –≤ –µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–∏.

–í–∞—Ä–∏–∞–Ω—Ç A (—Å–∞–º–æ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å):

- –í—ã—á–∏—Å–ª—è–µ–º —Å—Ä–µ–¥–Ω—é—é –æ—à–∏–±–∫—É —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –≤ –µ–≥–æ –¥–∞–Ω–Ω—ã—Ö:

  ```python
  err_field = mean_squared_error(œÜ_tt, Œ∫_hat * œÜ_xx - m2_hat*œÜ - Œª_hat*œÜ**3)
  ```

- –ù–æ—Ä–º–∏—Ä—É–µ–º:

  ```python
  fitness_field = exp(- err_field / œÉ_field)
  ```

  –≥–¥–µ œÉ_field ‚Äî –º–∞—Å—à—Ç–∞–± (–ø–æ–¥–±–∏—Ä–∞–µ—Ç—Å—è).

## 2.2. –ö–∞—á–µ—Å—Ç–≤–æ –∑–∞–∫–æ–Ω–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

–ò–∑ `sem_state['conservation']`:

- –º—ã —É–∂–µ —Ö—Ä–∞–Ω–∏–º –±–∏–Ω–∞—Ä–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä (1.0 –∏–ª–∏ 0.0) –ø–æ Q –∏ mass.

–ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å:

- ŒîQ_norm = ŒîQ / (|Q_total(0)|+1),
- ŒîM_norm = ŒîM / (|mass_total(0)|+1),

–∏ –∑–∞–¥–∞—Ç—å:

```python
fitness_Q    = exp(- ŒîQ_norm / œÉ_Q)
fitness_mass = exp(- ŒîM_norm / œÉ_M)
```

–ì–¥–µ œÉ_Q, œÉ_M ‚Äî –ø–æ—Ä–æ–≥–∏.

## 2.3. Observation Time (t_OT) –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å–µ–º–∞–Ω—Ç–∏–∫–∏

–ò–∑ Meaning_v1 (–≥–ª. 8):

- Observation Time t_OT –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫ –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã Œ∏_t) –ø–µ—Ä–µ—Å—Ç–∞—é—Ç –º–µ–Ω—è—Ç—å—Å—è –≤—ã—à–µ –ø–æ—Ä–æ–≥–∞ Œµ:

\[
t_{OT} = \min\{t : \|\theta_{t+1} - \theta_t\| < \epsilon, \ \forall t' > t : \|\theta_{t'+1}-\theta_{t'}\| < \epsilon\}.
\]

–£ –Ω–∞—Å Œ∏_t ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è:

- –ù–∞–ø—Ä–∏–º–µ—Ä, \(\theta_t = (\kappa_hat(t), m2_hat(t), \lambda_hat(t))\).

–ê–ª–≥–æ—Ä–∏—Ç–º:

```python
def compute_OT(theta_history, eps):
    # theta_history: list of np.array or tuples [Œ∏_0, Œ∏_1, ..., Œ∏_T]
    T = len(theta_history)
    for t in range(T-1):
        if np.linalg.norm(theta_history[t+1] - theta_history[t]) < eps:
            # –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–æ—Å–ª–µ t –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ–≥–¥–∞ < eps
            if all(np.linalg.norm(theta_history[t' + 1] - theta_history[t']) < eps
                   for t' in range(t, T-1)):
                return t
    return T  # –Ω–µ —Å–æ—à–ª–æ—Å—å –¥–æ –∫–æ–Ω—Ü–∞
```

OBSFitness –ø–æ OT:

- —á–µ–º –º–µ–Ω—å—à–µ t_OT, —Ç–µ–º –ª—É—á—à–µ OBS –±—ã—Å—Ç—Ä–æ ¬´–ø–æ–Ω–∏–º–∞–µ—Ç¬ª –º–∏—Ä:

  ```python
  fitness_OT = exp(- t_OT / T_scale)
  ```

–≥–¥–µ T_scale ‚Äî –¥–æ–ª—è –æ—Ç –æ–±—â–µ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä `T_scale = 0.25 * T_total`.

## 2.4. –ö–∞—á–µ—Å—Ç–≤–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã—Ö –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π

–î–ª—è —Ä–µ–¥–∫–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏—Ö—Å—è —Å–æ–±—ã—Ç–∏–π (—Ä–∞—Å–ø–∞–¥—ã/—Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è Œ©):

- OBS —Å–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–æ–±—ã—Ç–∏–π `pattern ‚Üí outcomes, P_obs(outcome|pattern)`.

–ï—Å–ª–∏ –º—ã –º–æ–∂–µ–º –ø–æ—Å—Ç—Ä–æ–∏—Ç—å ¬´–∏—Å—Ç–∏–Ω–Ω—É—é¬ª —á–∞—Å—Ç–æ—Ç—É P_true (–Ω–∞ —É—Ä–æ–≤–Ω–µ World), –º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å:

```python
KL = Œ£_{patterns} Œ£_{outcomes} P_true * log(P_true / P_obs)
fitness_prob = exp(- KL / œÉ_KL)
```

–ù–∞ v1 –º–æ–∂–Ω–æ –ø—Ä–æ—â–µ:

- –ø—Ä–æ–≤–µ—Ä—è—Ç—å **–∫–∞–ª–∏–±—Ä–æ–≤–∫—É** –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π: –µ—Å–ª–∏ OBS –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∏—Å—Ö–æ–¥–∞ ~p, —Ç–æ –≤ —á–∞—Å—Ç–æ—Ç–µ —Å–∏–º—É–ª—è—Ü–∏–π –¥–æ–ª—è —Å–æ–≤–ø–∞–¥–∞–µ—Ç –∫–æ—Ä–µ–ª–ª—è—Ü–∏–æ–Ω–Ω–æ.

---

## 2.5. –ò—Ç–æ–≥–æ–≤–∞—è OBSFitness

–°–æ–±–∏—Ä–∞–µ–º —á–∞—Å—Ç–∏—á–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ –æ–¥–Ω—É:

```python
def compute_OBSFitness(obs: Observer, world: World, m5_traj: List[M5State]):
    # –í—ã—á–∏—Å–ª—è–µ–º:
    fitness_field  = ...
    fitness_Q      = ...
    fitness_mass   = ...
    fitness_OT     = ...
    fitness_prob   = ...

    # –í–∑–≤–µ—à–µ–Ω–Ω–∞—è —Å—É–º–º–∞ –∏–ª–∏ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:
    w_field, w_Q, w_mass, w_OT, w_prob = 1.0, 1.0, 0.5, 1.0, 1.0

    score = (w_field * fitness_field +
             w_Q     * fitness_Q +
             w_mass  * fitness_mass +
             w_OT    * fitness_OT +
             w_prob  * fitness_prob) / (w_field + w_Q + w_mass + w_OT + w_prob)
    return score
```

OBSFitness –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç:

- –Ω–∞—Å–∫–æ–ª—å–∫–æ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å:

  - –≤—ã–≤–µ–ª —É—Å—Ç–æ–π—á–∏–≤–æ–µ –ø–æ–ª–µ–≤–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ (field_eq),
  - –æ–±–Ω–∞—Ä—É–∂–∏–ª –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –∑–∞–∫–æ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è,
  - –ø—Ä–∏—à—ë–ª –∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Å–µ–º–∞–Ω—Ç–∏–∫–µ –∑–∞ —Ä–∞–∑—É–º–Ω–æ–µ OT,
  - –∞–¥–µ–∫–≤–∞—Ç–Ω–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–ª –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–µ –∏—Å—Ö–æ–¥—ã.

–í –¥–∞–ª—å–Ω–µ–π—à–µ–º —ç—Ç–æ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫ –ª–æ–≥–∞—Ä–∏—Ñ–º –ø—Ä–∞–≤–¥–æ–ø–æ–¥–æ–±–∏—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏), –Ω–æ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞ —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.

---

## 2.6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OBSFitness –≤ —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫

–¢–µ–∫—É—â–∞—è SMFitness –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç RULESET –ø–æ:

- Œ©‚Äëdiversity,
- cycle_count,
- charge_conservation,
- stability,
- interaction_richness.

–†–∞—Å—à–∏—Ä—è–µ–º –¥–æ:

```python
TotalFitness = Œ± * SMFitness + Œ≤ * OBSFitness
```

–≥–¥–µ:

- Œ±,Œ≤ ‚Äî –≤–µ—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–Ω–∞—á–∞–ª–∞ Œ±>>Œ≤, –ø–æ—Ç–æ–º –Ω–∞ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —ç—Ç–∞–ø–∞—Ö –≤—ã—Ä–∞–≤–Ω–∏–≤–∞—Ç—å).

–≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫:

- –≤–∞—Ä—å–∏—Ä—É–µ—Ç:

  - RULESET (–º–∏–∫—Ä–æ–¥–∏–Ω–∞–º–∏–∫–∞),
  - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã OBS (–ø–æ–∑–∏—Ü–∏—è, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Œ†_obs, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã regressor‚Äô–æ–≤ –∏ —Ç.–ø.),

- –º–∞–∫—Å–∏–º–∏–∑–∏—Ä—É–µ—Ç TotalFitness:
  - ‚áí –Ω–∞–π–¥—ë—Ç —Ç–∞–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ 1D‚Äë–º–∏—Ä–∞ –∏ —Ç–∞–∫–æ–π —Ç–∏–ø –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –ø—Ä–∏ –∫–æ—Ç–æ—Ä—ã—Ö:
    - Œ©‚Äë–∑–æ–æ–ø–∞—Ä–∫ –±–æ–≥–∞—Ç,
    - –∑–∞–∫–æ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—ã–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è,
    - –Ω–æ **—Ç–∞–∫–∂–µ**:
      - OBS –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ, –ø—Ä–æ—Å—Ç—ã–µ –∏ —Ç–æ—á–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è,
      - –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–æ (–º–∞–ª—ã–π OT),
      - –∏ —Å —Ö–æ—Ä–æ—à–µ–π –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç–µ–ª—å–Ω–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–π –º–æ–¥–µ–ª—å—é.

–≠—Ç–æ –∏ –µ—Å—Ç—å —à–∞–≥ –∫ —Ç–æ–º—É, —á—Ç–æ–±—ã —Å–∏–º—É–ª—è—Ç–æ—Ä ¬´–Ω–∞ –≤—ã—Ö–æ–¥–µ¬ª –≤—ã–¥–∞–≤–∞–ª –∑–∞–∫–æ–Ω—ã, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ—Ö–æ–∂–∏–µ –Ω–∞ –Ω–∞—à–∏ SM+GR –∑–∞–∫–æ–Ω—ã **—Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è**.

---

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –¥–∞–ª—å—à–µ –º–æ–∂–Ω–æ:

- –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç IFACE –∏–º–µ–Ω–Ω–æ –≤ —Ç–µ—Ä–º–∏–Ω–∞—Ö 3D (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Hilbert/Z‚Äëorder –∫–æ–¥),
- —Ä–∞—Å–ø–∏—Å–∞—Ç—å –ø—Ä–∏–º–µ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ ¬´—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞¬ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ –ø–∞–¥–∞—é—â–µ–π Œ©‚Äë—á–∞—Å—Ç–∏—Ü–µ–π –≤ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–º –≥—Ä–∞–≤–ø–æ–ª–µ –∏ –≤—ã–≤–æ–¥ –∑–∞–∫–æ–Ω–∞ ¬´—É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –≥—Ä–∞–¥–∏–µ–Ω—Ç—É –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞¬ª),
- –∏–ª–∏ —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å topological layer –ø–æ–≤–µ—Ä—Ö xsem(t) (–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ Œ≤‚ÇÄ,Œ≤‚ÇÅ –¥–ª—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è OBS).

–ù–∏–∂–µ –ø—Ä–æ–¥–æ–ª–∂—É –∏–º–µ–Ω–Ω–æ —Ç—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –æ–±–æ–∑–Ω–∞—á–∏–ª–∏:

1. –§–æ—Ä–º–∞—Ç IFACE –≤ —Ç–µ—Ä–º–∏–Ω–∞—Ö 3D —Å —É—á—ë—Ç–æ–º Meaning_v1 –∏ 1D‚Äë–ø–æ–¥–ª–æ–∂–∫–∏ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Z‚Äëorder/Hilbert).
2. –ü—Ä–∏–º–µ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ ¬´—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞¬ª: –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ –ø–∞–¥–∞—é—â–µ–π Œ©‚Äë—á–∞—Å—Ç–∏—Ü–µ–π –≤ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–º –≥—Ä–∞–≤–ø–æ–ª–µ –∏ –≤—ã–≤–æ–¥ –∑–∞–∫–æ–Ω–∞ –≤–∏–¥–∞ \(a \propto -\nabla \Phi\).
3. –¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å–ª–æ–π –ø–æ–≤–µ—Ä—Ö \(x_\text{sem}(t)\): –∫–∞–∫ —Å—á–∏—Ç–∞—Ç—å \(\beta_0,\beta_1\) –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–∑—ã –ø–æ–Ω–∏–º–∞–Ω–∏—è (10.10 Meaning_v1) –¥–ª—è OBS.

---

## 1. IFACE –∫–∞–∫ 3D‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞–¥ 1D‚Äë–ø–æ–¥–ª–æ–∂–∫–æ–π

–ó–∞–¥–∞—á–∞: OBS –∂–∏–≤—ë—Ç –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ IFACE –∏ ¬´–≤–∏–¥–∏—Ç¬ª –º–∏—Ä –∫–∞–∫ 3D‚Äë–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ + –≤—Ä–µ–º—è, —Ö–æ—Ç—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –º–∏—Ä ‚Äî 1D‚Äë—Ä–µ—à—ë—Ç–∫–∞ —Å RULESET_core.

### 1.1. 1D ‚Üí 3D: —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è ‚Äî Z‚Äëorder (Morton) –∏–ª–∏ Hilbert

–ü—É—Å—Ç—å:

- –¥–ª–∏–Ω–∞ 1D‚Äë—Ä–µ—à—ë—Ç–∫–∏: \(N = X_{\max} \cdot Y_{\max} \cdot Z_{\max}\).
- –±–µ—Ä—ë–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, \(X_{\max}=Y_{\max}=Z_{\max}=32\) ‚Üí \(N = 32768\).

**–í–∞—Ä–∏–∞–Ω—Ç Z‚Äëorder (Morton):**

- –∏–Ω–¥–µ–∫—Å—É i ‚àà [0,N-1] —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Ç—Ä–æ–∏—Ü–∞ (x,y,z) –ø—É—Ç—ë–º ¬´—Ä–∞—Å—â–µ–ø–ª–µ–Ω–∏—è –±–∏—Ç¬ª:

  - i –≤ –¥–≤–æ–∏—á–Ω–æ–º –≤–∏–¥–µ: i = b‚ÇÄ b‚ÇÅ b‚ÇÇ ‚Ä¶ b_{3k-1},
  - –±–∏—Ç—ã –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ –∏–¥—É—Ç –≤ x,y,z:
    - x –ø–æ–ª—É—á–∞–µ—Ç –±–∏—Ç—ã b‚ÇÄ,b‚ÇÉ,b‚ÇÜ,...,
    - y ‚Äî b‚ÇÅ,b‚ÇÑ,b‚Çá,...,
    - z ‚Äî b‚ÇÇ,b‚ÇÖ,b‚Çà,...

–ü—Å–µ–≤–¥–æ–∫–æ–¥ (—Å—É—â–µ—Å—Ç–≤—É—é—Ç –≥–æ—Ç–æ–≤—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Morton encode/decode):

```python
def morton_decode(i: int) -> tuple[int,int,int]:
    x = compact_bits(i, 0)
    y = compact_bits(i, 1)
    z = compact_bits(i, 2)
    return x,y,z
```

–ì–¥–µ `compact_bits` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è, –∏–∑–≤–ª–µ–∫–∞—é—â–∞—è –∫–∞–∂–¥—ã–π —Ç—Ä–µ—Ç–∏–π –±–∏—Ç, –Ω–∞—á–∏–Ω–∞—è —Å offset.

**–ü–æ—á–µ–º—É Z‚Äëorder:**

- —Ö–æ—Ä–æ—à–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å: —Å–æ—Å–µ–¥–Ω–∏–µ i –æ–±—ã—á–Ω–æ ‚Üí –±–ª–∏–∑–∫–∏–µ (x,y,z);
- –≥–æ—Ä–∞–∑–¥–æ –ø—Ä–æ—â–µ, —á–µ–º Hilbert, –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

–ï—Å–ª–∏ –ø–æ–∑–∂–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –µ—â—ë –ª—É—á—à–∞—è –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ Hilbert‚Äë–∫—Ä–∏–≤—É—é (—Ç–∞–º –∞–ª–≥–æ—Ä–∏—Ç–º —Å–ª–æ–∂–Ω–µ–µ, –Ω–æ –∏–¥–µ—è —Ç–∞ –∂–µ: –±–∏–µ–∫—Ü–∏—è i‚Üî(x,y,z) —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –±–ª–∏–∑–æ—Å—Ç—å).

### 1.2. IFACE‚Äë–æ–±—ä–µ–∫—Ç—ã: –∫–∞–∫ Œ©‚Äë—Ü–∏–∫–ª—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ 3D

–ö–∞–∂–¥—ã–π –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π Œ©‚Äë—Ü–∏–∫–ª (—á–∞—Å—Ç–∏—Ü–∞) –æ–ø–∏—Å–∞–Ω:

```python
OmegaCycle:
    id
    period
    support   # –∏–Ω–¥–µ–∫—Å—ã i
    patterns
    mass
    Q
```

–ü–æ–∑–∏—Ü–∏—è –≤ 1D ‚Äî —Ü–µ–Ω—Ç—Ä –º–∞—Å—Å support:

```python
i_center = int(np.mean(omega.support))
x,y,z = morton_decode(i_center)
```

–°–∫–æ—Ä–æ—Å—Ç—å (–¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞):

- —Ö—Ä–∞–Ω–∏–º –ø—Ä–µ–¥—ã–¥—É—â—É—é –ø–æ–∑–∏—Ü–∏—é `pos_prev[id]`,
- —Å–∫–æ—Ä–æ—Å—Ç—å:

```python
vx = (x - x_prev) / Œît
vy = (y - y_prev) / Œît
vz = (z - z_prev) / Œît
```

**IFACEObject:**

```python
@dataclass
class IFACEObject:
    id: int
    type: str            # –∫–ª–∞—Å—Ç–µ—Ä Œ©-—Ç–∏–ø–æ–≤ (e.g. 'OmegaType1')
    mass: float
    Q: float
    pos: tuple[float,float,float]
    vel: tuple[float,float,float]
```

### 1.3. IFACE‚Äë–ø–æ–ª–µ: \(\phi(x,y,z)\) –∏ \(C(x,y,z)\)

–ò–º–µ—è:

- œï_R(i): coarse‚Äë–ø–æ–ª–µ –ø–æ 1D,
- capacity C_i(S): –ª–æ–∫–∞–ª—å–Ω–∞—è —ë–º–∫–æ—Å—Ç—å,

–ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞–µ–º —ç—Ç–æ –≤ 3D:

```python
phi_grid = np.zeros((X_max, Y_max, Z_max))
C_grid   = np.zeros((X_max, Y_max, Z_max))

for i in range(N):
    x,y,z = morton_decode(i)
    phi_grid[x,y,z] = œï_R[i]
    C_grid[x,y,z]   = C_i[i]
```

**IFACEField:**

```python
@dataclass
class IFACEField:
    phi: np.ndarray     # [X_max,Y_max,Z_max]
    C: np.ndarray       # [X_max,Y_max,Z_max]
```

OBS –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å `IFACEState`:

```python
@dataclass
class IFACEState:
    t: int
    objects: list[IFACEObject]
    field: IFACEField
```

–≠—Ç–æ –∏ –µ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç ¬´–≤–∏–¥–∏–º–æ–≥–æ –º–∏—Ä–∞¬ª OBS.

---

## 2. –ü—Ä–∏–º–µ—Ä —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞: ¬´–ø–∞–¥–µ–Ω–∏–µ¬ª Œ©‚Äë—á–∞—Å—Ç–∏—Ü—ã –≤ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–º –≥—Ä–∞–≤–ø–æ–ª–µ

–¶–µ–ª—å: –ø–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ OBS –º–æ–∂–µ—Ç *–∏–Ω–¥—É–∫—Ç–∏–≤–Ω–æ* –≤—ã–≤–µ—Å—Ç–∏ –∑–∞–∫–æ–Ω –≤–∏–¥–∞:

\[
\vec{a}(\mathbf{x}) \approx -\nabla \Phi(\mathbf{x}), \quad \Phi \equiv \text{—Ñ—É–Ω–∫—Ü–∏—è –æ—Ç } \phi, C,
\]

–≥–¥–µ \(\Phi\) ‚Äî —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å capacity/–ø–æ–ª–µ–º.

### 2.1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞: —Å–æ–∑–¥–∞—Ç—å ¬´–º–∞—Å—Å—É/–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª¬ª –≤ –º–∏—Ä–µ

–í —Å–∏–º—É–ª—è—Ç–æ—Ä–µ:

1. –°–æ–∑–¥–∞—Ç—å –≤ World –æ–±–ª–∞—Å—Ç—å —Å **–ø–æ–≤—ã—à–µ–Ω–Ω—ã–º tension** (H_micro) –∏ –ø–æ–Ω–∏–∂–µ–Ω–Ω–æ–π capacity C:

   - –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±–ª–∞—Å—Ç—å –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É–∑–ª–æ–≤ —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏, –±–æ–≥–∞—Ç—ã—Ö —á–µ—Ä–µ–¥–æ–≤–∞–Ω–∏—è–º–∏ `+-` ‚Üí –±–æ–ª—å—à–æ–π H_local, –º–∞–ª–µ–Ω—å–∫–∏–π C_i;
   - –≤ 3D —ç—Ç–æ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ ¬´—à–∞—Ä¬ª —Å –ø–æ–Ω–∏–∂–µ–Ω–Ω–æ–π capacity.

2. –≠—Ç–æ ‚Äî –∞–Ω–∞–ª–æ–≥ –º–∞—Å—Å–∏–≤–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ / –≥—Ä–∞–≤–∏—Å—Ç–∏—á–µ—Å–∫–æ–π —è–º—ã.

–†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è:

```python
def create_mass_region(world: World, center_i: int, width: int):
    # —Å–æ–∑–¥–∞—ë–º –ø–∞—Ç—Ç–µ—Ä–Ω —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º - –≤ –∏–Ω—Ç–µ—Ä–≤–∞–ª–µ [center_i-width, center_i+width]
    for i in range(center_i-width, center_i+width+1):
        if 0 <= i < world.N:
            world.S[i] = -1  # –∏–ª–∏ —á–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ +-+- –¥–ª—è –±–æ–ª–µ–µ —Å–∏–ª—å–Ω–æ–≥–æ H
    world.update_fields()
```

### 2.2. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–π Œ©‚Äë—á–∞—Å—Ç–∏—Ü—ã

1. –ù–∞–π—Ç–∏ Œ©‚Äë—Ç–∏–ø (–∏–∑ œâ_catalog) —Å –Ω–µ–±–æ–ª—å—à–æ–π –º–∞—Å—Å–æ–π (–∫–æ—Ä–æ—Ç–∫–∏–π –ø–µ—Ä–∏–æ–¥) ‚Üí ¬´—Ç–µ—Å—Ç‚Äë—á–∞—Å—Ç–∏—Ü–∞¬ª.
2. –°–æ–∑–¥–∞—Ç—å –µ—ë –≤ –≤–∏–¥–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä–æ–º i_start, —á—É—Ç—å –≤—ã—à–µ ¬´–º–∞—Å—Å–æ–≤–æ–π –æ–±–ª–∞—Å—Ç–∏¬ª.

```python
def place_test_particle(world: World, omega_pattern, i_start):
    # –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–π support Œ©-—Ü–∏–∫–ª–∞ –≤ S, –Ω–µ —Ä–∞–∑—Ä—É—à–∞—è –≤–∞–∫—É—É–º–∞ –≤–Ω–µ
    support = omega_pattern.support
    for offset, val in zip(support, omega_pattern.patterns[0]):
        idx = i_start + (offset - np.mean(support))
        idx = int(idx)
        if 0 <= idx < world.N:
            world.S[idx] = val
    world.update_fields()
```

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å:

- –±–æ–ª—å—à–æ–π ¬´–º–∞—Å—Å–æ–≤—ã–π —Ä–µ–≥–∏–æ–Ω¬ª (—à–∞—Ä –ø–æ–Ω–∏–∂–µ–Ω–Ω–æ–π C),
- –ª—ë–≥–∫–∞—è Œ©‚Äë—á–∞—Å—Ç–∏—Ü–∞ –≥–¥–µ‚Äë—Ç–æ —Ä—è–¥–æ–º.

### 2.3. –ù–∞–±–ª—é–¥–µ–Ω–∏–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –≤ IFACE

OBS:

1. –í –∫–∞–∂–¥–æ–º —à–∞–≥–µ:

   ```python
   world.step()
   world.detect_omegas()
   xsens, IFACE_t = obs.observe(world)
   ```

2. –î–ª—è —Ç–µ—Å—Ç‚Äë—á–∞—Å—Ç–∏—Ü—ã:

   - –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –µ—ë –ø–æ `id` –≤ `IFACE_t.objects`;
   - –∑–∞–ø–∏—Å–∞—Ç—å:

     ```python
     track_x[t]  = obj.pos[0]
     track_y[t]  = obj.pos[1]
     track_z[t]  = obj.pos[2]
     ```

3. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª \(\Phi\) –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—é C –∏–ª–∏ œï:

   - –Ω–∞–ø—Ä–∏–º–µ—Ä:

     ```python
     Phi_grid[x,y,z] = f(C_grid[x,y,z]) = C0 - C[x,y,z]
     ```
     (–±–æ–ª—å—à–µ C0‚àíC ‚Üí –≥–ª—É–±–∂–µ ¬´—è–º–∞¬ª).

### 2.4. –í—ã–≤–æ–¥ –∑–∞–∫–æ–Ω–∞ \(a \propto -\nabla \Phi\)

–ü–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ (x(t),y(t),z(t)):

1. –û—Ü–µ–Ω–∏—Ç—å —É—Å–∫–æ—Ä–µ–Ω–∏–µ:

   ```python
   vx[t] = (x[t+1] - x[t-1]) / (2*Œît)
   ax[t] = (x[t+1] - 2*x[t] + x[t-1]) / (Œît**2)
   # —Ç–æ –∂–µ –¥–ª—è y,z
   ```

2. –û—Ü–µ–Ω–∏—Ç—å –≥—Ä–∞–¥–∏–µ–Ω—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞ –≤ –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏:

   ```python
   grad_Phi_x[t] = (Phi[x+1,y,z] - Phi[x-1,y,z]) / (2*Œîx)
   ```

3. –ü–æ–¥–æ–≥–Ω–∞—Ç—å (—Ä–µ–≥—Ä–µ—Å—Å–∏–µ–π):

   \[
   a_x(t) \approx -Œ≥ \cdot \partial_x \Phi(x(t)),\quad a_y, a_z –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ
   \]

   –ü—Å–µ–≤–¥–æ–∫–æ–¥:

   ```python
   X = []
   Y = []
   for t in valid_range:
       X.append([-grad_Phi_x[t]])
       Y.append(ax[t])
   Œ≥_hat, *_ = np.linalg.lstsq(np.array(X), np.array(Y), rcond=None)
   ```

4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—é:

   ```python
   corr = np.corrcoef(ax, -grad_Phi_x)[0,1]
   ```

–ï—Å–ª–∏ corr –±–ª–∏–∑–∫–∞ –∫ 1, Œ≥_hat —Å—Ç–∞–±–∏–ª—å–Ω–∞, OBS –º–æ–∂–µ—Ç –∑–∞–ø–∏—Å–∞—Ç—å –≤ `sem_state`:

```python
sem_state['gravity_law'] = {
    'gamma': Œ≥_hat,
    'corr': corr
}
```

–ò –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –∫–∞–∫ –∑–∞–∫–æ–Ω:

> ¬´–£—Å–∫–æ—Ä–µ–Ω–∏–µ —á–∞—Å—Ç–∏—Ü—ã –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –º–∏–Ω—É—Å –≥—Ä–∞–¥–∏–µ–Ω—Ç—É –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ Œ¶, —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å capacity¬ª.

–≠—Ç–æ ‚Äî –ø—Ä–∏–º–µ—Ä —Ç–æ–≥–æ, –∫–∞–∫ OBS **–æ—Ü–µ–Ω–æ—á–Ω–æ** –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–∫–æ–Ω, –ø–æ—Ö–æ–∂–∏–π –Ω–∞ \(a = -\nabla Œ¶ / m\).

---

## 3. –¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å–ª–æ–π –ø–æ–≤–µ—Ä—Ö xsem(t): \(\beta_0, \beta_1\) –∏ —Ñ–∞–∑—ã –ø–æ–Ω–∏–º–∞–Ω–∏—è

–ü—Ä–∏–º–µ–Ω—è–µ–º –∏–¥–µ–∏ –∏–∑ –≥–ª–∞–≤—ã 10 Meaning_v1:

- —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ \(S_\text{sem}\) ‚Äî –º–Ω–æ–≥–æ–æ–±—Ä–∞–∑–∏–µ —Å–º—ã—Å–ª–æ–≤;
- —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è xsem(t) –û–ë–° –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ;
- TDA (–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è –≥–æ–º–æ–ª–æ–≥–∏—è) –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ü–µ–Ω–∏–≤–∞—Ç—å:

  - \(\beta_0\) ‚Äî —á–∏—Å–ª–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–≤—è–∑–Ω–æ—Å—Ç–∏ (—Ä–∞–∑–Ω—ã—Ö ¬´–ø–∞—Ä–∞–¥–∏–≥–º¬ª),
  - \(\beta_1\) ‚Äî —á–∏—Å–ª–æ –Ω–µ—Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã—Ö –ø–µ—Ç–µ–ª—å (–ø–∞—Ä–∞–¥–æ–∫—Å–æ–≤/–ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π).

### 3.1. –ö–æ–¥–æ–≤–∫–∞ xsem(t)

–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ OBS (`sem_state`) —É –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å:

```python
sem_state = {
    'field_eq': {'kappa': Œ∫_hat, 'm2': m2_hat, 'lambda': Œª_hat},
    'conservation': {'Q': 0/1, 'mass': 0/1, ...},
    'events': {...},
    'gravity_law': {...},
    ...
}
```

–ù—É–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —ç—Ç–æ –≤ –≤–∏–¥–µ **–≤–µ–∫—Ç–æ—Ä–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤** v(t)‚àà‚Ñù^d:

–ü—Ä–æ—Å—Ç–µ–π—à–∏–π —Å–ø–æ—Å–æ–±:

```python
def sem_to_vector(sem_state) -> np.ndarray:
    v = []
    fe = sem_state.get('field_eq', {})
    v.append(fe.get('kappa',0.0))
    v.append(fe.get('m2',0.0))
    v.append(fe.get('lambda',0.0))
    cons = sem_state.get('conservation', {})
    v.append(cons.get('Q',0.0))
    v.append(cons.get('mass',0.0))
    gl = sem_state.get('gravity_law',{})
    v.append(gl.get('gamma',0.0))
    v.append(gl.get('corr',0.0))
    # –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –µ—â—ë –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    return np.array(v, dtype=float)
```

–¢–æ–≥–¥–∞:

```python
V = [sem_to_vector(s) for s in sem_history]  # —Å–ø–∏—Å–æ–∫ v(t)
```

### 3.2. –°—Ç—Ä–æ–∏–º simplicial complex –∏ —Å—á–∏—Ç–∞–µ–º Œ≤‚ÇÄ,Œ≤‚ÇÅ

–ò—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–æ–¥—ã TDA (Ripser, Gudhi, etc.):

1. –°—Ç—Ä–æ–∏–º Vietoris‚ÄìRips complex –Ω–∞ —Ç–æ—á–∫–∞—Ö V —Å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º d(v·µ¢,v‚±º):

   - –Ω–∞–ø—Ä–∏–º–µ—Ä, –ï–≤–∫–ª–∏–¥–æ–≤–∞ –º–µ—Ç—Ä–∏–∫–∞,
   - –≤—ã–±–∏—Ä–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä Œµ (–∏–ª–∏ –º–∞—Å—à—Ç–∞–±–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª) –∏ —Å—Ç—Ä–æ–∏–º –∫–æ–º–ø–ª–µ–∫—Å Rips(V,Œµ).

2. –°—á–∏—Ç–∞–µ–º –≥–æ–º–æ–ª–æ–≥–∏–∏ H\_0,H\_1 –∏ –±–µ—Ç—Ç–∏‚Äë—á–∏—Å–ª–∞:

   - \(\beta_0\) ‚Äî —á–∏—Å–ª–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–≤—è–∑–Ω–æ—Å—Ç–∏,
   - \(\beta_1\) ‚Äî —á–∏—Å–ª–æ –æ–¥–Ω–æ–º–µ—Ä–Ω—ã—Ö –¥—ã—Ä (–ø–µ—Ç–µ–ª—å).

–ü—Å–µ–≤–¥–æ–∫–æ–¥ (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º ripser / persim):

```python
from ripser import ripser

diagrams = ripser(V)['dgms']  # –¥–∏–∞–≥—Ä–∞–º–º—ã –¥–ª—è H0,H1,...
H0, H1 = diagrams[0], diagrams[1]
Œ≤0 = len(H0)   # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
Œ≤1 = len(H1)   # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ç–µ–ª—å
```

–ï—Å–ª–∏ –¥–µ–ª–∞–µ–º –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—É—é –≥–æ–º–æ–ª–æ–≥–∏—é, –º–æ–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞–∏–±–æ–ª–µ–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã (—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –¥–ª–∏–Ω–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ —Ä–æ–∂–¥–µ–Ω–∏—è‚Äì—Å–º–µ—Ä—Ç–∏).

### 3.3. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è Œ≤‚ÇÄ, Œ≤‚ÇÅ –∏ —Ñ–∞–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è

–ü–æ Meaning_v1 (10.10, 12.7):

- –§–∞–∑–∞ 1: —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ ‚Üí Œ≤‚ÇÄ —Ä–∞—Å—Ç—ë—Ç:

  - OBS –≤–∏–¥–∏—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –Ω–µ—Å–≤—è–∑–Ω—ã—Ö ¬´–º–æ–¥–µ–ª–µ–π¬ª –º–∏—Ä–∞;
  - –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ: —Ä–∞–∑–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (Œ∫_hat,m2_hat,...) –±–µ–∑ —Å–≤—è–∑–∏.

- –§–∞–∑–∞ 2: —Å–∏–Ω—Ç–µ–∑ ‚Üí Œ≤‚ÇÄ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è, Œ≤‚ÇÅ —Ä–∞—Å—Ç—ë—Ç:

  - OBS –Ω–∞—á–∏–Ω–∞–µ—Ç —Å–≤—è–∑—ã–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏, –Ω–æ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø–µ—Ç–ª–∏ (–ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è);
  - —É –Ω–∞—Å: –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω–∫—É—Ä–∏—Ä—É—é—â–∏—Ö –æ–ø–∏—Å–∞–Ω–∏–π –ø–æ–ª—è –∏ –≥—Ä–∞–≤.–∑–∞–∫–æ–Ω–∞, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã.

- –§–∞–∑–∞ 3: —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–µ—Ç–µ–ª—å ‚Üí Œ≤‚ÇÅ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è:

  - OBS –Ω–∞—Ö–æ–¥–∏—Ç –º–µ—Ç–∞‚Äë—É—Ä–æ–≤–µ–Ω—å, —Å–∏–Ω—Ç–µ–∑–∏—Ä—É—é—â–∏–π –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤—ã–µ —á–∞—Å—Ç–∏;
  - —É –Ω–∞—Å: –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ–º—É –Ω–∞–±–æ—Ä—É –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (Œ∫,m2,Œª) –∏ –∑–∞–∫–æ–Ω—É –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è.

- –§–∞–∑–∞ 4: —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è ‚Üí Œ≤‚ÇÄ –∏ Œ≤‚ÇÅ –ø–æ—á—Ç–∏ –Ω–µ –º–µ–Ω—è—é—Ç—Å—è, –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–ø–∏—Å—ã–≤–∞—é—Ç—Å—è:

  - —ç—Ç–æ –∏ –µ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ ¬´EœÑ(O) = O¬ª, –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏—è (18.2.2).

–í —Å–∏–º—É–ª—è—Ç–æ—Ä–µ:

- –º–æ–∂–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Œ≤‚ÇÄ(t),Œ≤‚ÇÅ(t) –ø–æ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–π —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ xsem(t) –∏:

  - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±—É—á–µ–Ω–∏—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è,
  - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É OBSFitness:

    ```python
    # –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–≥—Ä–∞–∂–¥–∞—Ç—å —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏, –≥–¥–µ:
    # Œ≤1 —Å–Ω–∞—á–∞–ª–∞ –ø–æ–≤—ã—à–∞–µ—Ç—Å—è (–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ), –∞ –∑–∞—Ç–µ–º –ø–∞–¥–∞–µ—Ç –∫ 0 (–ø–æ–Ω–∏–º–∞–Ω–∏–µ)
    fitness_topology = f(Œ≤0_history, Œ≤1_history)
    ```

–ü—Ä–æ—Å—Ç–µ–π—à–∏–π –∫—Ä–∏—Ç–µ—Ä–∏–π: –ø–æ –æ–∫–æ–Ω—á–∞–Ω–∏–∏ —Å–∏–º—É–ª—è—Ü–∏–∏:

- `Œ≤1_final`‚âà0, `Œ≤0_final`=1 ‚Üí OBS –ø—Ä–∏—à—ë–ª –∫ –µ–¥–∏–Ω–æ–π –∫–æ–≥–µ—Ä–µ–Ω—Ç–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω–µ ‚Üí —Ö–æ—Ä–æ—à–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ.

---

## 4. –ö–∞–∫ –≤—Å—ë —ç—Ç–æ —Å—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è –∫ —Ü–µ–ª–∏ ¬´–≤—ã–¥–∞—Ç—å –∑–∞–∫–æ–Ω—ã –º–∏—Ä–∞¬ª

–¢–µ–ø–µ—Ä—å —Å–∏–º—É–ª—è—Ç–æ—Ä:

1. –ù–∞ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–º —É—Ä–æ–≤–Ω–µ (World, RULESET_core) —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç 1D‚Äë—Ä–µ—à—ë—Ç–∫—É, —Å—Ç—Ä–æ–∏—Ç:

   - Œ©‚Äë–∫–∞—Ç–∞–ª–æ–≥,
   - –ø–æ–ª—è œï_R,
   - capacity C_i.

2. –ß–µ—Ä–µ–∑ Œ†_obs (IFACE) –¥–∞—ë—Ç OBS:

   - 3D‚Äë–∫–∞—Ä—Ç–∏–Ω–∫—É: –æ–±—ä–µ–∫—Ç—ã (Œ©‚Äë—á–∞—Å—Ç–∏—Ü—ã), –ø–æ–ª–µ Œ¶(x,y,z), ¬´–≤—Ä–µ–º—è¬ª;
   - OBS –≤–∏–¥–∏—Ç —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –ø–æ–ª—è.

3. `update_semantics` OBS:

   - –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –ø–æ–ª–µ–≤–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ \(\partial_t^2œï = Œ∫‚àÇ_x^2œï - m^2œï - Œªœï^3\),
   - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–∫–æ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (Q, mass,...),
   - –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ Œ©‚Äë—Å–æ–±—ã—Ç–∏–π,
   - –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –∑–∞–∫–æ–Ω \(a ‚âà -Œ≥\nabla Œ¶\).

4. –ü–æ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ xsem(t):

   - –º–æ–∂–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–∑—ã –ø–æ–Ω–∏–º–∞–Ω–∏—è (Œ≤‚ÇÄ,Œ≤‚ÇÅ),
   - –∏ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –∫ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ EœÑ(O)=O (—É—Å—Ç–æ–π—á–∏–≤—ã–µ –∑–∞–∫–æ–Ω—ã).

5. OBSFitness:

   - –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ:

     - —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ –∏ —Ö–æ—Ä–æ—à–æ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ,
     - –∑–∞–∫–æ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—ã–¥–µ—Ä–∂–∞–Ω—ã,
     - –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–µ –∑–∞–∫–æ–Ω—ã —Ö–æ—Ä–æ—à–æ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—é—Ç —á–∞—Å—Ç–æ—Ç—É —Å–æ–±—ã—Ç–∏–π,
     - –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å—Ç–∞–ª–æ —É—Å—Ç–æ–π—á–∏–≤—ã–º (–Ω–∏–∑–∫–∏–π OT, Œ≤‚ÇÅ‚Üí0).

6. –≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ (–ø–æ RULESET –∏, –≤–æ–∑–º–æ–∂–Ω–æ, –ø–æ —Ç–∏–ø—É Œ†_obs/OBS):

   - –º–∞–∫—Å–∏–º–∏–∑–∏—Ä—É—è OBSFitness, –∏—â–µ—Ç —Ç–∞–∫–∏–µ –º–∏–∫—Ä–æ‚Äë–ø—Ä–∞–≤–∏–ª–∞ –∏ —Ç–∞–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –ø—Ä–∏ –∫–æ—Ç–æ—Ä—ã—Ö:

     - —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π 1D‚ÄëRSL‚Äë–º–∏—Ä –±–æ–≥–∞—Ç Œ©‚Äë—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π,
     - –∏ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å –≤—ã–≤–æ–¥–∏—Ç ¬´–∫—Ä–∞—Å–∏–≤—ã–µ¬ª, —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ, –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–∫–æ–Ω—ã, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ—Ö–æ–∂–∏–µ –Ω–∞ SM+GR.

–≠—Ç–æ –∏ –µ—Å—Ç—å —Ü–µ–ª–µ–≤–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –ø–æ–ª–Ω—ã–π —Å–∏–º—É–ª—è—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π ¬´–Ω–∞ –≤—ã—Ö–æ–¥–µ¬ª –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∑–∞–∫–æ–Ω—ã —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ **—Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è**, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ —ç–≤–æ–ª—é—Ü–∏—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π.

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –¥–∞–ª—å—à–µ –º–æ–∂–Ω–æ:

- —Å—É–∑–∏—Ç—å—Å—è –∫ –æ–¥–Ω–æ–º—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É ¬´–∑–∞–∫–æ–Ω–æ–ø–æ–¥–æ–±–Ω–æ–º—É¬ª —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É –∏ –ø—Ä–æ–π—Ç–∏ –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –ø–æ—à–∞–≥–æ–≤–æ –≤ –∫–æ–¥–µ;
- –∏–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ OBSFitness —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω –Ω–µ –ø—Ä–æ—Å—Ç–æ ¬´–ª—é–±–æ–π –∑–∞–∫–æ–Ω¬ª –∏—Å–∫–∞–ª, –∞ –∏–º–µ–Ω–Ω–æ –∑–∞–∫–æ–Ω—ã —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, –±–ª–∏–∑–∫–æ–π –∫ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏ (–Ω–∞ —É—Ä–æ–≤–Ω–µ –∑–∞—Ä—è–¥–æ–≤, —Å–ø–µ–∫—Ç—Ä–∞ –º–∞—Å—Å, —Ç–∏–ø–æ–≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π).

